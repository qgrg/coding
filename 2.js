(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{137:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));function a(e){return"".concat("app-ky-coding","-").concat(e)}function r(e){return"".concat("app-ky-coding","-").concat(e)}function c(e,t){return 1===arguments.length&&(t=e,e=""),t?t.split(/\s+/).map((function(t){return r("".concat(e?e+"-":"").concat(t))})).join(" "):t}},159:function(e,t,n){"use strict";(function(e){n.d(t,"l",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"k",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return j}));var a=n(7);function r(){}var c="undefined"!=typeof window?window:void 0!==e?e:{},o=c.setTimeout,i=c.clearTimeout,l=c.setInterval,u=c.clearInterval,s=Object.prototype.toString,d=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===s.call(e)},m=c.requestIdleCallback||c.webkitRequestIdleCallback||c.mozRequestIdleCallback,p=c.cancelIdleCallback||c.webkitCancelIdleCallback||c.mozCancelIdleCallback,f=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame,b=f||function(e){return e(),0},v=c.cancelAnimationFrame||c.webkitCancelAnimationFrame||c.mozCancelAnimationFrame,g=v||r,O={IdleTimeout:Object(a.findUniqueKey)("timeout-idle"),AnimationFrameTimeout:Object(a.findUniqueKey)("timeout-animationFrame")};function y(e,t){var n={type:O.AnimationFrameTimeout};return n.timeoutId=o((function(){n.animationFrameId=b(e)}),t),n}function h(e){e&&e.type===O.AnimationFrameTimeout?(e.timeoutId&&i(e.timeoutId),e.animationFrameId&&g(e.animationFrameId)):i(e)}function j(e){return Promise.resolve().then(e)}}).call(this,n(34))},169:function(e,t,n){"use strict";n.d(t,"g",(function(){return C})),n.d(t,"h",(function(){return k})),n.d(t,"e",(function(){return w})),n.d(t,"b",(function(){return P})),n.d(t,"f",(function(){return I})),n.d(t,"a",(function(){return L})),n.d(t,"c",(function(){return M}));var a=n(163),r=n.n(a),c=n(156),o=n.n(c),i=n(152),l=n.n(i),u=n(153),s=n.n(u),d=n(157),m=n.n(d),p=n(7),f=n(0),b=n.n(f),v=n(179),g=n(278),O=n(279);function y(e){var t=function(e,t){if("object"!==r()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==r()(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r()(t)?t:String(t)}var h=Object(p.component)((function(e){var t=e.loadInfo,n=e.className,a=e.style;return b.a.createElement("div",{className:n,style:a},b.a.createElement("p",null,"component domain:",t.config.domain),b.a.createElement("p",null,"component version:",t.config.version),b.a.createElement("p",null,"component library name:",t.libName))})),j=Object(p.component)((function(){return b.a.createElement("p",null,"async component load function is undefined !")})),E=Object(p.findUniqueKey)("AsyncKey"),N=Object(p.findUniqueKey)("AsyncLoadFunction");function C(e){return!!e&&!!e[E]}var x=Object(p.findUniqueKey)("_asyncLoaderKey"),S=Object(p.findUniqueKey)("OriginCompKey");function k(e,t){if(e)return 1===arguments.length?e[S]||e:(e[S]=t,t)}function w(e){if(e){var t=e[x];if(!t){var n=e[N];t=e[x]=n?n():Promise.resolve(j)}return t.then((function(t){return k(e,t)})),t}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=e.load,a=Object(p.component)((function(n){var r=n[v.b],c=s()(n,[v.b].map(y)),i=Object(p.useState)(!1),u=l()(i,2),d=u[0],f=u[1],g=Object(p.useMemo)((function(){return{Comp:null}}),[]);if(Object(p.useLayoutEffect)(o()(m.a.mark((function e(){var t,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.asyncWrapper)(w(a));case 2:if(t=e.sent,n=l()(t,1),c=n[0],g.Comp=c,!r){e.next=9;break}return e.next=9,p.Observe.apply((function(){r.asyncLoad=!0}));case 9:f(!0);case 10:case"end":return e.stop()}}),e)}))),[]),!d)return null;var O=g.Comp;return O?b.a.createElement(O,c):b.a.createElement(t,{loadInfo:e.loadInfo})}));return a[E]=!0,Object(v.h)(a,!0),a[N]=n,a}function I(e){return"".concat(e.type,",").concat(e.domain||"",",").concat(e.version||"",",").concat(e.libName)}var L={Remote:"Remote",Local:"Local",AsyncLocal:"AsyncLocal"};function M(e){var t,n,a;return"string"==typeof e?n=e:(n=e.libName,a=e.version,t=e.domain),{domain:t,libName:n,version:a}}t.d={registerLocal:g.c,registerAsyncLocal:O.c,Remote:function(e){var t=e.domain,n=e.libName,a=e.version;return{type:L.Remote,domain:t,libName:n,version:a}},Local:g.a,AsyncLocal:O.a}},172:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return P}));var a,r=n(158),c=n.n(r),o=n(231),i=n.n(o),l=n(7),u=n(137),s=n(271),d=n(206);function m(){}var p,f=(p=1,function(){return"".concat(Object(u.b)("node"),"_").concat(p++)}),b=Object(l.findUniqueKey)("renderId"),v=Object(l.findUniqueKey)("renderPath"),g=Object(l.findUniqueKey)("eventHandler"),O=Object(l.findUniqueKey)("CNode"),y=Object(l.findUniqueKey)("nodeHooks"),h=Object(l.findUniqueKey)("lifetime");function j(e,t){var n=e[y];if(n)return n[t]}function E(e,t){var n=e[g][t];return n||(n=e[g][t]=[]),n}var N=Object(l.findUniqueKey)("nodeEnvOptions");function C(e,t){l.Observe.silent((function(){e[N]=t}))}var x=1,S=(a={},c()(a,O,!0),c()(a,"active",(function(e){e||(e=this);var t=this.document;e!==t.activeNode&&(t.activeNode&&(t.activeNode.select=!1),e.select=!0,t.activeNode=e)})),c()(a,"remove",(function(){var e=this.parent;if(e&&e.children){var t=e.children.indexOf(this);e.children.splice(t,1)}})),c()(a,"addEventListener",(function(e,t){var n=this;if(!this[O])throw new Error("method callee is invalid");return l.Observe.silent((function(){var a=E(n,e);"function"==typeof t&&-1===a.indexOf(t)&&a.push(t)})),function(){n.removeEventListener(e,t)}})),c()(a,"removeEventListener",(function(e,t){var n=this;l.Observe.silent((function(){var a=E(n,e),r=a.indexOf(t);-1!==r&&a.splice(r,1)}))})),c()(a,"getEnvOptions",(function(){return(this.document||this)[N]||{designMode:!0}})),c()(a,"getSymbol",(function(e){return((this.document||this).symbols||{})[e]||""})),c()(a,"registerHook",(function(e,t){if("function"!=typeof t)return m;var n=this,a=x++;l.Observe.apply((function(){var r=n[y];r||(r=n[y]={}),r[e]={timestamp:a,fn:t}}));return function(){return l.Observe.apply((function(){var t,r=n[y];r&&(t=r[e])&&t.timestamp===a&&delete r[e]}))}})),a);function k(e){return l.Observe.apply((function(){e.lifetime=Date.now(),l.Observe.silent((function(){!function e(t){t&&t.forEach((function(n){n.lifetime=Date.now(),e(t.children)}))}(e.children)}))}))}function w(e){return!(!e||!e[O])}function P(e,t){return w(e)?e:l.Observe.silent((function(){var n=Object.create(S);return Object.assign(n,{data:{}},e),["generateScript","hooksScript","css"].forEach((function(e){n[e]||(n[e]={origin:""})})),Object(d.e)(n),n[g]={},t&&n.children&&n.children.length>0&&(n.children=n.children.map((function(e){return P(e)}))),n}))}Object.defineProperty(S,"renderId",{get:function(){var e=this,t=this[b];return t||(l.Observe.silent((function(){t=e[b]=f()})),t)}}),Object.defineProperty(S,"lifetime",{get:function(){var e=this,t=this[h];return t||(l.Observe.silent((function(){t=e[h]=Date.now()})),t)},set:function(e){this[h]=e}}),Object.defineProperty(S,"renderPath",{get:function(){var e=this;return l.Observe.silent((function(){var t=e[v],n=function(e){var t=[e.renderId];return e.parent&&(t=[].concat(i()(e.parent.renderPath),[e.renderId])),t}(e);return t&&n.join(",")===t.join(",")||(t=e[v]=n),t}))}}),P.is=w;var I=Object(l.findUniqueKey)("ShadowFlag");P.originNode=function(e){return e?e[I]||e:null},P.isShadowNode=function(e){return!(!e||!e[I])};var L=Object(l.findUniqueKey)("templateRel");P.shadowNode=function(e){return l.Observe.silentWrite((function(){var t=P(e),n=t[b],a=t[v],r=Object.create(S);return l.Observe.silent((function(){Object.assign(r,e)})),delete r.getComponent,r[b]=n,r[v]=a,r[I]=t,Object(d.e)(r),e[L]=r,r=e[L],delete e[L],e.children&&(r.children=e.children.map((function(e){return e=P.shadowNode(e),l.Observe.silent((function(){e.parent=r})),e}))),r}))},P.dispatch=function(e,t,n,a){var r=E(e,t),c=Object(s.a)(t,n);return 0===r.length||r.forEach((function(e){e.call(a,c)})),c}},173:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return N}));var a=n(156),r=n.n(a),c=n(157),o=n.n(c),i=n(233),l=n(0),u=n.n(l),s=n(7),d=n(169),m=(n(398),n(279)),p=n(278);function f(e){return b.apply(this,arguments)}function b(){return(b=r()(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.domain,a=t.version,e.abrupt("return",i.Nodes.loadMeta(n,a));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v={};function g(e){var t=function(e){return"".concat(e.type,",").concat(e.domain,",").concat(e.version)}(e),n=v[t];return n||(n=function(e){return{loadLib:function(t){return r()(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",i.Nodes.load(e.domain,"",t));case 1:case"end":return n.stop()}}),n)})))()}}}(e),v[t]=n),n}var O={};function y(t){var n=t.id,a=O[n];return a||(a=O[n]=Object(d.b)({loadInfo:{config:t,libName:t.libName},load:function(){return function(t,n){return"server"===e.env.NODE_TARGET?Promise.resolve(null):g(t).loadLib(n)}(t,t.libName)}})),a}function h(e){return Object(s.component)((function(t){return u.a.createElement(e,t)}))}function j(e){var t=e.domain,n=e.libName,a=e.version;return Object(s.component)((function(e){return u.a.createElement("p",{style:{padding:6}},u.a.createElement("div",null,"local component not found,component info:"),u.a.createElement("ul",null,u.a.createElement("li",null,"domain:",String(t)),u.a.createElement("li",null,"libName:",String(n)),u.a.createElement("li",null,"version:",String(a))))}))}function E(e){if(e){var t=Object(d.f)(e);return e.type===d.a.Remote?y({id:t,domain:e.domain,version:e.version,libName:e.libName}):e.type===d.a.AsyncLocal?function(e){var t=e.id,n=Object(m.b)(t);return n||(n=Object(m.c)(t,(function(){return Promise.resolve(j(e))}),!1)),n}({id:t,domain:e.domain,version:e.version,libName:e.libName}):function(e){var t=e.id,n=Object(p.b)(t);return n||(n=Object(p.c)(t,j(e),!1)),n}({id:t,domain:e.domain,version:e.version,libName:e.libName})}}function N(e){var t=E(e);return t?Object(d.h)(t):t}}).call(this,n(208))},174:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var a=n(163),r=n.n(a),c=n(137),o={createDragDrop:null,createNodeBounds:null,hooks:{beforePropertyPanelRender:null},components:{},storage:{designKey:Object(c.b)("NodeStorageKey")},menuActions:{newNode:null,openNode:null,saveNode:null,saveAsNode:null},renderTypeParser:{test:function(e){return!1},parse:function(e){return null}}};function i(e,t){var n=e.split(".");e=n.pop();for(var a=o,r=0;r<n.length;r++){var c=n[r];if(!a.hasOwnProperty(c))return;a=a[c]}a.hasOwnProperty(e)&&(a[e]=t)}function l(e,t){e&&("object"===r()(e)?Object.keys(e).forEach((function(t){i(t,e[t])})):i(e,t))}},175:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return g}));n(0);var a=n(225),r=n(196),c=n(172),o=n(7),i=n(174);function l(e){var t,n=e.path,a=e.name,r=e.caption,c=e.children,i=e.symbols;c&&(c=c.map((function(e){return l(e)}))),e.css&&(t={type:e.css.type,flatMode:e.css.flatMode,origin:e.css.origin,runtime:e.css.runtime});var u={path:n,name:a,caption:r,children:c,css:t,symbols:i};return["props","generateScript","hooksScript","expand","componentTypes","accept","dragType","collectConfig","data"].forEach((function(t){u[t]=o.Observe.getOrigin(e,t)})),u}function u(e){var t=l(e),n=function(e){try{var t={};return["imports","script"].forEach((function(n){t[n]=o.Observe.getOrigin(e,n)})),JSON.parse(JSON.stringify(t))}catch(e){}return{}}(e.context);return t.context=n,a.b.ensure(t),delete t.document,t.version=1.1,function(e){var t={};(e.context.imports||[]).forEach((function(e){t[e.path]=!0})),function e(n){t[n.path]=!0,n.children&&n.children.forEach((function(t){e(t)}))}(e),Object.keys(e.componentTypes).forEach((function(n){t[n]||delete e.componentTypes[n]}))}(t),JSON.stringify(t)}function s(e,t){return function e(t,n){var a=t.children;return t=Object(c.a)(t),a&&(t.children=a.map((function(a){return a.parent=t,a.document=t.document||n||t,e(a)}))),t}(e,t)}function d(e){var t=s(JSON.parse(e));return t.document=t,Object(r.a)(t),a.b.ensure(t),t}function m(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",n=arguments.length>1?arguments[1]:void 0,a=localStorage.getItem(i.b.storage.designKey);if(a&&(e=JSON.parse(a)),e&&e.items&&1.1===e.version||(e={version:1.1,items:{}}),1===arguments.length){var r=e.items[t];return r?r.data:null}if("string"!=typeof n)throw new Error("json is invalid type");var c=Object.keys(e.items);c.length>=10&&(c=c.sort((function(t,n){var a=e.items[t],r=e.items[n];return a.time-r.time})),delete e.items[c[0]]),e.items[t]={data:n,time:Date.now()},localStorage.setItem(i.b.storage.designKey,JSON.stringify(e))}function p(e){if(!e)return a.b.create();var t=s("string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){return null}}(e):e);return t.document=t,a.b.ensure(t),Object(r.a)(t),t}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0;return void 0===t&&(t=m(e)),p(t)}var b=0;function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";clearTimeout(b),b=null,m(t,u(o.Observe.getOrigin(e)))}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";b||(b=setTimeout((function(){b=null,v(e,t)}),5e3))}},179:function(e,t,n){"use strict";n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return V})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return B})),n.d(t,"f",(function(){return J})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return Z})),n.d(t,"e",(function(){return Q}));var a,r=n(163),c=n.n(r),o=n(153),i=n.n(o),l=n(154),u=n.n(l),s=n(158),d=n.n(s),m=n(0),p=n.n(m),f=n(20),b=n.n(f),v=n(7),g=n(137),O=n(182),y=n(232),h=n(194),j=n(210),E=Object(v.findUniqueKey)("styleFactory"),N=(a={},d()(a,O.c.Style,(function(e,t){var n=null;return v.Observe.silent((function(){(n=e[E])||(n=Object(v.ConditionCache)((function(e){return"object"===c()(e)?e:e&&(e=String(e).trim())?(e=e.replace(/\n/,""),Object(v.parseStyle)(e)):{}})),Object.defineProperty(e,E,{value:n}))})),n.get(Object(O.e)(e))})),d()(a,O.c.JSON,(function(e,t){var n=Object(O.e)(e),a=t.document.console.script;return Object(y.a)(n,{console:a})})),d()(a,O.c.Module,(function(e,t){var n=Object(h.e)(t,e),a=t.document.console.script;return n(Object(j.b)(j.a.NodeProp,t,e))({console:a})})),d()(a,O.c.Runtime,(function(e,t){var n=(t.document||{}).context;if(n){var a=n.getRuntime();return Object(v.getValueOfObject)(a.data,e.contextKey||"")}})),d()(a,O.c.Parent,(function(e,t){var n=(t.document||{}).context;if(n){var a=n.getRuntime();return Object(v.getValueOfObject)(a.props,e.contextKey||"")}})),a);var C=n(237);function x(e){var t=e.generateScript;if(t)return C.a.script(t)}function S(e){return(e.props||[]).reduce((function(t,n){var a=n.name;if(!a)return t;var r=function(e,t){var n=Object(O.d)(e),a=N[n];return"function"==typeof a?a(e,t):Object(O.e)(e)}(n,e);if(n.ignore)return t;if("style"===a){if(r&&"object"===c()(r))try{r=Object.keys(r).reduce((function(e,t){return e[t.replace(/-([a-zA-Z]?)/g,(function(e,t){return t.toUpperCase()}))]=r[t],e}),{}),t[a]=r}catch(e){}}else t[a]=r;return t}),{})}function k(e){if(!e)throw new Error("argument:node is invalid !");var t={script:x(e),data:{}};return t.script?(t.data=function(e){if(e.generateScript)return Object(h.d)(e)(Object(j.b)(j.a.NodeGenerator,e))()}(e),t):t}var w=n(159),P=n(280),I=n(173),L=n(169),M=n(172),T=n(206),D=n(195),F=n(174),R=n(400);function A(e){var t=function(e,t){if("object"!==c()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==c()(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c()(t)?t:String(t)}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var z=Object(g.b)("__node__00000000e0f"),V=Object(g.a)("render-id"),K=Object(v.findUniqueKey)("componentNodeKey");function q(e,t){if(e)return 1===arguments.length?e[K]:void(2===arguments.length&&(e[K]=t))}function U(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({NodeProp:z,CNode:M.a,createNode:B,renderNode:_,componentNode:q,importComponentType:J,connectRender:ee},F.b)}function B(e){var t=e.component,n=t.propTypes,a=(void 0===n?[]:n).map((function(e){Object.isFrozen(e)||Object.freeze(e);var t,n={name:e.name,caption:e.caption,readonly:e.readonly,ignore:e.ignore,options:e.options,type:Object(O.d)(e),contextKey:e.contextKey},a="function"==typeof e.initialValueFunction?Object(v.safeApply)(e.initialValueFunction):(t=e.initialValue)&&"function"!=typeof t?R(t,!0,!0):t;return Object(O.f)(n,a),n})),r={path:e.path,name:e.name,caption:e.caption,expand:!0,props:a,accept:t.accept,dragType:t.dragType};return Object(M.a)(r)}function J(e,t){var n=e.document;n.componentTypes[e.path]||(n.componentTypes[e.path]=t.component.type)}var G=Object(v.component)((function(e){var t=e.node,n=e.factory;v.Observe.silentWrite((function(){!function(e){var t=e.document.console.script;Object(h.c)(e)(v.Observe.silent((function(){return Object(j.b)(j.a.Hooks,e)})))({console:t})}(t)}));var a,r=t.getEnvOptions();if("function"==typeof n){var c={};Object.defineProperty(c,"scope",{get:function(){return Object(T.b)(t,T.a.Current)()}}),Object.defineProperty(c,"props",{value:{}}),n(c),a=S(t)}else n&&(a=S(t),Object.assign(a,n));var o,i=F.b.renderTypeParser;return(o=i.test(t)?i.parse(t):function(e,t){var n=e.document,a=n.context.getRuntime(),r=a.memory[te]||(a.memory[te]={}),c=n.componentTypes[e.path]||{},o=(l=c,u=l.type,s=l.url,d=l.domain,m=l.version,p=l.libName,"type:".concat(u,",").concat(s||"",",").concat(d||"",",").concat(m||"",",").concat(p)+"(".concat(e.asyncLoad?"loaded":"pending",")")),i=r[o];var l,u,s,d,m,p;i||((i=Object(I.d)(c)).__esModule&&i.default&&(i=i.default),i=ee(i,t),r[o]=i);return i}(t,r))?p.a.createElement(o,u()({},d()({},z,t),a)):null}));function _(e){if(!e)return null;var t=function(){return p.a.createElement(v.MemoComponent,{dep:[e],key:e.renderId+e.lifetime},(function(){return Object(v.useState)(e.asyncLoad),p.a.createElement(p.a.Fragment,null,function(){var t=k(e=Object(M.a)(e)).data;if(!t)return null;var n=e.renderId,a=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0===a?n:"".concat(n,"_").concat(a),c=e;return 0!==a?c=M.a.shadowNode(e):Object(T.c)(e),p.a.createElement(G,{node:c,factory:t,key:r})};return Object(w.g)(t)?t.map((function(e,t){return a(e,t)})):a(t)}())}))};return p.a.createElement(v.MemoComponent,{dep:[e],key:e.renderId},(function(){return t()}))}G.displayName=Object(g.b)("DesignNodeRender");var W=Object(v.findUniqueKey)("spreadNode");function Z(e,t){if(e)return 1===arguments.length?!!e[W]:void(e[W]=!!t)}Object(v.findUniqueKey)("containerCreator");function Y(e){var t=Object(v.component)((function(t){return function(t){var n=t[z],a=t.children,r=i()(t,[z,"children"].map(A));return Z(e)&&(r[z]=n),p.a.createElement(e,r,function(t){return Object(L.g)(e)?null:Object(w.g)(t.children)&&t.children.length>0?t.children.map((function(e){return e?_(e):null})):a}(n))}(t)}));return t.displayName=Object(g.b)("DesignNodeContainer"),t}function $(e){if(e&&e.getComponent){var t=e.getComponent(),n=b.a.findDOMNode(t);n&&(q(n,e),n.setAttribute(V,e.renderId))}}function X(e){var t=Object(v.component)((function(t){var n=t[z],a=Object(v.useComponent)(),r=Object(v.useCallback)((function(){v.Observe.silent((function(){n.getComponent||(n.getComponent=function(){return a})}))}),[n]);r(),Object(P.a)(),Object(v.useLayoutEffect)((function(){var e=n.unmount;return e&&(n.unmount=e-1||0),function(){v.Observe.silent((function(){!function(e){if(e&&e.getComponent){var t=e.getComponent(),n=b.a.findDOMNode(t);n&&(q(n,null),n.removeAttribute(V))}}(n);var e=n.unmount||0;n.unmount=e+1,delete n.getComponent}))}}),[]),Object(v.useLayoutEffect)((function(){return r(),$(n)}),[Number.NaN,n.asyncLoad]);var c=p.a.createElement(e,u()({},t,d()({},V,n.renderId)));return Object(D.b)(n,c)}));return t.displayName=Object(g.b)("DesignNode"),t}function Q(e){if(!e)return null;var t=document.querySelector("[".concat(V,"='").concat(e.renderId,"']"));return t&&q(t)?t:null}function ee(e,t){if(e){var n=e.designContainerCreator||Y,a=U(),r=F.b.createDragDrop,c=n(e,a);return t.designMode&&"function"==typeof r&&!e.preventDefaultDragDrop&&(c=r(c)),o=c,(i=Object(v.component)({componentDidCatch:function(e,t){this.apply({error:e,errorInfo:t})},componentWillReceiveProps:function(){this.sync({error:null,errorInfo:null})},render:function(){var e=this.sync(),t=e.error,n=e.errorInfo,a=this.props;return Object(v.useEffect)((function(){$(a[z])}),[t]),t?p.a.createElement("div",{className:Object(g.a)("component-render-error")},p.a.createElement("h2",null,"Component Render Error"),p.a.createElement("p",{className:Object(g.a)("error-text")},t&&t.toString()),p.a.createElement("div",null,"Component Stack Error Details:"),p.a.createElement("p",{className:Object(g.a)("error-text")},n.componentStack)):p.a.createElement(o,a)}})).displayName=Object(g.b)("DesignErrorRender"),c=X(c=i)}var o,i;return e}var te=Object(v.findUniqueKey)("RenderTypeCache")},182:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u}));var a=n(7),r={String:"String",Number:"Number",Boolean:"Boolean",Style:"Style",Enum:"Enum",JSON:"JSON",Module:"Module",Runtime:"Runtime",Parent:"Parent",Component:"Component"};t.c=r;var c=[{caption:"字符串",key:"String",value:r.String},{caption:"数值",key:"Number",value:r.Number},{caption:"布尔值",keh:"Boolean",value:r.Boolean},{caption:"样式",key:"Style",value:r.Style},{caption:"枚举",key:"Enum",value:r.Enum},{caption:"JSON",key:"JSON",value:r.JSON},{caption:"脚本",key:"Module",value:r.Module},{caption:"运行时",key:"Runtime",value:r.Runtime},{caption:"父组件",key:"Parent",value:r.Parent},{caption:"自定义",key:"Component",value:r.Component,custom:!0}],o=[r.Style,r.Module,r.JSON,r.Runtime,r.Parent];function i(e){return"style"===e.name?-1===o.indexOf(e.type)?r.Style:e.type:e.type||r.String}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.value;return n?(a&&delete a.origin,e.value={origin:t}):(a||(a={}),a.origin=t,e.value=a)}function u(e){return Object(a.getValueOfObject)(e,"value.origin")}var s;s=1},189:function(e,t,n){"use strict";n.d(t,"c",(function(){return a.a})),n.d(t,"b",(function(){return r.d})),n.d(t,"a",(function(){return c.a})),n.d(t,"d",(function(){return o.c})),n.d(t,"e",(function(){return x}));var a=n(173),r=n(169),c=n(251),o=n(182),i=(n(174),n(221)),l=n(163),u=n.n(l),s=n(154),d=n.n(s),m=n(153),p=n.n(m),f=n(0),b=n.n(f),v=n(225),g=n(175),O=n(232),y=n(7),h=n(137),j=n(172),E=n(179);function N(e){var t=function(e,t){if("object"!==u()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==u()(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u()(t)?t:String(t)}var C=Object(y.component)((function(e){var t=e.rootNode,n=e.userProps,a=p()(e,["rootNode","userProps"]),r=n||{},c=r[E.b],o=p()(r,[E.b].map(N));c&&(a.node=c);var l=Object(y.useMemo)((function(){var e=Object(g.a)(t);return e.document=e,v.b.ensure(e),Object(j.d)(e,{designMode:!1}),Object(y.Observe)(e,{autoApply:!0,autoApplyThrottle:!1}).data()}),[t]);return b.a.createElement(i.b,d()({rootNode:l,userProps:o},a))}));C.displayName=Object(h.b)("RuntimeRender");var x=Object(y.component)((function(e){var t=e.json,n=p()(e,["json"]),a=Object(y.useMemo)((function(){return Object(O.a)(t)}),[t]);return b.a.createElement(C,d()({rootNode:a},n))}));x.displayName=Object(h.b)("RuntimeJsonRender")},194:function(e,t,n){"use strict";n.d(t,"e",(function(){return D})),n.d(t,"b",(function(){return F})),n.d(t,"d",(function(){return R})),n.d(t,"c",(function(){return A})),n.d(t,"a",(function(){return H}));var a,r,c,o,i=n(158),l=n.n(i),u=n(7),s=n(159),d=n(232),m=n(272),p=n(173),f=n(20),b=n.n(f),v=n(195),g=n(206);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){};function j(e){return b.a.findDOMNode(e)}var E={setTimeout:s.l,clearTimeout:s.f,setInterval:s.k,clearInterval:s.e,requestIdleCallback:s.j,cancelIdleCallback:s.d,requestAnimationFrame:s.i,cancelAnimationFrame:s.c};var N=[{set:"setTimeout",cancel:"clearTimeout"},{set:"setInterval",cancel:"clearInterval"},{set:"requestAnimationFrame",cancel:"cancelAnimationFrame"},{set:"requestIdleCallback",cancel:"cancelIdleCallback"}];function C(e){var t=[],n={};N.forEach((function(a){var r=function(e,t,n){var a=[],r=function(e){var t=a.indexOf(e);return t>=0&&a.splice(t,1),n.apply(window,arguments)};return{set:function(n,c){var o=t((function(){if(!e.unmount)return"function"==typeof n?n():void 0;r(o)}),c);return a.push(o),o},cancel:r,destroy:function(){a.forEach((function(e){r(e)}))}}}(e,E[a.set],E[a.cancel]),c=r.set,o=r.cancel,i=r.destroy;n[a.set]=c,n[a.cancel]=o,t.push(i)}));return{destroy:function(){t.forEach((function(e){e()}))},context:n}}var x={CommonExecute:Object(u.findUniqueKey)("CommonExecute"),PropExecute:Object(u.findUniqueKey)("PropExecute"),ContextExecute:Object(u.findUniqueKey)("ContextExecute"),GenerateExecute:Object(u.findUniqueKey)("GenerateExecute"),HooksExecute:Object(u.findUniqueKey)("HooksExecute")},S=(a={},l()(a,x.CommonExecute,Object(u.findUniqueKey)("CommonExecuteFactory")),l()(a,x.PropExecute,Object(u.findUniqueKey)("PropExecuteFactory")),l()(a,x.ContextExecute,Object(u.findUniqueKey)("ContextExecuteFactory")),l()(a,x.GenerateExecute,Object(u.findUniqueKey)("GenerateExecuteFactory")),l()(a,x.HooksExecute,Object(u.findUniqueKey)("HooksExecuteFactory")),a),k=(r={},l()(r,x.CommonExecute,Object(u.findUniqueKey)("CommonExecuteInjectModel")),l()(r,x.PropExecute,Object(u.findUniqueKey)("PropExecuteInjectModel")),l()(r,x.ContextExecute,Object(u.findUniqueKey)("ContextExecuteInjectModel")),l()(r,x.GenerateExecute,Object(u.findUniqueKey)("GenerateExecuteInjectModel")),l()(r,x.HooksExecute,Object(u.findUniqueKey)("HooksExecuteInjectModel")),r);function w(e){var t=Object(m.a)(e);return function(n){var a=t[n],r=Object(p.d)(a&&e.document.componentTypes[a.path]);return r.__esModule&&r.default&&(r=r.default),r}}function P(e){return function(t,n){return Object(v.a)(e.document,t,n)}}var I=(c={},l()(c,k[x.CommonExecute],g.a.Current),l()(c,k[x.ContextExecute],g.a.Root),l()(c,k[x.HooksExecute],g.a.Root),l()(c,k[x.GenerateExecute],g.a.Parent),l()(c,k[x.PropExecute],g.a.Current),c);function L(e,t){var n=e[t];n||u.Observe.silent((function(){n=C(e),Object.defineProperty(e,t,{value:n,enumerable:!1})}));var a=e.document.context,r={current:Object(g.b)(e,I[t])};Object.freeze(r);var c={collectData:P(e)},o=n.context||{},i=a.getRuntime(),l={};return Object.defineProperty(l,"data",{value:i.data}),Object.defineProperty(l,"props",{value:i.props}),Object.defineProperty(l,"scope",{get:function(){return r.current()}}),Object.defineProperty(l,"apply",{value:i.apply}),Object.defineProperty(l,"collect",{value:c.collectData}),y({$context:l,Scope:r,require:w(e)},o)}var M=(o={},l()(o,x.CommonExecute,L),l()(o,x.PropExecute,L),l()(o,x.GenerateExecute,L),l()(o,x.ContextExecute,L),l()(o,x.HooksExecute,(function(e,t){return y(y({},L(e,t)),{},{findDOMNode:j,useEffect:u.useEffect,useLayoutEffect:u.useLayoutEffect,useMemo:u.useMemo,useCallback:u.useCallback,useComponent:u.useComponent})})),o);function T(e,t,n){var a=S[t],r=k[t],c=(n=n||e)[a];return c&&c.node===e||u.Observe.silent((function(){(c=Object(u.ConditionCache)((function(n){var a=e[r];a&&a.destroy();var c=h;if(!n)return c;var o=(0,M[t])(e,r);return c=Object(d.b)(n,o)}))).node=e,Object.defineProperty(n,a,{value:c,enumerable:!1,configurable:!0})})),c.get}function D(e,t){return T(e,x.PropExecute,t)}function F(e){return T(e,x.ContextExecute)}function R(e){return T(e,x.GenerateExecute)}function A(e){return T(e,x.HooksExecute)}function H(e){return T(e,x.CommonExecute)}},195:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return S}));var a=n(158),r=n.n(a),c=n(153),o=n.n(c),i=n(156),l=n.n(i),u=n(157),s=n.n(u),d=n(237),m=n(194),p=n(7);function f(e,t,n){var a={origin:n};e[t]=a}function b(e,t){var n=e[t];return n?n.origin:""}var v=Object(p.findUniqueKey)("runtimeCollectionConfig");function g(e){return O.apply(this,arguments)}function O(){return(O=l()(s.a.mark((function e(t){var n,a,r,c,o,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.collectConfig)&&n.enabled){e.next=3;break}return e.abrupt("return",null);case 3:for(a=t.document.console.script,r=n.rules,c=n.render,o=[],i=0;i<r.length;i++)"fn"===(l=r[i]).type&&o.push(Object(p.asyncWrapper)(d.a.compile(l.value,{console:a})));return c&&o.push(Object(p.asyncWrapper)(d.a.compile(c,{console:a}))),e.next=10,Promise.all(o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){var t=e.collectConfig;if(!t)return null;t.enabled||(t[v]=null);var n=t.rules,a=t.render,c=t.parseName,i=(t.disableParseName,o()(t,["rules","render","parseName","disableParseName"]));i.rules=[],i.disableParseName=!1===c;var l=e.document.console.script;return n.forEach((function(t){var n,a=t.value;"fn"===t.type&&(a=Object(m.a)(e)(d.a.script(a))({console:l}));var c=(n={},r()(n,t.type,a),r()(n,"message",t.message),n);i.rules.push(c)})),a&&(i.render=Object(m.a)(e)(d.a.script(a))({console:l})),t[v]=i}function h(e){return j.apply(this,arguments)}function j(){return(j=l()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:y(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=Object(p.findUniqueKey)("defaultCollectGroup"),N=Object(p.findUniqueKey)("validationHolder");function C(e){var t=e.context.getRuntime().memory;return t[N]||(t[N]={})}function x(e,t){var n=function(e){var t=e.collectConfig;return t?t[v]:null}(e);if(n||p.Observe.silent((function(){n=y(e)})),!n||!n.enabled)return t;var a=n,r=a.group,c=(a.enabled,a.name),i=o()(a,["group","enabled","name"]);r=r||E;var l=C(e.document),u=l[r];return u||(u=l[r]=new p.Validation),u.getValidator(c||e.renderId,i)(t)}function S(e,t,n){var a=C(e)[t||E];return a?a.execute(n):Promise.reject("group:".concat(t," not found !"))}},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(7),r=n(172);function c(e){a.Observe.apply((function(){(e=r.a.originNode(e)).active()}))}},206:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f}));var a=n(7),r=Object(a.findUniqueKey)("nodeScope"),c=Object(a.findUniqueKey)("rootScope");function o(e){return e[r]}function i(e){return e[c]}function l(e){a.Observe.silent((function(){e[c]={}}))}function u(e){a.Observe.silent((function(){e[r]={}}))}function s(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,c=e===r,l=c?a.Observe.silent((function(){return o(e)})):o(e),u=c?a.Observe.silent((function(){return l.hasOwnProperty(t)})):l.hasOwnProperty(t);if(u)return c?a.Observe.silent((function(){return l[t]})):l[t];if(n=a.Observe.silent((function(){return e.parent})))return s(n,t,r);var d=i(e);return d[t]}function d(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,c=e===r,l=c?a.Observe.silent((function(){return o(e)})):o(e),u=c?a.Observe.silent((function(){return l.hasOwnProperty(t)})):l.hasOwnProperty(t);if(u)return!0;if(n=a.Observe.silent((function(){return e.parent})))return d(n,t,r);var s=i(e);return s.hasOwnProperty(t)}var m={Current:"Property",Root:"Context",Parent:"Parent"};function p(e){var t=a.Observe.silent((function(){var t=o(e);return{keys:Object.keys(t),scope:t}})),n=t.scope,r=t.keys;a.Observe.apply((function(){r.forEach((function(e){delete n[e]}))}))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.Current;return function(){return t===m.Root?a.Observe.silent((function(){return i(e)})):(t===m.Parent&&(e=a.Observe.silent((function(){return e.parent}))),new Proxy({},{get:function(t,n){return s(e,n)},has:function(t,n){return d(e,n)},set:function(t,n,r){var c=a.Observe.silent((function(){return o(e)}));return a.Observe.apply((function(){c[n]=r})),!0}}))}}},210:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return O}));var a,r=n(158),c=n.n(r),o=n(7),i=n(399);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var u,s,d,m=(u="__CustomFunctionBody__",s=new Function(u),d="",s.toString().split(/\n/).some((function(e,t){if((e=e.trim())===u)return!0;d+=";"}))||(d=";;"),d),p={NodeProp:"NodeProp",NodeGenerator:"NodeGenerator",Context:"Context",Hooks:"Hooks"},f=Object(o.findUniqueKey)("scriptGetter");function b(e,t,n,a){return e?((e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)).sources=[t],e.mappings=m+e.mappings,e.sourcesContent=[n],a+"".concat("\n//# sourceMappingURL=data:application/json;charset=utf8;base64,").concat(Object(i.a)(JSON.stringify(e)))):a}var v=(a={},c()(a,p.NodeProp,(function(e,t){var n=t.value;if(!n)return"";var a=n.runtime;return o.Observe.silent((function(){var r=n[f];return r||(r=n[f]=Object(o.ConditionCache)((function(e,t,n,a){var r=e.sourceMap,c=e.origin;return b(r,"./".concat("vm-sources","/").concat(t,"/props/").concat(n,".js"),c,a)}))),r.get(n,e.renderId,t.name,a)}))})),c()(a,p.NodeGenerator,(function(e){var t=e.generateScript;if(!t)return"";var n=t.runtime;return o.Observe.silent((function(){var a=t[f];return a||(a=t[f]=Object(o.ConditionCache)((function(e,t,n){var a=e.sourceMap,r=e.origin;return b(a,"./".concat("vm-sources","/").concat(t,"/generator.js"),r,n)}))),a.get(t,e.renderId,n)}))})),c()(a,p.Context,(function(e){var t=e.context.script;if(!t)return"";var n=t.runtime;return o.Observe.silent((function(){var a=t[f];return a||(a=t[f]=Object(o.ConditionCache)((function(e,t,n){var a=e.sourceMap,r=e.origin;return b(a,"./".concat("vm-sources","/").concat(t,"/context.js"),r,n)}))),a.get(t,e.renderId,n)}))})),c()(a,p.Hooks,(function(e){var t=e.hooksScript;if(!t)return"";var n=t.runtime;return o.Observe.silent((function(){var a=t[f];return a||(a=t[f]=Object(o.ConditionCache)((function(e,t,n){var a=e.sourceMap,r=e.origin;return b(a,"./".concat("vm-sources","/").concat(t,"/hooks.js"),r,n)}))),a.get(t,e.renderId,n)}))})),a),g=Array.prototype.slice;function O(e){var t=g.call(arguments,1),n=v[e];return n?n.apply({},t):""}},221:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return w}));var a=n(158),r=n.n(a),c=n(156),o=n.n(c),i=n(152),l=n.n(i),u=n(157),s=n.n(u),d=n(0),m=n.n(d),p=n(20),f=n.n(p),b=n(7),v=n(137),g=n(179),O=(n(70),n(494)),y=n(141),h=n(495),j=n(496),E=n(280);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var C=Object(v.a)("root-node-lifecycle"),x=Object(b.component)((function(e){var t=e.rootNode,n=e.node;n&&({}[g.a]=n.renderId);var a=Object(b.useRef)();return Object(b.useEffect)((function(){if(n){var e=a.current;return Object(g.c)(e,n),function(){Object(g.c)(e,null)}}}),[n]),Object(O.a)(t),m.a.createElement("div",{ref:a,className:C},m.a.createElement(j.a,{key:"CSSRender",rootNode:t}),Object(g.g)(t))}));var S=Object(b.component)((function(t){var n=t.rootNode,a=t.userProps,c=n.getEnvOptions();Object(b.useMemo)((function(){c.designMode||function e(t){t.css&&Object(E.b)(t),t.children&&t.children.forEach((function(t){e(t)}))}(n)}),[n,c.designMode]);var i=Object(b.useMemo)((function(){return Object(h.a)(n)}),[n]),u=Object(b.useState)(),d=l()(u,3),p=d[0],f=d[1],v=d[2];return Object(b.useMemo)(o()(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=p="server"===e.env.KY_RENDER_TARGET||0===i.length,v(a),!("server"!==e.env.KY_RENDER_TARGET&&i.length>0)){t.next=5;break}return t.next=5,Object(h.b)(n,i);case 5:a||f(!0);case 6:case"end":return t.stop()}}),t)}))),[i]),Object(b.useLayoutEffect)((function(){if(p&&a){var e=n.context.getRuntime(),t=b.Observe.getOrigin(e.props),c=a?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a):{};Object.keys(t).forEach((function(t){c.hasOwnProperty(t)?(e.props[t]=b.Observe.getOrigin(a,t),delete c[t]):delete e.props[t]})),Object.keys(c).forEach((function(t){e.props[t]=b.Observe.getOrigin(a,t)})),e.apply()}}),[n,p,a]),m.a.createElement(y.Loading,{title:"组件加载中...",iconSize:100,spinning:!p,style:{height:"100%"}},p?m.a.createElement(x,{rootNode:n,key:n.lifetime||"lifetime"}):null)}));S.displayName=Object(v.b)("RootComponent");var k=Object(v.a)("canvas-render-layer"),w=Object(b.component)((function(e){var t=e.rootNode,n=e.userProps,a=Object(b.useRef)();return Object(b.useLayoutEffect)((function(){var e=a.current;return f.a.render(m.a.createElement(S,{rootNode:t,userProps:n}),e),function(){f.a.unmountComponentAtNode(e)}}),[t]),m.a.createElement("div",{className:k,ref:a})}));w.displayName=Object(v.b)("Render")}).call(this,n(208))},225:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return y}));var a=n(158),r=n.n(a),c=n(179),o=n(141),i=n(182),l=n(196),u=n(169),s=n(137),d=n(206),m=n(7),p=1;function f(){return{errors:[],error:function(e){var t=this,n=m.Observe.silent((function(){return t.errors}));m.Observe.apply((function(){n.push({id:p++,data:e}),n.length>50&&n.pop()}))}}}u.d.registerLocal("RenderCanvas",o.Canvas,!0);function b(){var e={path:"/Root",name:"Canvas",caption:"画布",component:{type:u.d.Local({libName:"RenderCanvas"}),propTypes:[{name:"style",type:i.c.Style,initialValue:{backgroundColor:"#fff"}}]}},t=Object(c.d)(e);return t.children=[],O(t),t.context.script={origin:"\n//响应式状态\nObject.assign($context.data,{\n\n});\n//父级属性\nObject.assign($context.props,{\n\n});\n"},t}function v(e){e.children=[]}var g={cssSelector:".".concat(Object(s.b)("__node-css-selector10000100001001_1"))};function O(e){var t=e.context;if(e.symbols||(e.symbols=Object.assign({},g)),t||(t=e.context={}),e.document||(e.document=e),e.styles||(e.styles={}),m.Observe.silent((function(){var e,n,a;t.getRuntime||(t.getRuntime=(e=Object(m.Observe)({data:{},props:{}}),n=e.data(),a={apply:function(t){try{"function"==typeof t&&t()}finally{e.applySync()}},data:n.data,props:n.props,observer:e,memory:{}},function(){return a}))})),e.console={script:f(),style:f()},!e.componentTypes){var n=r()({},"/Root",u.d.Local({libName:"RenderCanvas"}));Object.defineProperty(e,"componentTypes",{value:n,configurable:!1,enumerable:!0,writable:!1})}Object(d.d)(e),t.imports||(t.imports=[])}var y={path:"/Root",config:{from:"@ky-design",name:"Canvas",nameAlias:"MagnetoDesignRootCanvas",type:"default"}};t.b={create:function(){var e=b();return Object(l.a)(e),e},ensure:O}},232:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g}));var a=n(368),r=n.n(a),c=n(231),o=n.n(c),i=n(163),l=n.n(i),u=n(0),s=n.n(u),d=n(7),m=n(159),p={React:s.a,Observe:d.Observe};function f(e,t){if("object"===l()(e))return e;try{return JSON.parse(e)}catch(e){var n=null==t?void 0:t.console;n&&n.error(e),console.error(e)}return null}var b=function(){},v={"@babel/runtime/helpers/interopRequireDefault":n(371),"@babel/runtime/regenerator":n(207),"@babel/runtime/helpers/asyncToGenerator":n(373)};function g(e,t){t=t||{},t=Object.assign({},p,t);var n=Object.keys(t),a={},c=n.map((function(e,n){a[e]=n;var r,c=t[e];return"require"===e&&(r=c,c=function(e){return v.hasOwnProperty(e)?v[e]:r(e)}),c})),i=b;try{var u=["module","exports"].concat(n).concat(e);i=r()(Function,o()(u))}catch(e){console.error("compile error:",e)}return function(e){var t=e=e||{},n=t.params,r=t.execute,o=void 0===r?d.Observe.silentWrite:r,u=t.console,s=t.module,p={exports:void 0},f={},b=c;if(n&&"object"===l()(n)){var v=Object.keys(n);v.length&&(b=[].concat(c),v.forEach((function(e){if(a.hasOwnProperty(e)){var t=a[e];b[t]=n[e]}})))}if(i)try{o((function(){i.apply({},[p,f].concat(b))}))}catch(e){console.error(e),u&&Object(m.h)((function(){u.error(e)}))}return p.exports||(s?f:f.default)}}},237:function(e,t,n){"use strict";var a,r,c=n(156),o=n.n(c),i=n(157),l=n.n(i),u=n(159),s=n(7),d=Object(s.findUniqueKey)("pendingTimeout"),m=o()(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return",a);case 2:return r||(r=n.e(6).then(n.bind(null,941))),e.next=5,r;case 5:return t=e.sent,a=t.compileToCode,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));function p(e,t){if(!e)return"";if(1===arguments.length)return e.runtime;var n=t||{},a=n.code,r=n.map;return e.runtime=a,r&&delete r.sourcesContent,e.sourceMap=r,a}function f(){return(f=o()(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=s.Observe.silent((function(){return t[d]})))&&Object(u.f)(a),e.next=4,m();case 4:return r=e.sent,e.abrupt("return",new Promise((function(e,a){s.Observe.silent((function(){t[d]=Object(u.l)(o()(l.a.mark((function c(){var o,i;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,o=t.origin,c.next=4,r(o,n);case 4:i=c.sent,null!=n&&n.silent?s.Observe.silent((function(){p(t,i)})):p(t,i),e(),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),a(c.t0);case 12:case"end":return c.stop()}}),c,null,[[0,9]])}))),1e3)}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a={script:p,compile:function(e,t){return f.apply(this,arguments)}}},251:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g}));var a=n(163),r=n.n(a),c=n(156),o=n.n(c),i=n(158),l=n.n(i),u=n(157),s=n.n(u),d=n(173),m=n(169);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=["domain","version"];function v(e){return b.forEach((function(t){if(!e.hasOwnProperty(t))throw new Error("ComponentSource ".concat(t," of param is required !"))})),f({},e)}function g(e,t){return O.apply(this,arguments)}function O(){return(O=o()(s.a.mark((function e(t,n){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)(n);case 2:return a=e.sent,c=a.modules||[],e.abrupt("return",c.map((function(e){var c=e.propTypes||[],o=e.caption;return"object"===r()(o)&&(o=o.name),o=o||e.name,{path:"".concat(t.path,"/").concat(e.name),name:e.name,caption:"".concat(e.name," (").concat(o,")"),component:{type:m.d.Remote(f(f({},n),{},{domain:a.namespace,libName:e.name})),propTypes:c}}})).sort((function(e,t){var n=String(e.name),a=String(t.name);return n.charCodeAt(0)-a.charCodeAt(0)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},271:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(7);t.b={DropOver:"dropOver",DropEnter:"dropEnter",DropLeave:"dropLeave",Drop:"drop",Dropped:"dropped"};var r={},c=Object(a.findUniqueKey)("PreventDefault");function o(e,t){var n=Object.create(r);return n.type=e,n.data=t,n}Object.defineProperty(r,"preventDefault",{value:function(){this[c]=!0},configurable:!1,enumerable:!1,writable:!1}),Object.defineProperty(r,"isPreventDefault",{get:function(){return!!this[c]}})},272:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var a=n(7),r=Object(a.findUniqueKey)("importMapKey");function c(e){var t=e.document.context,n=t.imports,a=void 0===n?{}:n,c=t[r],o=[],i=a.reduce((function(e,t){return e[t.name]=t,c&&!c.hasOwnProperty(t.name)&&o.push(t.name),e}),{});return c?(o.forEach((function(e){c[e]=i[e]})),Object.keys(c).forEach((function(e){i.hasOwnProperty(e)?c[e]=i[e]:delete c[e]}))):c=t[r]=i,c}function o(e){return e.document.context[r]||a.Observe.silent((function(){return c(e)}))}},278:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var a=n(163),r=n.n(a),c=n(169),o=n(159);function i(e){var t=Object(c.c)(e);return t.type=c.a.Local,t}var l={};function u(e){return l[e]}function s(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"object"!==r()(e)&&(e={libName:String(e)}),e.type=c.a.Local;var a=Object(c.f)(e);return n?(Object.defineProperty(l,a,{value:t}),t):(l[a]=t,t)}function d(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(o.g)(e)?e.map((function(e){return s(e.typeInfo,e.reference,e.readonly)})):s(e,t,n)}},279:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s}));var a=n(163),r=n.n(a),c=n(169),o=n(159),i={};function l(e){var t=Object(c.c)(e);return t.type=c.a.AsyncLocal,t}function u(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(o.g)(e)?e.map((function(e){return d(e.typeInfo,e.load,e.readonly)})):d(e,t,n)}function s(e){return i[e]}function d(e,t,n){if("function"!=typeof t)throw new Error("arguments should be a function type !");"object"!==r()(e)&&(e={libName:String(e)}),e.type=c.a.AsyncLocal;var a=Object(c.f)(e),o={typeInfo:e,load:t},l=Object(c.b)(o);return n?(Object.defineProperty(i,a,{value:l}),l):(i[a]=l,l)}},280:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var a=n(7),r=n(179),c=n(172);function o(e){var t="";return Object(a.getValueOfObject)(e,"css.flatMode")?t="[".concat(r.a,"='").concat(e.renderId,"']"):function(e){for(var t=[],n=e;n;)i(n)&&t.unshift(n),n=n.parent;return t}(e).forEach((function(e,n){t+="".concat(n>0?" ":"","[").concat(r.a,"='").concat(e.renderId,"']")})),t}function i(e){return e.css&&e.css.runtime}function l(e){var t=e.css;if(!e.unmount&&t&&t.hasOwnProperty("runtime")){var n=e.document,r=t.runtime||"",c=n.styles,i=r?r.replace(new RegExp(e.getSymbol("cssSelector"),"g"),o(e)):"";i?c[e.renderId]={content:i,lifetime:a.Observe.silent((function(){return e.lifetime}))}:delete c[e.renderId]}}function u(e){l(e)}t.a=function(){var e=Object(a.useProps)()[r.b],t=e.document;Object(a.useState)(e.asyncLoad),Object(a.useLayoutEffect)((function(){l(e)}),[e.css&&e.css.runtime,e.css&&e.css.flatMode,e.renderPath]),Object(a.useEffect)((function(){if(!c.a.isShadowNode(e))return function(){var n=e.lifetime;if(t.styles){var a=t.styles,r=a[e.renderId];r&&r.lifetime===n&&delete a[e.renderId]}}}),[])}},306:function(e,t){e.exports={prefix:"antd4-ky-coding",iconPrefix:"antd4-ky-coding-icon"}},313:function(e,t,n){"use strict";n.d(t,"a",(function(){return _a})),n.d(t,"b",(function(){return Wa.e})),n.d(t,"c",(function(){return Ce.b}));var a={};n.r(a),n.d(a,"Tree",(function(){return G})),n.d(a,"Collapse",(function(){return Z})),n.d(a,"CssEditor",(function(){return te})),n.d(a,"JSONEditor",(function(){return re})),n.d(a,"JSEditor",(function(){return ie})),n.d(a,"EditableText",(function(){return me})),n.d(a,"TextEditor",(function(){return X})),n.d(a,"LessEditor",(function(){return be})),n.d(a,"PositionPanel",(function(){return ge})),n.d(a,"HeaderPanel",(function(){return he})),n.d(a,"AbsoluteHeaderPanel",(function(){return Ee}));var r=n(0),c=n.n(r),o=n(7),i=(n(72),n(137)),l=n(141),u=n(144),s=n(163),d=n.n(s),m=n(158),p=n.n(m),f=n(153),b=n.n(f),v={ComponentConfig:Object(o.findUniqueKey)("ComponentConfig"),ComponentNode:Object(o.findUniqueKey)("ComponentNode")},g=n(172),O=n(271),y=n(179),h=n(174),j=n(151);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){var t=function(e,t){if("object"!==d()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==d()(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d()(t)?t:String(t)}function C(e){return{drag:!1,accept:e.accept,drop:function(e,t,n,a){return a.optionType===v.ComponentConfig},onDrop:function(t,n){o.Observe.apply((function(){var a=n.data;if(!g.a.dispatch(e,O.b.Drop,{originEvent:t,config:a}).isPreventDefault){e.hoverStatus=null;var r=function(e,t,n){var a=Object(y.d)(t);return a.document=n.document||n,a.parent=n,Object(y.f)(a,t),a}(0,a,e);e.children?e.children.push(r):e.children=[r],g.a.dispatch(e,O.b.Dropped,{originEvent:t,config:a,node:r})}}))},onDropEnter:function(t,n){o.Observe.apply((function(){g.a.dispatch(e,O.b.Drop,{originEvent:t,config:n.data}).isPreventDefault||(e.hoverStatus={e:t,item:n.data})}))},onDropOver:function(t,n){o.Observe.apply((function(){if(!g.a.dispatch(e,O.b.Drop,{originEvent:t,config:n.data}).isPreventDefault){var a=e.hoverStatus;a?(a.e=t,a.item=n.data):e.hoverStatus={e:t,item:n.data}}}))},onDropLeave:function(t,n){o.Observe.apply((function(){g.a.dispatch(e,O.b.Drop,{originEvent:t,config:n.data}).isPreventDefault||(e.hoverStatus=null)}))}}}Object(h.a)({createDragDrop:function(e){var t=Object(o.component)((function(t){var n=t[y.b],a=t.className,r=b()(t,[y.b,"className"].map(N));r[y.b]=n;var u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:"".concat(a||"")},r);if(g.a.isShadowNode(n))return c.a.createElement(e,u);u.className="".concat(a||""," ").concat(n.hoverStatus?Object(i.a)("container-drop-over"):"");var s=c.a.createElement(e,u),d=Object(o.useMemo)((function(){return C(n)}),[n]);return c.a.createElement(l.DragDrop,{options:d},s)}));return t.displayName=Object(i.b)("DesignDragDrop"),t},createNodeBounds:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(y.e)(t);if(a){var r=j.DOM.getPosition(e,a),c=Object(o.getValueOfObject)(n,"view.width"),i=Object(o.getValueOfObject)(n,"view.height");c=parseFloat(c)||0,i=parseFloat(i)||0;var l=j.DOM.getElementScale(a),u=l.x,s=l.y,d=a.scrollLeft||0,m=a.scrollTop||0,p={x:r.x/u+d,y:r.y/s+m,width:c,height:i};return p}}});var x=n(152),S=n.n(x),k=n(154),w=n.n(k),P=n(156),I=n.n(P),L=n(157),M=n.n(L),T=(n(93),n(159)),D=(n(94),n(95),Object(o.component)((function(e){e.expand;var t=e.className,n=e.icon,a=b()(e,["expand","className","icon"]);return c.a.createElement("div",w()({},a,{className:"".concat(Object(i.a)("comp-icon")," ").concat(t||"")}),c.a.createElement(o.MemoComponent,{dep:[]},(function(){return n})))})));D.displayName=Object(i.b)("Icon");var F=D,R=Object(o.component)((function(e){var t=e.expand,n=e.className,a=b()(e,["expand","className"]),r=c.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1"},c.a.createElement("path",{d:"M917.333333 364.8L851.2 298.666667 512 637.866667 172.8 298.666667 106.666667 364.8 512 768z"}));return c.a.createElement(F,w()({},a,{icon:r,className:"".concat(Object(i.a)("comp-icon-triangle")," ").concat(t?Object(i.a)("comp-icon-triangle-revert"):""," ").concat(n||"")}))}));R.displayName=Object(i.b)("ExpandIcon");var A=R,H=function(e){return e.caption||e.name},z=function(e){return e&&e.children},V=Object(o.findUniqueKey)("loadKey");function K(){}function q(e,t){return U.apply(this,arguments)}function U(){return(U=I()(M.a.mark((function e(t,n){var a,r,c,i,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.load,!t.children&&a){e.next=3;break}return e.abrupt("return");case 3:return(r=t[V])||(r=t[V]="function"==typeof a?a(t):(n||K)(t,a)),t.loading=!0,e.next=8,Object(o.asyncWrapper)(r);case 8:c=e.sent,i=S()(c,1),l=i[0],t.children=Object(T.g)(l)?l:[],t.loading=!1;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=Object(o.component)((function(e){var t=e.node,n=e.level,a=void 0===n?0:n,r=e.tabSize,o=void 0===r?20:r,u=e.defaultLoadNode,s=e.index,d=e.parent,m=e.lineHeight,p=void 0===m?26:m,f=e.paddingLeft,b=void 0===f?6:f,v=e.renderLoading,g=e.showLoading,O=void 0===g||g,y=t.children,h=e.isDirectory||z,j=h(t),E=t.expand,N=a*o+b,C=e.renderNode||H,x="".concat(p,"px");return c.a.createElement("div",{className:Object(i.a)("comp-tree","node")},c.a.createElement("div",{className:"".concat(Object(i.a)("comp-tree","node-content")," ").concat(t.select?Object(i.a)("comp-tree","node-select"):""),style:{paddingLeft:N,lineHeight:x,height:p}},c.a.createElement("div",{style:{lineHeight:x}},j?c.a.createElement(A,{expand:E,onClick:function(){t.expand=!E,t.expand&&q(t,u)}}):null,a?c.a.createElement("span",{style:{width:j?o-6:o+10}}):null),c.a.createElement("div",null,C(t,{level:a}))),function(){if(0===a)return null;var e={marginLeft:(a-1)*o+b};return d.children.length-1===s&&(e.bottom="",e.height=p/2),c.a.createElement("div",{className:Object(i.a)("comp-tree","ver-line"),style:e})}(),O&&t.loading?"function"==typeof v?v():c.a.createElement(l.Loading,{title:"加载中...",iconSize:50,overlayStyle:{backgroundColor:"rgba(0,0,0,0.2)"},style:{height:120},spinning:!0}):E&&j?c.a.createElement("div",{className:Object(i.a)("comp-tree","children")},y&&y.map((function(e,n){return c.a.createElement(B,{key:n,parent:t,index:n,node:e,level:a+1,renderNode:C,isDirectory:h,lineHeight:p,tabSize:o,defaultLoadNode:u,paddingLeft:b,renderLoading:v,showLoading:O})}))):null)}));B.displayName=Object(i.b)("TreeNode");var J=Object(o.component)((function(e){var t=e.className,n=e.node,a=e.renderNode,r=e.isDirectory,o=e.defaultLoadNode,l=b()(e,["className","node","renderNode","isDirectory","defaultLoadNode"]);return c.a.createElement("div",{className:"".concat(Object(i.a)("comp-tree")," ").concat(t||"")},c.a.createElement("div",{className:Object(i.a)("comp-tree","children")},n?[].concat(n).map((function(e,t){return c.a.createElement(B,w()({key:t,node:e,renderNode:a,isDirectory:r,defaultLoadNode:o},l))})):null))}));J.displayName=Object(i.b)("Tree"),J.loadChildren=q;var G=J;n(96);function _(e,t){if(!e)return!0;var n=t.key;return-1===e.indexOf(n)}var W=Object(o.component)((function(e){var t=e.children,n=e.defaultActiveKey,a=e.className,r=e.style,o=[];return Object(T.g)(t)||c.a.isValidElement(t)?[].concat(t).forEach((function(e){if(e){var t=c.a.cloneElement(e,{collapse:_(n,e)});o.push(t)}})):o=null,c.a.createElement("div",{className:"".concat(Object(i.a)("g-collapse")," ").concat(a||""),style:r},o)}));W.displayName=Object(i.b)("Collapse");var Z=W,Y=Object(o.component)((function(e){var t=e.header,n=e.collapse,a=e.children,r=e.className,l=e.style,u=Object(o.useState)(n),s=S()(u,2),d=s[0],m=s[1];return Object(o.useLayoutEffect)((function(){n!==d&&m(n)}),[n]),c.a.createElement("div",{className:"".concat(Object(i.a)("g-collapse-panel")," ").concat(d?Object(i.a)("g-collapse-panel-collapse"):""," ").concat(r||""),style:l},c.a.createElement("header",{className:Object(i.a)("g-collapse-panel-header"),onClick:function(){m(!d)}},c.a.createElement(A,{expand:!d}),t),d?null:c.a.createElement("div",{className:Object(i.a)("g-collapse-panel-content")},a))}));Y.displayName=Object(i.b)("Collapse.Panel"),W.Panel=Y;n(97);var $=Object(o.component)((function(e){var t=e.className,a=e.style,r=e.preLoad,u=e.disabled,s=Object(o.useState)(),d=S()(s,2)[1],m=Object(o.useMemo)((function(){return{EditorComp:null}}),[]);Object(o.useLayoutEffect)(I()(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(4),n.e(12)]).then(n.bind(null,946));case 2:if(t=e.sent,"function"!=typeof r){e.next=6;break}return e.next=6,r();case 6:m.EditorComp=t.default,d(1);case 8:case"end":return e.stop()}}),e)}))),[]);var p=m.EditorComp,f=p?c.a.createElement(p,e):c.a.createElement(l.Loading,{title:"加载中...",iconSize:50,overlayStyle:{backgroundColor:"rgba(0,0,0,0.2)"},spinning:!0});return c.a.createElement("div",{disabled:!!u,className:"".concat(Object(i.a)("text-editor")," ").concat(t||""),style:a},f)}));$.displayName=Object(i.b)("TextEditor");var X=$;function Q(){return Promise.all([n.e(7).then(n.t.bind(null,945,7))])}var ee=Object(o.component)((function(e){e.beforeInit;var t=e.className,n=e.value,a=b()(e,["beforeInit","className","value"]),r=Object(o.useMemo)((function(){return{mode:"css"}}));if("string"!=typeof n)try{n=Object.keys(n).map((function(e){return"".concat(e,":").concat(n[e])})).join(";\n")}catch(e){n=""}return c.a.createElement(X,w()({value:n},a,{options:r,className:"".concat(Object(i.a)("css-editor")," ").concat(t||""),preLoad:Q}))}));ee.displayName=Object(i.b)("CssEditor");var te=ee;function ne(){return Promise.all([n.e(9).then(n.t.bind(null,947,7))])}var ae=Object(o.component)((function(e){e.beforeInit;var t=e.className,n=b()(e,["beforeInit","className"]),a=Object(o.useMemo)((function(){return{mode:"json"}}));return c.a.createElement(X,w()({},n,{options:a,className:"".concat(Object(i.a)("json-editor")," ").concat(t||""),preLoad:ne}))}));ae.displayName=Object(i.b)("JSONEditor");var re=ae;function ce(){return Promise.all([n.e(8).then(n.t.bind(null,948,7)),n.e(10).then(n.t.bind(null,949,7))])}var oe=Object(o.component)((function(e){e.beforeInit;var t=e.className,n=b()(e,["beforeInit","className"]),a=Object(o.useMemo)((function(){return{mode:"jsx"}}));return c.a.createElement(X,w()({},n,{options:a,className:"".concat(Object(i.a)("js-editor")," ").concat(t||""),preLoad:ce}))}));oe.displayName=Object(i.b)("JSEditor");var ie=oe,le=(n(98),Object(o.component)((function(e){e.expand;var t=e.className,n=b()(e,["expand","className"]),a=c.a.createElement("svg",{viewBox:"0 0 1089 1024",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M1062.01504 124.471168 963.208019 25.664192C946.526317 8.982464 923.42857 0 900.330829 0 875.949875 0 854.135341 8.982464 837.453632 25.664192L788.691731 74.426048 788.691731 74.426048 271.558899 591.558912C270.275686 592.842112 268.99248 594.125312 268.99248 595.408512 268.99248 595.408512 268.99248 596.691712 267.709274 596.691712 266.426067 597.974912 266.426067 599.258176 265.142854 600.541376 265.142854 600.541376 265.142854 600.541376 265.142854 601.824576 265.142854 603.107776 265.142854 603.107776 263.859648 604.390976L193.283206 862.315776C190.716794 871.29824 193.283206 881.563904 199.699251 887.979968 204.832083 893.112768 211.248122 895.679168 218.947366 895.679168 221.513786 895.679168 224.080198 895.679168 225.363411 894.395968L484.57143 822.53632C485.854637 822.53632 485.854637 822.53632 487.137843 821.25312L488.42105 821.25312C489.704262 821.25312 490.987469 819.96992 492.270675 818.68672 492.270675 818.68672 493.553882 818.68672 493.553882 817.40352 494.837094 816.12032 496.120301 816.12032 497.403507 814.83712L1013.253133 298.987456 1062.01504 250.225536C1096.661651 216.862144 1096.661651 159.117824 1062.01504 124.471168L1062.01504 124.471168ZM317.754387 813.553856 274.125312 769.9248 303.639098 660.85216 426.827066 784.040128 317.754387 813.553856 317.754387 813.553856ZM328.020051 609.52384 806.65664 130.887232 819.488723 143.719296 863.117792 187.348352 384.481203 665.98496 328.020051 609.52384 328.020051 609.52384ZM478.155386 759.659136 421.694234 703.198016 900.330829 224.561408 956.791981 281.022528 478.155386 759.659136 478.155386 759.659136ZM1023.518797 214.295744 994.005011 243.809536 843.869677 93.674176 874.666669 62.877184C881.082707 56.461184 890.065165 52.61152 900.330829 52.61152 910.596493 52.61152 919.57895 56.461184 925.994989 62.877184L1024.802003 161.684224C1037.634086 177.082688 1037.634086 200.18048 1023.518797 214.295744L1023.518797 214.295744ZM949.09273 476.070144C934.977446 476.070144 922.145363 487.619072 922.145363 503.017536L922.145363 934.175424C922.145363 955.989952 904.180448 973.95488 882.365914 973.95488L153.503757 973.95488C131.689222 973.95488 113.724314 955.989952 113.724314 934.175424L113.724314 204.03008C113.724314 182.215552 131.689222 164.250624 153.503757 164.250624L584.661651 164.250624C598.776941 164.250624 611.609024 152.70176 611.609024 137.303232 611.609024 121.904768 600.060147 110.355904 584.661651 110.355904L153.503757 110.355904C102.175437 110.355904 61.112781 151.41856 61.112781 202.74688L61.112781 931.609024C61.112781 982.937344 102.175437 1024 153.503757 1024L882.365914 1024C933.694234 1024 974.75689 982.937344 974.75689 931.609024L974.75689 503.017536C976.040102 488.902272 964.491226 476.070144 949.09273 476.070144L949.09273 476.070144Z"}));return c.a.createElement(F,w()({icon:a},n,{className:"".concat(Object(i.a)("comp-icon-edit")," ").concat(t||"")}))})));le.displayName=Object(i.b)("ClearIcon");var ue=le;function se(e){return"string"==typeof e?e:"number"!=typeof e||Number.isNaN(e)?"":String(e)}var de=Object(o.component)((function(e){var t=e.className,n=e.style,a=e.onChange,r=e.onModeChange,l=e.type,u=Object(o.useState)(!1),s=S()(u,2),d=s[0],m=s[1],p=Object(o.useState)(se(e.text)),f=S()(p,2),b=f[0],v=f[1],g=Object(o.useState)(""),O=S()(g,2),y=O[0],h=O[1],j=Object(o.useRef)();Object(o.useLayoutEffect)((function(){se(e.content)!==b&&v(e.text)}),[e.text]),Object(o.useLayoutEffect)((function(){j.current&&Object(o.safeApply)((function(){j.current.focus()}))}),[d]);var E=Object(o.useCallback)((function(e){Object(o.safeApply)(r,[e])}),[r]),N="".concat(Object(i.a)("comp-editable-text")," ").concat(t||"");return d?c.a.createElement("input",{ref:j,style:n,className:"".concat(N," ").concat(Object(i.a)("comp-editable-text-input")),value:y,onChange:function(e){var t=e.target.value;h(t,!1)},onBlur:function(){m(d=!1),v(b=y||b),"number"===l&&(b=(b=+b)||0),h(""),Object(o.safeApply)(a,[b]),E(d)}}):c.a.createElement("div",{style:n,className:"".concat(N," ").concat(Object(i.a)("comp-editable-text-content"))},c.a.createElement("div",null,c.a.createElement("span",null,c.a.createElement("span",{className:Object(i.a)("text-content"),title:b},b),c.a.createElement(ue,{className:Object(i.a)("editable-icon"),onClick:function(){m(d=!0),h(b),E(d)}}))))}));de.displayName=Object(i.b)("EditableText");var me=de;function pe(){return Promise.all([n.e(11).then(n.t.bind(null,950,7))])}var fe=Object(o.component)((function(e){e.beforeInit;var t=e.className,n=b()(e,["beforeInit","className"]),a=Object(o.useMemo)((function(){return{mode:"less"}}));return c.a.createElement(X,w()({},n,{options:a,className:"".concat(Object(i.a)("less-editor")," ").concat(t||""),preLoad:pe}))}));fe.displayName=Object(i.b)("LessEditor");var be=fe,ve=(n(99),Object(o.component)((function(e){var t=e.bounds,n={x:0,y:0,width:0,height:0};return t&&Object.assign(n,t),c.a.createElement("div",{className:Object(i.a)("node-position-panel")},c.a.createElement("div",{className:Object(i.a)("node-position-row")},c.a.createElement("div",null,c.a.createElement("div",null,"坐标-X"),c.a.createElement("div",{className:Object(i.a)("position-text-wrapper")},c.a.createElement(me,{type:"number",text:n.x,onChange:function(e){t.x=e}}))),c.a.createElement("div",null,c.a.createElement("div",null,"坐标-Y"),c.a.createElement("div",{className:Object(i.a)("position-text-wrapper")},c.a.createElement(me,{type:"number",text:n.y,onChange:function(e){t.y=e}})))),c.a.createElement("div",{className:Object(i.a)("node-position-row")},c.a.createElement("div",null,c.a.createElement("div",null,"宽度"),c.a.createElement("div",{className:Object(i.a)("position-text-wrapper")},c.a.createElement(me,{type:"number",text:n.width,onChange:function(e){t.width=e}}))),c.a.createElement("div",null,c.a.createElement("div",null,"高度"),c.a.createElement("div",{className:Object(i.a)("position-text-wrapper")},c.a.createElement(me,{type:"number",text:n.height,onChange:function(e){t.height=e}})))))})));ve.displayName=Object(i.b)("PositionPanel");var ge=ve,Oe=(n(100),Object(i.a)("header-panel-title")),ye=Object(o.component)((function(e){var t=e.title,n=e.children,a=e.className,r=e.titleClassName,o=e.style;return c.a.createElement("div",{className:"".concat(Object(i.a)("header-panel")," ").concat(a||""),style:o},c.a.createElement("header",{className:"".concat(Oe," ").concat(r||"")},c.a.createElement("div",null,t)),c.a.createElement("div",{className:Object(i.a)("header-panel-content")},n))})),he=ye;ye.displayName=Object(i.b)("HeaderPanel");var je=1,Ee=Object(o.component)((function(e){var t=e.title,n=e.children,a=e.className,r=e.wrapperClassName,u=e.bound,s=e.minWidth,d=e.minHeight,m=e.canvas,p=e.resizeIndex,f=e.proxyElement,b=Object(o.useMemo)((function(){return Object.assign({},{x:0,y:0,width:360,height:"80vh"},u)}),[]),v=Object(l.useBehavior)(b),g=Object(o.useMemo)((function(){return je++}),[]),O=v.data(),y=Object(o.useCallback)((function(){m&&(m.placeholder={x:O.x,y:O.y,width:O.width,height:O.height})}),[m,O]),h=Object(o.useCallback)((function(){m&&(m.placeholder=null)}),[m]);Object(o.useLayoutEffect)((function(){u&&(Object.assign(O,u),v.applySync())}),[u]);var j=Object(i.a)("header-panel-title-abs_".concat(g));Object(l.useDragNode)(v,{proxyElement:f||document.body,onDragNodeStart:function(){y()},onDragNodeEnd:function(){h()},triggerSelector:".".concat(j)});var E=Object(o.useMemo)((function(){var e={};return{index:p||100,overlay:!1,onResizeStart:function(t){e.x=O.x,e.y=O.y,y()},onResize:function(t,n){var a=n.width-O.width,r=n.height-O.height;a<0&&s&&n.width<s||r<0&&d&&n.height<d?t.cancel=!0:(O.x=e.x+n.tx,O.y=e.y+n.ty,O.width=n.width,O.height=n.height,v.applySync())},onResizeEnd:function(){h()}}}),[p]);return c.a.createElement(l.Node,{html:!0,model:O,className:"".concat(Object(i.a)("abs-header-panel-node")," ").concat(r||"")},c.a.createElement(l.Resize,{options:E},c.a.createElement(ye,{title:t,titleClassName:j,className:"".concat(Object(i.a)("header-panel-abs")," ").concat(a||""),style:{width:O.width,height:O.height}},n)))}));Ee.displayName=Object(i.b)("AbsoluteHeaderPanel"),Object(h.a)({components:a});var Ne=n(196),Ce=n(175),xe=n(314),Se=(n(101),n(939)),ke=n(225),we=n(197),Pe=n(952),Ie=n(951),Le=(n(102),l.ElementRender.create({wrapperClassName:Object(i.a)("design-examples-dialog")})),Me=[];function Te(e,t){e.rootNode=Object(Ce.c)(JSON.stringify(t),e.componentConfig)}var De=Object(o.component)((function(e){var t=e.designEngine,n=Object(o.useMemo)((function(){return[{title:"名称",dataIndex:"name"},{title:"操作",dataIndex:"ctrl",width:"150px",render:function(e,n){return c.a.createElement(we.a,{type:"primary",onClick:I()(M.a.mark((function e(){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.load();case 2:a=e.sent,Le.unmount(),setTimeout((function(){Te(t,a.default||a)}));case 5:case"end":return e.stop()}}),e)})))},"打开")}}]}),[]);return c.a.createElement(Pe.a,{title:"打开示例",zIndex:10001,wrapClassName:Object(i.a)("design-example-modal-wrapper"),visible:!0,footer:null,onCancel:function(){Le.unmount()}},c.a.createElement(Ie.a,{columns:n,dataSource:Me,rowKey:"name"}))})),Fe=n(306),Re={prefixCls:Fe.prefix,iconPrefixCls:Fe.iconPrefix},Ae=function(e){Le.mount(c.a.createElement(u.a,Re,c.a.createElement(De,{designEngine:e})))},He={ctrl:"ctrlKey",alt:"altKey",meta:"metaKey",shift:"shiftKey"};function ze(e){var t=[];return e?((e=String(e).trim()).split(/\s*\|\s*/).forEach((function(e){var n={assKeys:[],key:void 0};e.split(/\s*\+\s*/).forEach((function(e){var t=He[e.toLowerCase()];t?-1===n.assKeys.indexOf(t)&&n.assKeys.push(t):n.key=e})),t.push(n)})),t):t}function Ve(e,t){return!!t.key&&(t.assKeys.every((function(t){return e[t]}))&&String(t.key).toLowerCase()===String(e.key).toLowerCase())}var Ke=n(489),qe=new Ke.I18N;function Ue(e){var t=e.lid,n=e.default;return n=e.children||n,qe.get({lid:t,default:"not  found"})}qe.lang(Ke.Language.get(["en","zh-CN"],"en")),function(e){e.use(n(492))}(qe),function(e){e.use(n(493))}(qe);var Be=[{caption:Ue({lid:"design.nav.file",default:"文件"}),name:"File",children:[{caption:Ue({lid:"design.nav.file.open",default:"打开"}),name:"Open",shortCut:"Ctrl+O|Meta+O",isVisible:function(){return!1!==h.b.menuActions.openNode},handler:function(e,t){if(h.b.menuActions.openNode)return h.b.menuActions.openNode(t.rootNode);Ae(t,ke.c)}},{caption:Ue({lid:"design.nav.file.save",default:"保存"}),name:"Save",shortCut:"Ctrl+S|Meta+S",isVisible:function(){return!1!==h.b.menuActions.saveNode},handler:function(e,t){var n=t.rootNode;if(h.b.menuActions.saveNode)return h.b.menuActions.saveNode(n);Object(Ce.f)(n)}},{caption:Ue({lid:"design.nav.file.saveAs",default:"另存为"}),name:"SaveAs",isVisible:function(){return!1!==h.b.menuActions.saveAsNode},handler:function(e,t){var n=t.rootNode;if(h.b.menuActions.saveAsNode)return h.b.menuActions.saveAsNode(n);Object(Ce.f)(n)}},{caption:Ue({lid:"design.nav.file.new",default:"新建"}),name:"new",isVisible:function(){return!1!==h.b.menuActions.newNode},handler:function(e,t){if(h.b.menuActions.newNode)return h.b.menuActions.newNode(t.rootNode);o.Observe.apply((function(){t.rootNode=ke.b.create()}))}}]},{caption:Ue({lid:"design.nav.view",default:"视图"}),name:"View",children:[{caption:Ue({lid:"design.nav.view.highlightActive",default:"高亮选中区域"}),name:"HighlightActive",enabled:!0,handler:function(e,t){e.enabled=!e.enabled,t.viewSetting.highlightActiveNode=e.enabled},render:function(e){var t=e.caption||e.name;return c.a.createElement("span",null,t,e.enabled?c.a.createElement(Se.a,null):null)}}]}],Je=Object(o.Observe)(Be).data(),Ge=[0,0];function _e(e,t){if(e.isVisible&&!e.isVisible())return null;var n=e.key||e.name;t[n]=e;var a=function(e){return"function"==typeof e.render?e.render(e):c.a.createElement("span",null,e.caption||e.name,e.shortCut?"【".concat(e.shortCut,"】"):null)}(e);return e.children?c.a.createElement(xe.a.SubMenu,{popupClassName:Object(i.a)("design-nav-submenu"),popupOffset:Ge,key:n,title:a},e.children.map((function(e){return _e(e,t)}))):c.a.createElement(xe.a.Item,{key:n},a)}var We,Ze=(We=1,function(){return"menu-".concat(We++)});function Ye(e){var t={};return e.forEach((function(e){return function e(n){n.hasOwnProperty("key")||(n.key=Ze()),t[n.key]=n;var a=n.children||[];a.length>0&&a.forEach((function(t){e(t)}))}(e)})),t}function $e(e,t){Object(o.useEffect)((function(){var n=[];Object.values(e).forEach((function(e){var t=e.shortCut;if(t&&"function"==typeof e.handler){var a=ze(t);0!==a.length&&n.push({keyInfos:a,menu:e})}}));var a=function(e){var a=function(e){var t=null;return n.some((function(n){return n.keyInfos.some((function(a){if(Ve(e,a))return t=n,!0}))})),t}(e);if(a){e.preventDefault();var r=a.menu;t(r)}};return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}),[e,t])}var Xe=Object(o.component)((function(e){var t=e.designEngine,n=Object(o.useMemo)((function(){return Ye(Je)}),[Je]),a=Object(o.useCallback)(function(){var e=I()(M.a.mark((function e(n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"function"==typeof n.handler&&n.handler(n,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);$e(n,a);var r=function(){var e=I()(M.a.mark((function e(t){var r,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.key,c=n[r],a(c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement(xe.a,{mode:"horizontal",onClick:r,className:Object(i.a)("design-nav-menu")},Je.map((function(e){return _e(e,n)}))))}));Xe.displayName=Object(i.b)("NavMenu");var Qe=Xe,et=n(20),tt=n.n(et),nt=(n(70),n(103),T.b),at=T.a;var rt=Object(o.component)((function(e){var t=e.designEngine,n=t.rootNode,a=Object(o.useState)(),r=S()(a,2)[1],l=Object(o.useRef)(),u=Object(o.useMemo)((function(){return{timeout:0,nodeBounds:null}}),[]),s=Object(o.useCallback)((function(e){u.nodeBounds=e,r(e)}),[r]),d=Object(o.useCallback)((function(){var e,n,a=t.rootNode,r=t.viewSetting,c=function(e,t){var n=Object(y.e)(e);if(n&&t){var a=n.parentNode;a&&Object(y.c)(a)===e&&(n=a);var r=j.DOM.select(n).bounds(),c=r.x,o=r.y,i=c+r.width,l=o+r.height,u=j.DOM.select(t).bounds(),s=i-c,d=l-o;return{left:c-=u.x,top:o-=u.y,width:s,height:d}}}(a.activeNode,l.current);if(c){var o=r.zoomState.scale;r.fullscreen&&(o=1),c=Object.assign({},{left:c.left/o,top:c.top/o,width:c.width/o,height:c.height/o})}e=u.nodeBounds,n=c,e&&n&&!["left","top","width","height"].some((function(t){return Math.round(e[t])!==Math.round(n[t])}))||s(c)}),[]),m=Object(o.useCallback)((function(){u.timeout||(u.timeout=nt((function(){u.timeout=null,d(),m()}),1e3))}),[]),p=Object(o.useCallback)((function(){at(u.timeout),u.timeout=null}),[]);Object(o.useEffect)((function(){var e=function(){"visible"===document.visibilityState?m():p()};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[]),Object(o.useEffect)((function(){d(n.activeNode,l.current)}),[n.activeNode]),Object(o.useEffect)((function(){n.activeNode&&n.activeNode.unmount&&n.active()}),[n.activeNode&&n.activeNode.unmount]),Object(o.useEffect)((function(){return m(),function(){p()}}),[]);var f=t.viewSetting.highlightActiveNode;return Object(o.useEffect)((function(){f?m():p()}),[f]),!!f&&c.a.createElement("div",{ref:l,className:Object(i.a)("document-active-state")},u.nodeBounds?c.a.createElement("div",{style:u.nodeBounds,className:Object(i.a)("document-active-state-area")},c.a.createElement("i",null),c.a.createElement("i",null),c.a.createElement("i",null),c.a.createElement("i",null)):null)}));rt.displayName=Object(i.b)("ActiveComponent");var ct=rt,ot=n(956),it=n(957),lt=n(221),ut=Object(o.findUniqueKey)("tabIndex");function st(){var e=Object(o.useComponent)();Object(o.useEffect)((function(){var t=tt.a.findDOMNode(e);if(t)return t[ut]=!0,t.setAttribute("tabIndex","-1"),function(){delete t[ut]}}),[])}var dt=250,mt=400,pt=40,ft=20,bt=20,vt=1,gt=Object(i.a)("canvas-render-title"),Ot=Object(o.component)((function(e){return st(),c.a.createElement(lt.a,e)}));Ot.displayName=Object(i.b)("RenderForDesign");var yt=Object(o.component)((function(e){var t=e.designEngine,n=t.viewSetting,a=t.rootNode,r=Object(o.useState)(),l=S()(r,2),u=l[0],s=l[1],d=Object(o.useComponent)();Object(o.useEffect)((function(){var e=tt.a.findDOMNode(d);if(e){var t=e.parentNode.getBoundingClientRect(),n=ft,a=bt,r=t.width-2*n,c=t.height-2*a;s({x:n,y:a,width:r,height:c})}}),[]);var m=c.a.createElement("div",{className:gt},c.a.createElement(Ue,{lid:"design.canvas.headerTitle"},"画布"),c.a.createElement("div",{className:Object(i.a)("icon-wrapper")},n.fullscreen?c.a.createElement(ot.a,{onClick:function(){n.fullscreen=!1}}):c.a.createElement(it.a,{onClick:function(){n.fullscreen=!0}})));return u?c.a.createElement(Ee,{title:m,bound:u,minWidth:300,minHeight:200,className:"".concat(Object(i.a)("canvas-render")," ").concat(n.fullscreen?Object(i.a)("canvas-render-fullscreen"):"")},c.a.createElement(ct,{designEngine:t}),c.a.createElement(o.MemoComponent,{dep:[a]},(function(){return c.a.createElement(Ot,{key:"".concat(vt++),rootNode:a})}))):c.a.createElement("div",null)}));yt.displayName=Object(i.b)("CanvasRender");var ht=yt,jt=(n(104),Object(o.component)((function(e){var t=e.designEngine,n=e.children,a=t.viewSetting,r=Object(i.a)("zoom-layer"),u=Object(o.useCallback)((function(e){j.DOM.findUpUtil(e.native.target,(function(e){if(l.Node.getData(e))return e}),(function(e){var t=e.className;if(t&&String(t).indexOf(r)>=0)return!0}))&&(e.cancel=!0)}),[]),s=Object(o.useCallback)((function(e){l.Resize.isResizing()&&(e.cancel=!0)}),[]),d=Object(l.useZoom)(a.zoomState,{maxZoom:1.5,minZoom:.2,canvasElement:".".concat(r),zoomElement:".".concat(r,">div"),onZoomDragStart:u,onZoomDragMove:s,onZoomScale:u}),m=d.zoomState,p=d.getStyle;return Object(o.useEffect)((function(){Object.assign(a.zoomState,m)}),[m]),c.a.createElement("div",{className:Object(i.a)("zoom-layer-wrapper")},c.a.createElement("div",{className:r},c.a.createElement("div",{style:p()},n)))})));jt.displayName=Object(i.b)("ZoomLayer");var Et=jt,Nt=(n(105),n(106),[{name:"script",consoleKey:"js",caption:Ue({lid:"design.console.script",default:"脚本"})},{name:"style",caption:Ue({lid:"design.console.style",default:"样式"})}]);var Ct=Object(o.component)((function(e){var t=e.rootNode.console,n=Object(o.useState)(function(e){var t=0;return Nt.some((function(n,a){var r=e[n.name].errors;if(r&&r.length>0)return t=a,!0})),Nt[t]}(t)),a=S()(n,2),r=a[0],u=a[1];return c.a.createElement(l.FlexStack.V,{className:Object(i.a)("running-state-error")},c.a.createElement(l.FlexStackItem.V,{height:24,vAlign:"center",className:Object(i.a)("running-state-tabs")},c.a.createElement("div",{className:Object(i.a)("running-state-tab-label")},c.a.createElement(Ue,{lid:"design.console.error"},"错误"),"->"),Nt.map((function(e){return c.a.createElement("div",{key:e.name,className:"".concat(Object(i.a)("running-state-tab")," ").concat(r===e?Object(i.a)("running-state-tab-active"):""),onClick:function(){u(e)}},c.a.createElement("div",null,e.caption))}))),c.a.createElement(l.FlexStackItem.V,{className:Object(i.a)("running-state-body")},r?t[r.name].errors.map((function(e){return c.a.createElement("pre",{key:e.id},e.data.message)})):null))}));Ct.displayName=Object(i.b)("RunningStateError");var xt=Ct,St=(n(107),Object(o.component)((function(e){var t=Object(o.useState)([{index:1}]),n=S()(t,2),a=n[0],r=(n[1],Object(o.useState)(a[0])),u=S()(r,2),s=u[0],d=u[1];return c.a.createElement(l.FlexStack.V,{className:Object(i.a)("running-state-terminal")},c.a.createElement(l.FlexStackItem.V,{height:24,vAlign:"center",className:Object(i.a)("running-state-tabs")},c.a.createElement("div",{className:Object(i.a)("running-state-tab-label")},c.a.createElement(Ue,{lid:"design.console.terminal"},"终端"),"->"),a.map((function(e){return c.a.createElement("div",{key:e.index,className:"".concat(Object(i.a)("running-state-tab")," ").concat(s===e?Object(i.a)("running-state-tab-active"):""),onClick:function(){d(e)}},c.a.createElement("div",null,c.a.createElement(Ue,{lid:"design.console.terminal"},"终端"),"(",e.index,")"))}))),c.a.createElement(l.FlexStackItem.V,{className:Object(i.a)("running-state-body")}))})));St.displayName=Object(i.b)("RunningStateTerminal");var kt=St,wt=(n(108),Object(o.component)((function(e){e.expand;var t=e.className,n=b()(e,["expand","className"]),a=c.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M554.666667 469.333333h-85.333334V682.666667h85.333334V469.333333z"}),c.a.createElement("path",{d:"M725.333333 213.333333v85.333334H853.333333v85.333333h-88.632889l-16.497777 428.316444a42.666667 42.666667 0 0 1-42.609778 41.016889H318.407111a42.666667 42.666667 0 0 1-42.666667-41.016889l-16.497777-428.316444H170.666667v-85.333333h128v-85.333334A42.666667 42.666667 0 0 1 341.333333 170.666667h341.333334a42.666667 42.666667 0 0 1 42.666666 42.666666z m-341.333333 85.333334V256h256v42.666667h-256z m-39.310222 85.333333h334.620444l-14.791111 384H359.480889l-14.791111-384z"}));return c.a.createElement(F,w()({icon:a},n,{className:"".concat(Object(i.a)("comp-icon-emclear")," ").concat(t||"")}))})));wt.displayName=Object(i.b)("EmClearIcon");var Pt=wt,It={syncElementResize:!1,overlay:!1,modes:["Top"],index:300,onResize:function(e,t){var n=t.ty,a=t.originHeight-n;e.resizeElement.style.height="".concat(a,"px")}},Lt=[{name:"error",active:function(e){return Mt(e)>0},caption:function(e){return c.a.createElement("span",null,c.a.createElement(Ue,{lid:"design.console.error"},"错误"),e>0?c.a.createElement("i",null,"(",e,")"):null)},comp:xt},{name:"terminal",caption:Ue({lid:"design.console.terminal",default:"终端"}),comp:kt,active:function(){return!1}}];function Mt(e){return["script","style"].reduce((function(t,n){return t+e.console[n].errors.length}),0)}var Tt=Object(o.component)((function(e){var t=e.designEngine.rootNode,n=Object(o.useState)(),a=S()(n,2),r=a[0],u=a[1],s=Object(o.useCallback)((function(e){var n=e.comp;return c.a.createElement(n,{rootNode:t})}),[]),d=Object(o.useCallback)((function(){var e=t.console;o.Observe.apply((function(){["script","style"].forEach((function(t){var n=e[t];n&&n.errors&&(n.errors=[])}))}))}),[t]);return c.a.createElement(l.FlexStack.V,{className:Object(i.a)("running-state")},r?c.a.createElement(l.Resize,{key:"activeStateType",options:It},c.a.createElement(l.FlexStackItem.V,{height:"auto",flowMode:"vertical"},s(r))):null,c.a.createElement(l.FlexStackItem.V,{key:"stateTypes",height:24,vAlign:"center"},Lt.map((function(e){return c.a.createElement("div",{key:e.name,className:"".concat(Object(i.a)("running-state-type")," ").concat(e===r?Object(i.a)("running-state-type-active"):""),onClick:function(){u(r===e?null:e)}},c.a.createElement("div",{className:"".concat(e.active(t)?Object(i.a)("state-type-active"):"")},"function"==typeof(n=e.caption)?n(Mt(t)):n));var n})),c.a.createElement("div",{className:Object(i.a)("btn-wrapper")},c.a.createElement(Pt,{className:Object(i.a)("icon-btn"),onClick:d}))))}));Tt.displayName=Object(i.b)("RunningState");var Dt=Tt;function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(109);var At=n(251);function Ht(e,t){return c.a.createElement("div",{className:Object(i.a)("i-store","drag-node")},t.data.caption||t.data.name)}function zt(e){if(!e.component)return e.caption||e.name;var t={drop:!1,type:e.dragType,outAnimate:!0,data:e,dragNode:Ht,optionType:v.ComponentConfig};return c.a.createElement(l.DragDrop,{options:t},c.a.createElement("span",{className:Object(i.a)("menu-item")},e.caption||e.name))}function Vt(e){return e.children||e.load}var Kt=Object(o.component)((function(e){var t=e.config,n=Object(o.useMemo)((function(){return Object(o.Observe)((e=t.items,n={},a={name:"/",children:[]},e.forEach((function(e){var t=e.path;e.path=function(e){return e&&!/^\//.test(e)&&(e="/"+e),e}(t);var r=[];t.replace(/([^\/]+)/g,(function(e,t){r.push(t)}));var c=a;r.forEach((function(t,a){var o=r.slice(0,a+1).join("/"),i=n[o];if(!i){i=n[o]={path:o,name:t};var l=c.children;l||(l=c.children=[]),l.push(i)}if(a===r.length-1){e.children;var u=b()(e,["children"]);Object.assign(i,u),i.component&&Object.defineProperty(i,"component",{value:Rt({},i.component),configurable:!0})}c=i}))})),a.children),{autoApply:!0}).data();var e,n,a}),[t]);return c.a.createElement(G,{className:Object(i.a)("register-components"),node:n,isDirectory:Vt,renderNode:zt,defaultLoadNode:At.b})}));Kt.displayName=Object(i.b)("ComponentPool");var qt=Kt,Ut=Object(o.component)((function(e){e.expand;var t=e.className,n=b()(e,["expand","className"]),a=c.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M615.564215 406.570809"}),c.a.createElement("path",{d:"M885.03553 548.117592l-15.940041 0 0 243.09662c0 70.937632 15.940041 131.517359 15.940041 131.517359 0 17.530258-14.346753 31.882128-31.883151 31.882128L167.689698 954.6137c-17.532305 0-31.878035-14.351869-31.878035-31.882128 0 0 15.940041-58.190307 15.940041-128.32976L151.751704 548.117592l-15.940041 0c-17.537422 0-31.883151-14.349823-31.883151-31.888268L103.928512 356.824825c0-17.537422 14.34573-31.884175 31.883151-31.884175l270.995017 0L406.806681 149.58997c0-43.838438 35.867906-79.70532 79.707366-79.70532l47.822169 0c43.838438 0 79.704296 35.866882 79.704296 79.70532l0 175.349657 270.996041 0c17.537422 0 31.882128 14.346753 31.882128 31.884175l0 159.41064C916.917658 533.767769 902.572952 548.117592 885.03553 548.117592L885.03553 548.117592 885.03553 548.117592zM335.071893 922.726455 335.071893 711.508893c0-6.374174 5.583159-11.951193 11.95631-11.951193l7.966439 0c6.380314 0 11.961426 5.577019 11.961426 11.951193l0 211.217562 135.495974 0L502.452042 711.508893c0-6.374174 5.581112-11.951193 11.954263-11.951193l7.965415 0c6.385431 0 11.962449 5.577019 11.962449 11.951193l0 211.217562 127.526465 0L661.860634 711.508893c0-6.374174 5.577019-11.951193 11.951193-11.951193l7.972579 0c6.377244 0 11.955286 5.577019 11.955286 11.951193l0 211.217562 159.411663 0c0 0-15.939017-57.388035-15.939017-128.324644L837.212338 548.117592 183.633832 548.117592l0 246.284219c0 70.936609-15.945157 128.324644-15.945157 128.324644L335.071893 922.726455 335.071893 922.726455 335.071893 922.726455zM885.03553 372.761796c0-8.768711-7.17133-15.936971-15.940041-15.936971L582.156338 356.824825 582.156338 157.562549c0-31.085996-24.708751-55.793724-55.794747-55.793724l-31.878035 0c-31.084972 0-55.79884 24.707728-55.79884 55.793724l0 199.262276L151.750681 356.824825c-8.769734 0-15.940041 7.16826-15.940041 15.936971l0 127.528512c0 8.769734 7.170307 15.940041 15.940041 15.940041l31.883151 0 653.578506 0 31.882128 0c8.768711 0 15.940041-7.170307 15.940041-15.940041L885.034507 372.761796 885.03553 372.761796 885.03553 372.761796zM885.03553 372.761796"}),c.a.createElement("path",{d:"M885.03553 548.117592l-15.940041 0 0 243.09662c0 70.937632 15.940041 131.517359 15.940041 131.517359 0 17.530258-14.346753 31.882128-31.883151 31.882128L167.689698 954.6137c-17.532305 0-31.878035-14.351869-31.878035-31.882128 0 0 15.940041-58.190307 15.940041-128.32976L151.751704 548.117592l-15.940041 0c-17.537422 0-31.883151-14.349823-31.883151-31.888268L103.928512 356.824825c0-17.537422 14.34573-31.884175 31.883151-31.884175l270.995017 0L406.806681 149.58997c0-43.838438 35.867906-79.70532 79.707366-79.70532l47.822169 0c43.838438 0 79.704296 35.866882 79.704296 79.70532l0 175.349657 270.996041 0c17.537422 0 31.882128 14.346753 31.882128 31.884175l0 159.41064C916.917658 533.767769 902.572952 548.117592 885.03553 548.117592L885.03553 548.117592 885.03553 548.117592zM335.071893 912.493393 335.071893 711.508893c0-6.374174 5.583159-11.951193 11.95631-11.951193l7.966439 0c6.380314 0 11.961426 5.577019 11.961426 11.951193l0 200.984501 135.495974 0L502.452042 711.508893c0-6.374174 5.581112-11.951193 11.954263-11.951193l7.965415 0c6.385431 0 11.962449 5.577019 11.962449 11.951193l0 200.984501 127.526465 0L661.860634 711.508893c0-6.374174 5.577019-11.951193 11.951193-11.951193l7.972579 0c6.377244 0 11.955286 5.577019 11.955286 11.951193l0 200.984501 149.178601 0c0 0-15.939017-47.154973-15.939017-118.091582L826.979276 548.117592 193.866894 548.117592l0 246.284219c0 70.936609-15.945157 118.091582-15.945157 118.091582L335.071893 912.493393l0 10.233062L335.071893 912.493393zM874.802468 382.994857c0-8.768711-7.17133-15.936971-15.940041-15.936971L571.923276 367.057887 571.923276 157.562549c0-31.085996-24.708751-45.560662-55.794747-45.560662l-11.411911 0c-31.084972 0-55.79884 14.474666-55.79884 45.560662l0 209.495338L161.983743 367.057887c-8.769734 0-15.940041 7.16826-15.940041 15.936971l0 107.062388c0 8.769734 7.170307 15.940041 15.940041 15.940041l31.883151 0 633.112382 0 31.882128 0c8.768711 0 15.940041-7.170307 15.940041-15.940041L874.801445 382.994857l10.233062 0L874.802468 382.994857zM885.03553 372.761796"}));return c.a.createElement(F,w()({},n,{className:"".concat(Object(i.a)("comp-icon-clear")," ").concat(t||""),icon:a}))}));Ut.displayName=Object(i.b)("ClearIcon");var Bt=Ut;n(110);var Jt=Object(o.component)((function(e){e.expand;var t=e.className,n=b()(e,["expand","className"]),a=c.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M968 498.4c13.6 296-259.2 532-564.8 454.4C248 913.6 126.4 792 87.2 637.6 8.8 332 245.6 59.2 540.8 72c231.2 11.2 416 196 427.2 426.4zM136 520c0 212 172.8 384 384.8 384 210.4-0.8 381.6-172 382.4-381.6 0.8-212-171.2-385.6-383.2-385.6C308.8 136 136 308 136 520z"}),c.a.createElement("path",{d:"M768 544H256v-64h512z"}));return c.a.createElement(F,w()({icon:a},n,{className:"".concat(Object(i.a)("comp-icon-rm")," ").concat(t||"")}))}));Jt.displayName=Object(i.b)("RemoveIcon");var Gt,_t=Jt,Wt=Object(o.findUniqueKey)("dragDropDataKey");function Zt(e,t){var n=t[Wt];return c.a.createElement("div",{className:Object(i.a)("view-node-tree","drag-node")},n.caption||n.name)}var Yt="Top",$t="Center",Xt="Bottom";var Qt=(Gt={},p()(Gt,Yt,Object(i.a)("view-node-item-marker-up")),p()(Gt,Xt,Object(i.a)("view-node-item-marker-down")),p()(Gt,$t,Object(i.a)("view-node-item-marker-center")),Gt);function en(e){var t=Object(o.useState)(!1),n=S()(t,2),a=n[0],r=n[1],u=Object(o.useMemo)((function(){return function(e){var t;return t={},p()(t,Wt,e),p()(t,"dragNode",Zt),p()(t,"outAnimate",!0),p()(t,"optionType",v.ComponentNode),p()(t,"type",v.ComponentNode),p()(t,"drop",(function(t,n,a,r){var c=r[Wt];return c&&c!==e&&c.parent})),p()(t,"accept",(function(e,t){if(e.type===v.ComponentNode&&e!==t)return!0})),p()(t,"onDrop",(function(t,n){o.Observe.apply((function(){var t=e.hoverMode,a=n[Wt],r=a.parent;if(t===Yt){if(a.parent=e.parent,e.parent){var c=r.children.indexOf(a);r.children.splice(c,1);var o=e.parent.children,i=o.indexOf(e);o.splice(i,0,a)}}else if(t===Xt){if(a.parent=e.parent,e.parent){var l=r.children.indexOf(a);r.children.splice(l,1);var u=e.parent.children,s=u.indexOf(e);u.splice(s+1,0,a)}}else{var d=r.children.indexOf(a);r.children.splice(d,1),a.parent=e,e.children?e.children.push(a):e.children=[a]}delete e.hoverMode}))})),p()(t,"onDropOver",(function(t,n){var a=t.activeTarget.getBoundingClientRect(),r=a.height/3,c=a.y+a.height;e.parent&&t.y-a.y<r?e.hoverMode=Yt:e.parent&&c-t.y<r?e.hoverMode=Xt:e.hoverMode=$t})),p()(t,"onDropLeave",(function(){delete e.hoverMode})),t}(e)}),[e]);u.drag=!a,u.drop=!a;var s=e.caption||e.name;return c.a.createElement("div",{className:Object(i.a)("view-node-tree-content"),onClick:function(){Object(Ne.a)(e)}},!a&&e.parent?c.a.createElement(_t,{onClick:function(t){t.stopPropagation(),e.remove()}}):null,c.a.createElement(l.DragDrop,{options:u},c.a.createElement("div",{className:Object(i.a)("view-node-tree-item-panel")},c.a.createElement(me,{text:s,onChange:function(t){e.caption=t},onModeChange:function(e){r(e)},className:e.hoverStatus?Object(i.a)("view-node-tree-item-drop-over"):""}),c.a.createElement("div",{className:"".concat(Object(i.a)("view-node-item-marker")," ").concat(Qt[e.hoverMode]||"")}))))}var tn=Object(o.component)((function(e){var t=e.designEngine.rootNode;return st(),c.a.createElement("div",{className:Object(i.a)("view-node-tree-panel")},c.a.createElement(G,{className:Object(i.a)("view-node-tree"),node:t,renderNode:function(e){return c.a.createElement(o.MemoComponent,null,(function(){return en(e)}))},isDirectory:function(e){return!e.parent||e.children&&e.children.length>0}}))}));tn.displayName=Object(i.b)("RenderNodes");var nn=tn,an=(n(111),Object(o.component)((function(e){var t=e.className,n=e.items,a=e.onChange;return n=n||[],c.a.createElement("div",{className:"".concat(Object(i.a)("h-layout-control")," ").concat(t||"")},n.map((function(e,t){return c.a.createElement("div",{key:t,className:"".concat(Object(i.a)("layout-control-item")," ").concat(e.hidden?Object(i.a)("layout-control-item-hidden"):""),onClick:function(){e.hidden=!e.hidden,"function"==typeof a&&a(e)}},c.a.createElement("div",null,e.caption))})))})));an.displayName=Object(i.b)("VLayoutControl");n(112);var rn=n(958);n(113);var cn={default:"default",simple:"simple"},on=Object(o.component)((function(e){var t=e.className,n=e.title,a=e.children,r=e.expand,l=e.readonly,u=e.onExpandChange,s=e.type,d=void 0===s?"default":s,m=b()(e,["className","title","children","expand","readonly","onExpandChange","type"]),p=Object(o.useState)(!!r),f=S()(p,2),v=f[0],g=f[1];Object(o.useLayoutEffect)((function(){g(r)}),[r]);var O={};l||(O.onClick=function(){var e=!v;g(e),"function"==typeof u&&u(e)});var y=cn[d]||"default";return c.a.createElement("div",w()({className:"".concat(Object(i.a)("collapse-panel")," ").concat(Object(i.a)("collapse-panel-".concat(y))," ").concat(t||"")},m),c.a.createElement("header",null,c.a.createElement("div",O,n,c.a.createElement(rn.a,{className:"".concat(Object(i.a)("collapse-icon")," ").concat(Object(i.a)("icon")," ").concat(v?Object(i.a)("icon-revert-90deg"):"")}))),c.a.createElement("div",null,v?function(e){return"function"==typeof e?e():e}(a):null))}));on.displayName=Object(i.b)("CollapsePanel");var ln=on,un=(n(114),n(115),Object(o.component)((function(e){var t=e.className,n=e.onChange,a=e.groupValue,r=e.value,o=e.children,l=e.style,u=e.multi,s=a?a.indexOf(r)>=0:!!r;return c.a.createElement("div",{className:"".concat(Object(i.b)("comp-item")," ").concat(u?Object(i.b)("comp-item-m"):""," ").concat(s?Object(i.b)("item-active"):""," ").concat(t||""),style:l,onClick:function(){n(r)}},c.a.createElement("div",{className:Object(i.b)("item-icon")}),c.a.createElement("div",{className:Object(i.b)("item-body")},o))})));un.displayName=Object(i.b)("Item");var sn=Object(o.component)((function(e){var t=e.className,n=e.children,a=e.value,r=e.onChange,l=e.style,u=e.multi,s=void 0!==u&&u,d=e.disabled,m=Object(o.useState)([].concat(a)),p=S()(m,2),f=p[0],b=p[1],v=Object(o.useMemo)((function(){return{onChange:null,value:null}}),[]);v.onChange=r,v.value=f;var g=Object(o.useCallback)((function(e,t){Object(T.g)(e)||(e=[e]),!t&&Object(o.sameDep)(v.value,e)||(b(e),v.onChange&&v.onChange(s?[].concat(e):e[0]))}),[]);Object(o.useLayoutEffect)((function(){a!==f&&g(a)}),[a]);var O=Object(o.useCallback)((function(e){if(s){var t=[].concat(v.value);t.indexOf(e)>=0?t.splice(1,0):t.push(e),g(t,!0)}else g([e])}),[s]);return c.a.createElement("div",{className:"".concat(Object(i.b)("comp-item-group")," ").concat(t||""),style:l,disabled:d},n?c.a.isValidElement(n)?c.a.cloneElement(n,{onChange:O,groupValue:f}):Object(T.g)(n)?n.map((function(e){return c.a.isValidElement?c.a.cloneElement(e,{onChange:O,groupValue:f}):null})):void 0:n)}));sn.displayName=Object(i.b)("item-group"),un.Group=sn;var dn=Object(o.component)((function(e){return c.a.createElement(un,w()({},e,{multi:!0}))}));dn.displayName=Object(i.b)("Checkbox");var mn=un,pn=[{name:Ue({lid:"design.editor.autoSave",default:"自动保存"}),value:"Auto"},{name:Ue({lid:"design.editor.handSave",default:"手动保存"}),value:"Hand"}];pn.forEach((function(e){pn[e.value]=e.value}));n(116);var fn=Object(o.component)((function(e){e.expand;var t=e.className,n=b()(e,["expand","className"]),a=c.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M540.444444 227.555556h85.333334v113.777777h-85.333334V227.555556zM199.111111 824.888889V199.111111h56.888889v199.111111c0 28.444444 22.072889 56.888889 56.888889 56.888889h398.222222c33.564444 0 56.888889-28.444444 56.888889-56.888889V199.111111h56.888889v625.777778H199.111111zM682.666667 199.111111v170.666667H341.333333V199.111111h341.333334zM170.666667 113.777778C136.021333 113.777778 113.777778 142.222222 113.777778 170.666667v682.666666c0 28.444444 22.016 56.888889 56.888889 56.888889h682.666666c34.247111 0 56.888889-28.444444 56.888889-56.888889V170.666667c0-28.444444-23.04-56.888889-56.888889-56.888889H170.666667z"}));return c.a.createElement(F,w()({icon:a},n,{className:"".concat(Object(i.a)("comp-icon-save")," ").concat(t||"")}))}));fn.displayName=Object(i.b)("SaveIcon");var bn=fn;function vn(e,t){if(e)return 2===arguments.length&&Object.defineProperty(e,"_code",{value:t,enumerable:!1,configurable:!0}),e.hasOwnProperty("_code")?e._code:e.origin}var gn=function(e){var t=null==e?void 0:e.compile,n=Object(o.useProps)(),a=n.value,r=n.compileOptions,u=n.onSaved,s=n.disabledRadio,d=Object(o.useState)(pn.Hand),m=S()(d,2),p=m[0],f=m[1],b=Object(o.useState)(!1),v=S()(b,2),g=v[0],O=v[1],y=function(){var e=I()(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0,!1),e.prev=1,a.origin=vn(a),!t){e.next=6;break}return e.next=6,t(a,r);case 6:u&&u(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:O(!1,!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return{header:c.a.createElement("header",{className:"".concat(Object(i.a)("code-editor-header"))},c.a.createElement(mn.Group,{disabled:s,value:p,style:{position:"relative",top:-1},onChange:function(e){f(e)}},pn.map((function(e,t){return c.a.createElement(mn,{key:t,value:e.value},e.name)}))),pn.Hand===p?c.a.createElement("div",{style:{float:"right"}},c.a.createElement(l.Loading,{key:"loading",spinning:g,className:Object(i.a)("compiling"),delay:0,overlayStyle:{background:"transparent"},iconSize:12}),c.a.createElement(bn,{onClick:y})):null),compiling:g,saveAction:y,actionType:p,source:vn}},On=n(237);function yn(e,t){return On.a.compile(e,t)}var hn,jn,En=Object(o.component)((function(e){var t=e.value,n=e.onChange,a=e.className,r=e.style,l=e.disabled,u=Object(o.useMemo)((function(){return{actionType:pn.Auto}}),[]);t=t||{};var s=gn({compile:yn}),d=s.header,m=s.actionType,p=s.saveAction,f=s.source,b=f(t);return u.actionType=m,c.a.createElement("div",{className:"".concat(Object(i.a)("code-editor")," ").concat(a||""),style:r},d,c.a.createElement(o.MemoComponent,{dep:[t,b,l]},c.a.createElement(ie,{disabled:l,value:b,onChange:function(e){n&&n(e),o.Observe.silent((function(){f(t,e)})),u.actionType===pn.Auto&&p()}})))})),Nn=Object(o.findUniqueKey)("pendingTimeout"),Cn=I()(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hn){e.next=2;break}return e.abrupt("return",hn);case 2:return jn||(jn=n.e(5).then(n.bind(null,964))),e.next=5,jn;case 5:return t=e.sent,hn=t.compileToCode,e.abrupt("return",hn);case 8:case"end":return e.stop()}}),e)})));function xn(){return(xn=I()(M.a.mark((function e(t,n){var a,r,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=o.Observe.silent((function(){return t[Nn]})))&&Object(T.f)(a),r=(n||{}).selector,e.next=5,Cn();case 5:return c=e.sent,e.abrupt("return",new Promise((function(e,a){o.Observe.silent((function(){t[Nn]=Object(T.l)(I()(M.a.mark((function o(){var i,l,u;return M.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,i=t.origin,l=r?"".concat(r,"{\n").concat(i,"\n}"):i,o.next=5,c(l,n);case 5:u=o.sent,t.runtime=u.css,e(),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(0),a(o.t0);case 13:case"end":return o.stop()}}),o,null,[[0,10]])}))),1e3)}))})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sn={compile:function(e,t){return xn.apply(this,arguments)}},kn=function(e,t){return Sn.compile(e,t)},wn=Object(o.component)((function(e){var t=e.value,n=e.onChange,a=e.className,r=e.style,l=e.disabled,u=Object(o.useMemo)((function(){return{actionType:pn.Auto}}),[]),s=gn({compile:kn}),d=s.header,m=s.actionType,p=s.saveAction,f=s.source;u.actionType=m;var b=f(t);return c.a.createElement("div",{className:"".concat(Object(i.a)("code-editor")," ").concat(a||""),style:r},d,c.a.createElement(o.MemoComponent,{dep:[t,b,l]},c.a.createElement(be,{disabled:l,value:b,onChange:function(e){n&&n(e),o.Observe.silent((function(){f(t,e)})),u.actionType===pn.Auto&&p()}})))})),Pn=Object(o.component)((function(e){var t=e.value,n=e.onChange,a=e.className,r=e.style,l=e.disabled,u=Object(o.useMemo)((function(){return{actionType:pn.Auto}}),[]);t=t||{};var s=gn(),d=s.header,m=s.actionType,p=s.saveAction,f=s.source,b=f(t);return u.actionType=m,c.a.createElement("div",{className:"".concat(Object(i.a)("code-editor")," ").concat(a||""),style:r},d,c.a.createElement(o.MemoComponent,{dep:[t,b,l]},c.a.createElement(re,{disabled:l,value:b,onChange:function(e){n&&n(e),o.Observe.silent((function(){f(t,e)})),u.actionType===pn.Auto&&p()}})))})),In=Object(o.component)((function(e){var t=e.rootNode,n=t.context,a=Object(o.useMemo)((function(){return{syncElementResize:!0,modes:["Bottom"]}}),[]),r=t.console.script,u=function(){return c.a.createElement(l.Resize,{options:a},c.a.createElement("div",{className:"".concat(Object(i.a)("editor-wrapper")," ").concat(Object(i.a)("height-transition"))},c.a.createElement(En,{value:n.script,compileOptions:{console:r}})))};return c.a.createElement(ln,{className:Object(i.a)("context-setting"),title:c.a.createElement(Ue,{lid:"design.context.initScript"},"初始化脚本")},u)}));In.displayName=Object(i.b)("ContextSetting");var Ln,Mn=In,Tn=(n(117),n(953)),Dn=n(315),Fn=n(182),Rn=Tn.a,An={vAlign:"center",className:Object(i.a)("property-editor-item")},Hn={width:"20%",hAlign:"right",style:{minWidth:120},className:Object(i.a)("property-editor-item-name")},zn=[{name:"是",value:!0},{name:"否",value:!1}];function Vn(e){return e.caption?e.caption||e.name:c.a.createElement(Tn.a,{size:"small",value:e.name,onChange:function(t){o.Observe.applySync((function(){e.name=t.target.value}))}})}var Kn=(Ln={},p()(Ln,Fn.c.String,(function(e){var t=e.prop,n=Object(Fn.e)(t);return c.a.createElement(l.FlexStack.H,An,c.a.createElement(l.FlexStackItem.H,Hn,Vn(t)),c.a.createElement(l.FlexStackItem.H,null,c.a.createElement(Tn.a,{disabled:t.readonly,size:"small",value:n,onChange:function(e){o.Observe.applySync((function(){Object(Fn.f)(t,e.target.value)}))}})))})),p()(Ln,Fn.c.Number,(function(e){var t=e.prop,n=Object(Fn.e)(t);return c.a.createElement(l.FlexStack.H,An,c.a.createElement(l.FlexStackItem.H,Hn,Vn(t)),c.a.createElement(l.FlexStackItem.H,null,c.a.createElement(Rn,{disabled:t.readonly,size:"small",value:n,onChange:function(e){o.Observe.applySync((function(){Object(Fn.f)(t,+e.target.value||0)}))}})))})),p()(Ln,Fn.c.Boolean,(function(e){var t=e.prop,n=Object(Fn.e)(t);return c.a.createElement(l.FlexStack.H,w()({},An,{height:36}),c.a.createElement(l.FlexStackItem.H,Hn,Vn(t)),c.a.createElement(l.FlexStackItem.H,{style:{overflow:"hidden",paddingLeft:12}},c.a.createElement(mn.Group,{disabled:t.readonly,className:"design-radio-group",value:n,onChange:function(e){Object(Fn.f)(t,e)}},zn.map((function(e,t){return c.a.createElement(mn,{key:t,value:e.value},e.name)})))))})),p()(Ln,Fn.c.Enum,(function(e){var t=e.prop,n=e.getPopupContainer,a=t.options;a=a?[].concat(a):[];var r=Object(Fn.e)(t);return c.a.createElement(l.FlexStack.H,An,c.a.createElement(l.FlexStackItem.H,Hn,Vn(t)),c.a.createElement(l.FlexStackItem.H,null,c.a.createElement(Dn.a,{disabled:t.readonly,getPopupContainer:n,className:"design-select",size:"small",value:r,onChange:function(e){Object(Fn.f)(t,e)}},a.map((function(e,t){return c.a.createElement(Dn.a.Option,{key:t,value:e.value,name:e.name},e.name)})))))})),p()(Ln,Fn.c.JSON,(function(e){var t=e.prop;e.node;return c.a.createElement(l.FlexStack.H,An,c.a.createElement(l.FlexStackItem.H,Hn,Vn(t)),c.a.createElement(l.Resize,{options:{syncElementResize:!0,modes:["Bottom"]}},c.a.createElement(l.FlexStackItem.H,{className:Object(i.a)("height-transition"),height:200},c.a.createElement(Pn,{disabled:t.readonly,value:t.value}))))})),p()(Ln,Fn.c.Module,(function(e){var t=e.prop,n=e.node,a=n.document.console.script;return c.a.createElement(l.FlexStack.H,An,c.a.createElement(l.FlexStackItem.H,Hn,Vn(t)),c.a.createElement(l.Resize,{options:{syncElementResize:!0,modes:["Bottom"]}},c.a.createElement(l.FlexStackItem.H,{height:200,className:Object(i.a)("height-transition")},c.a.createElement(En,{disabled:t.readonly,value:t.value,compileOptions:{console:a}}))))})),p()(Ln,Fn.c.Style,(function(e){var t=e.prop,n=(e.node,Object(Fn.e)(t));return c.a.createElement(l.FlexStack.H,An,c.a.createElement(l.FlexStackItem.H,Hn,Vn(t)),c.a.createElement(l.Resize,{options:{syncElementResize:!0,modes:["Bottom"]}},c.a.createElement(l.FlexStackItem.H,{height:200,className:Object(i.a)("height-transition")},c.a.createElement(te,{disabled:t.readonly,value:n,onChange:function(e){o.Observe.applySync((function(){Object(Fn.f)(t,e)}))}}))))})),p()(Ln,Fn.c.Runtime,(function(e){var t=e.prop;return c.a.createElement(l.FlexStack.H,An,c.a.createElement(l.FlexStackItem.H,Hn,Vn(t)),c.a.createElement(l.FlexStackItem.H,null,c.a.createElement(Tn.a,{disabled:t.readonly,size:"small",value:t.contextKey,onChange:function(e){o.Observe.applySync((function(){t.contextKey=e.target.value}))}})))})),p()(Ln,Fn.c.Parent,(function(e){var t=e.prop;return c.a.createElement(l.FlexStack.H,An,c.a.createElement(l.FlexStackItem.H,Hn,Vn(t)),c.a.createElement(l.FlexStackItem.H,null,c.a.createElement(Tn.a,{disabled:t.readonly,size:"small",value:t.contextKey,onChange:function(e){o.Observe.applySync((function(){t.contextKey=e.target.value}))}})))})),p()(Ln,Fn.c.Component,(function(e){var t=e.prop;return t.render.apply(this,arguments)})),Ln),qn=n(955),Un=n(959),Bn=n(960),Jn=n(961);function Gn(){return{name:"",type:Fn.c.String,custom:!0,value:""}}var _n=Fn.b.filter((function(e){return Fn.a.indexOf(e.value)>=0})),Wn={marginBottom:6};function Zn(e,t){var n=Object(Fn.d)(e),a="style"===e.name?_n:Fn.b;return c.a.createElement("div",{onClick:function(e){e.stopPropagation()}},c.a.createElement(l.FlexStack.H,{vAlign:"center",style:Wn},c.a.createElement(l.FlexStackItem.H,{width:80},c.a.createElement(Ue,{lid:"design.propertyEdit.propName"},"属性名称"),"："),c.a.createElement(l.FlexStackItem.H,null,c.a.createElement(Tn.a,{size:"small",value:e.name,onChange:function(t){o.Observe.applySync((function(){e.name=t.target.value}))}}))),c.a.createElement(l.FlexStack.H,{vAlign:"center",style:Wn},c.a.createElement(l.FlexStackItem.H,{width:80},c.a.createElement(Ue,{lid:"design.propertyEdit.propDesc"},"属性描述"),"："),c.a.createElement(l.FlexStackItem.H,null,c.a.createElement(Tn.a,{size:"small",value:e.caption,onChange:function(t){o.Observe.applySync((function(){e.caption=t.target.value}))}}))),c.a.createElement(l.FlexStack.H,{vAlign:"center"},c.a.createElement(l.FlexStackItem.H,{width:80},c.a.createElement(Ue,{lid:"design.propertyEdit.propType"},"属性类型"),"："),c.a.createElement(l.FlexStackItem.H,null,c.a.createElement(Dn.a,{size:"small",getPopupContainer:t,className:"design-select",value:n,onChange:function(t){o.Observe.apply((function(){e.type=t,Object(Fn.f)(e,t===Fn.c.Style?{}:"",!0)}))}},a.map((function(t){return t.custom?null:t.value!==Fn.c.Enum||e.options&&0!==e.options.length?c.a.createElement(Dn.a.Option,{key:t.value,size:"small",value:t.value},t.caption):null}))))))}var Yn=Object(o.component)((function(e){var t=e.rootNode,n=t.activeNode,a=t.runtime,r=(n=n||{}).props;r=r||[];var u=Object(o.useRef)(),s=Object(o.useCallback)((function(){return u.current}),[]);return c.a.createElement("div",{className:Object(i.a)("property-editor"),ref:u},c.a.createElement("header",null,c.a.createElement(Un.a,{className:"prop-icon",onClick:function(){n.props||(n.props=[Gn()]),r.push(Gn())}})),r.map((function(e,t){var u=Object(Fn.d)(e),d=Kn[u];if(d)return c.a.createElement(l.FlexStack.H,{key:t,className:Object(i.a)("property-row")},c.a.createElement(l.FlexStackItem.H,null,d({key:t,runtime:a,node:n,getPopupContainer:s,prop:e})),c.a.createElement(o.MemoComponent,null,(function(){var t=Object(o.useComponent)(),n=Object(o.useCallback)((function(){return tt.a.findDOMNode(t)}),[]);return c.a.createElement(l.FlexStackItem.H,{className:Object(i.a)("property-item-ctrl"),vAlign:"center",hAlign:"center",width:45},c.a.createElement(qn.a,{placement:"left",getPopupContainer:n,trigger:"hover",onVisibleChange:function(e){l.Resize.enable(!e)},destroyTooltipOnHide:!0,overlayClassName:Object(i.a)("property-item-options-setting"),title:c.a.createElement(Ue,{lid:"design.propertyEdit.propSetting"},"属性设置"),content:Zn(e,n)},c.a.createElement(Bn.a,{className:"prop-icon prop-icon-setting ".concat(e.readonly?Object(i.a)("disabled"):"")})),c.a.createElement(Jn.a,{disabled:e.readonly,className:"prop-icon",onClick:function(){var t=r.indexOf(e);t>=0&&r.splice(t,1)}}))})))})))}));Yn.displayName=Object(i.b)("PropertyEditor");var $n=Yn,Xn=(n(118),{syncElementResize:!0,modes:["Bottom"]}),Qn=Object(o.component)((function(e){var t=e.rootNode,n=t.activeNode;if(!n)return null;var a=t.console.script;return c.a.createElement("div",{className:Object(i.a)("render-generator")},c.a.createElement(l.Resize,{options:Xn},c.a.createElement("div",{className:"".concat(Object(i.a)("editor-wrapper")," ").concat(Object(i.a)("height-transition"))},c.a.createElement(En,{value:n.generateScript,compileOptions:{console:a}}))))}));Qn.displayName=Object(i.b)("RenderGenerator");var ea=Qn,ta=(n(119),Object(o.component)((function(e){var t=e.rootNode,n=t.activeNode,a=Object(o.useMemo)((function(){return{syncElementResize:!0,modes:["Bottom"]}}),[]);if(!n)return null;var r=o.Observe.silent((function(){return n.css||(n.css={}),n.css})),u=t.console.style,s={selector:n.getSymbol("cssSelector"),console:u};return c.a.createElement("div",{className:Object(i.a)("node-css-editor")},c.a.createElement("header",null,c.a.createElement(dn,{multi:!0,value:!!r.flatMode,onChange:function(e){r.flatMode=!e}},c.a.createElement(Ue,{lid:"design.styleSetting.flatMode"},"平铺模式"))),c.a.createElement(l.Resize,{options:a},c.a.createElement("div",{className:"".concat(Object(i.a)("editor-wrapper")," ").concat(Object(i.a)("height-transition"))},c.a.createElement(wn,{compileOptions:s,value:r}))))}))),na=(n(120),n(121),n(173)),aa=n(169),ra=n(272);function ca(e){return{path:e.path,name:e.name||e.caption}}function oa(e){if(e){var t=Object(na.c)(e);if(Object(aa.g)(t))return Object(aa.e)(t)}}function ia(e){return la.apply(this,arguments)}function la(){return(la=I()(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.asyncWrapper)(oa(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ua=Object(o.component)((function(e){var t=e.rootNode,n=t.context.imports,a=Object(o.useState)(!1),r=S()(a,2),u=r[0],s=r[1],d=Object(o.useState)(!1),m=S()(d,2),p=m[0],f=m[1],b=Object(o.useMemo)((function(){return{drag:!1,drop:function(e,t,n,a){return a.optionType===v.ComponentConfig},onDrop:function(e,a){return I()(M.a.mark((function e(){var r,c,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.data,s(!1),c=ca(r),o=t.componentTypes[c.path]=r.component.type,n.push(c),f(!0),e.next=8,ia(o);case 8:f(!1),Object(ra.b)(t);case 10:case"end":return e.stop()}}),e)})))()},onDropEnter:function(){s(!0,!1)},onDropLeave:function(){s(!1)}}}),[n]),g=function(){return c.a.createElement("div",{className:Object(i.a)("design-import-item-wrapper")},c.a.createElement(l.Loading,{spinning:p,iconSize:60},c.a.createElement(l.DragDrop,{options:b},c.a.createElement("ul",null,n.map((function(e,a){return c.a.createElement("li",{key:a},c.a.createElement("div",{title:e.path,className:Object(i.a)("design-import-path")},e.path),c.a.createElement("div",{className:Object(i.a)("design-import-remove")},c.a.createElement(Jn.a,{onClick:function(){var a=n.indexOf(e);a>=0&&(n.splice(a,1),Object(ra.b)(t))}})),c.a.createElement("div",null,c.a.createElement(me,{text:e.name,onChange:function(n){e.name=n,Object(ra.b)(t)}})))}))))))};return c.a.createElement(ln,{expand:!0,className:"".concat(Object(i.a)("design-import-setting")," ").concat(u?Object(i.a)("design-import-setting-drop-active"):""),title:c.a.createElement(Ue,{lid:"design.context.importResource"},"导入资源")},g)}));ua.displayName=Object(i.b)("ImportSetting");var sa=ua,da=(n(122),Object(o.component)((function(e){var t=e.rootNode,n=t.activeNode,a=Object(o.useMemo)((function(){return{syncElementResize:!0,modes:["Bottom"]}}),[]);if(!n)return null;var r=t.console.script;return c.a.createElement("div",{className:Object(i.a)("design-hooks-setting")},c.a.createElement(l.Resize,{options:a},c.a.createElement("div",{className:"".concat(Object(i.a)("editor-wrapper")," ").concat(Object(i.a)("height-transition"))},c.a.createElement(En,{value:n.hooksScript,compileOptions:{console:r},disabledRadio:!0,onSaved:function(){Object(g.c)(n)}}))))}))),ma=(n(123),Object(o.component)((function(e){var t=e.rootNode,n=t.activeNode;if(!n)return null;var a=t.componentTypes[n.path],r=n.caption||n.name;return c.a.createElement("div",{className:Object(i.b)("design-node-info")},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("label",null,c.a.createElement(Ue,{lid:"design.nodeInfo.id"},"节点ID"),"："),c.a.createElement("div",null,n.renderId)),c.a.createElement("li",null,c.a.createElement("label",null,c.a.createElement(Ue,{lid:"design.nodeInfo.name"},"节点名称"),"："),c.a.createElement("div",null,c.a.createElement(me,{text:r,onChange:function(e){n.caption=e}}))),c.a.createElement("li",null,c.a.createElement("label",null,c.a.createElement(Ue,{lid:"design.nodeInfo.compType"},"组件类型"),"："),c.a.createElement("span",null,a.type)),a.domain?c.a.createElement("li",null,c.a.createElement("label",null,c.a.createElement(Ue,{lid:"design.nodeInfo.pkgName"},"组件包名"),"："),c.a.createElement("span",null,a.domain)):null,c.a.createElement("li",null,c.a.createElement("label",null,c.a.createElement(Ue,{lid:"design.nodeInfo.compName"},"组件名称"),"："),c.a.createElement("span",null,a.libName)),a.version?c.a.createElement("li",null,c.a.createElement("label",null,c.a.createElement(Ue,{lid:"design.nodeInfo.compVersion"},"组件版本"),"："),c.a.createElement("span",null,a.version)):null))})));ma.displayName=Object(i.b)("ComponentSource");var pa=ma,fa=(n(124),n(257)),ba=(n(125),n(962)),va=n(195),ga=Ue({lid:"design.dataCollect.renderFunc.tips",default:"/**\n * 自定义函数渲染脚本\n * @param name 对应字段名称\n * @param element 原始组件元素\n * @param errorInfo 错误信息，\n    验证失败后为对应的规则消息名称\n */\n  module.exports = \n  function(name,element,errorInfo){\n    return element;\n  }\n"}),Oa=[{caption:c.a.createElement(Ue,{lid:"design.dataCollect.enableStatus"},"启用状态"),renderType:"Boolean",name:"enabled",help:c.a.createElement(Ue,{lid:"design.dataCollect.enableStatus.tips"},"启用后才会进行数据收集和验证")},{caption:c.a.createElement(Ue,{lid:"design.dataCollect.groupName"},"分组名称"),placeholder:Ue({lid:"design.dataCollect.groupName.placeholder",default:"请输入校验器分组名称"}),renderType:"String",name:"group"},{caption:c.a.createElement(Ue,{lid:"design.dataCollect.fieldName"},"字段名称"),placeholder:Ue({lid:"design.dataCollect.fieldName.placeholder",default:"请输入字段名称，默认为节点ID"}),renderType:"String",name:"name"},{caption:c.a.createElement(Ue,{lid:"design.dataCollect.containerWrapper"},"容器包裹"),renderType:"Boolean",default:!0,help:Ue({lid:"design.dataCollect.containerWrapper.tips",default:"是否用对原始组件进行包裹，默认会对组件用div进行包裹，并添加异常提示元素"}),name:"wrapper"},{caption:c.a.createElement(Ue,{lid:"design.dataCollect.nameParse"},"名称解析"),renderType:"Boolean",default:!0,help:c.a.createElement(Ue,{lid:"design.dataCollect.nameParse.tips"},"是否对如a.b.c等格式名称按层次结构生成数据结构"),name:"parseName"},{caption:c.a.createElement(Ue,{lid:"design.dataCollect.valueProp"},"取值名称"),placeholder:Ue({lid:"design.dataCollect.valueProp.placeholder",default:"请输入值对应属性名称，默认为value"}),renderType:"String",name:"valuePropName"},{caption:c.a.createElement(Ue,{lid:"design.dataCollect.changeProp"},"事件名称"),placeholder:Ue({lid:"design.dataCollect.changeProp.placeholder",default:"请输入事件名称，默认为onChange"}),renderType:"String",name:"changeTrigger"},{caption:c.a.createElement(Ue,{lid:"design.dataCollect.renderFunc"},"渲染函数"),renderType:"Script",help:c.a.createElement("div",{className:Object(i.a)("collect-tooltip-pre")},ga),name:"render"}],ya={syncElementResize:!0,modes:["Bottom"]};function ha(e,t,n){var a=n.getPopupContainer;return c.a.createElement(l.FlexStackItem.H,{width:80,hAlign:"right"},t.help?c.a.createElement(fa.a,{arrowPointAtCenter:!0,mouseEnterDelay:.6,placement:"right",title:c.a.createElement("span",{className:Object(i.a)("collect-help-text")},t.help),getPopupContainer:a},c.a.createElement(ba.a,{className:Object(i.a)("collect-help-icon")})):null,t.caption,"：")}var ja={Boolean:function(e,t,n){n.getPopupContainer;var a=t.name,r=t.default?!1!==e[a]:!!e[a];return c.a.createElement(l.FlexStack.H,{key:a,vAlign:"center",className:Object(i.a)("collect-option-row")},ha.apply(null,arguments),c.a.createElement(l.FlexStackItem.H,{style:{overflow:"hidden"}},c.a.createElement(dn,{className:Object(i.a)("collect-checkbox"),value:r,onChange:function(){e[a]=!r}},c.a.createElement(Ue,{lid:"design.dataCollect.yes"},"是"))))},String:function(e,t){var n=t.name,a=t.placeholder;return c.a.createElement(l.FlexStack.H,{key:n,vAlign:"center",className:Object(i.a)("collect-option-row")},ha.apply(null,arguments),c.a.createElement(l.FlexStackItem.H,null,c.a.createElement(Tn.a,{size:"small",placeholder:a,value:e[n],onChange:function(t){o.Observe.applySync((function(){e[n]=t.target.value}))}})))},Script:function(e,t){var n=t.name;return c.a.createElement(l.FlexStack.H,{key:n,vAlign:"center",className:Object(i.a)("collect-option-row")},ha.apply(null,arguments),c.a.createElement(l.Resize,{options:ya},c.a.createElement(l.FlexStackItem.H,{height:120},c.a.createElement(ie,{value:Object(va.c)(e,n),onChange:function(t){o.Observe.applySync((function(){Object(va.d)(e,n,t)}))}}))))}},Ea=Object(o.component)((function(e){var t=e.config,n=Object(o.useRef)(),a=Object(o.useCallback)((function(){return n.current}),[n]),r=Oa.slice(0,3),l=Oa.slice(3);return c.a.createElement("div",{ref:n,className:Object(i.a)("collect-config-items")},r.map((function(e){return ja[e.renderType](t,e,{getPopupContainer:a})})),c.a.createElement(ln,{title:c.a.createElement(Ue,{lid:"design.dataCollect.moreOption"},"更多选项"),type:"simple"},l.map((function(e){return ja[e.renderType](t,e,{getPopupContainer:a})}))))}));Ea.displayName=Object(i.b)("ConfigItems");var Na=Ea,Ca=(n(126),{syncElementResize:!0,modes:["Bottom"]}),xa=[{name:Ue({lid:"design.dataCollect.ruleSetting.required",default:"必选"}),value:"required"},{name:Ue({lid:"design.dataCollect.ruleSetting.min",default:"最少字符"}),value:"min"},{name:Ue({lid:"design.dataCollect.ruleSetting.max",default:"最多字符"}),value:"max"},{name:Ue({lid:"design.dataCollect.ruleSetting.regexp",default:"正则"}),value:"regexp"},{name:Ue({lid:"design.dataCollect.ruleSetting.func",default:"函数"}),value:"fn"}];var Sa=Object(o.component)((function(e){var t=e.config.rules,n=Object(o.useRef)(),a=Object(o.useState)(!1),r=S()(a,2),u=r[0],s=r[1],d=Object(o.useCallback)((function(){return n.current}),[n]),m=function(e,n){return c.a.createElement("div",{className:Object(i.a)("collect-rule-item-wrapper"),key:n},c.a.createElement(l.FlexStack.H,{vAlign:"center",className:Object(i.a)("collect-option-row")},c.a.createElement(l.FlexStackItem.H,{width:120,hAlign:"right"},c.a.createElement(Dn.a,{className:Object(i.a)("collect-select"),size:"small",getPopupContainer:d,value:e.type,onChange:function(t){e.type=t,e.value=""}},xa.map((function(e){return c.a.createElement(Dn.a.Option,{value:e.value,key:e.value},e.name)})))),c.a.createElement(l.FlexStackItem.H,{className:Object(i.a)("collect-input-wrapper")},function(e){var t=e.type;if("required"===t){var n=!!e.value;return c.a.createElement(dn,{className:Object(i.a)("collect-checkbox"),value:n,onChange:function(){e.value=!n}},c.a.createElement(Ue,{lid:"design.dataCollect.ruleSetting.requiredValue"},"必填"))}return["min","max"].indexOf(t)>=0?c.a.createElement(Tn.a,{size:"small",placeholder:Ue({lid:"design.dataCollect.inputPlaceholder",default:"请输入"}),value:e.value,onChange:function(t){o.Observe.applySync((function(){e.value=t.target.value}))}}):"regexp"===t?c.a.createElement(Tn.a,{size:"small",value:e.value,placeholder:Ue({lid:"design.dataCollect.ruleSetting.regexp.placeholder",default:"请输入正则字符串"}),onChange:function(t){o.Observe.applySync((function(){e.value=t.target.value}))}}):"fn"===t?c.a.createElement(l.Resize,{options:Ca},c.a.createElement(ie,{style:{height:120},value:Object(va.c)(e,"value"),onChange:function(t){o.Observe.applySync((function(){Object(va.d)(e,"value",t)}))}})):null}(e)),c.a.createElement(l.FlexStackItem.H,{width:30,hAlign:"center"},c.a.createElement(Jn.a,{className:Object(i.a)("collect-remove-rule"),onClick:function(){var n=t.indexOf(e);n>=0&&t.splice(n,1)}}))),c.a.createElement(l.FlexStack.H,{vAlign:"center",className:Object(i.a)("collect-option-row")},c.a.createElement(Tn.a,{size:"small",placeholder:Ue({lid:"design.dataCollect.ruleSetting.messagePlaceholder",default:"请输入提示信息"}),value:e.message,onChange:function(t){o.Observe.applySync((function(){e.message=t.target.value}))}})))};return c.a.createElement("div",{ref:n,className:Object(i.a)("collect-rules-collapse-wrapper")},c.a.createElement(ln,{className:Object(i.a)("collect-rules-collapse"),expand:u,onExpandChange:function(e){s(e)},title:c.a.createElement("div",{className:Object(i.a)("collect-rule-opt")},c.a.createElement(Un.a,{className:Object(i.a)("collect-add-rule"),onClick:function(e){e.stopPropagation(),t.push({type:"required",value:!0,message:""}),u||s(!0)}})," ",c.a.createElement(Ue,{lid:"design.dataCollect.ruleSetting"},"规则配置"))},c.a.createElement("div",{className:Object(i.a)("collect-rules-wrapper")},t.map((function(e,t){return m(e,t)})))))}));Sa.displayName=Object(i.b)("CollectDataRules");var ka=Sa,wa=n(963),Pa=Object(o.component)((function(e){var t=Object(o.useRef)(),n=e.rootNode.activeNode,a=Object(o.useCallback)((function(){return t.current}),[t]);Object(o.useLayoutEffect)((function(){n.collectConfig||(n.collectConfig={rules:[]})}),[n]);var r=n.collectConfig;return r?c.a.createElement("div",{ref:t,className:Object(i.a)("design-collect-option")},c.a.createElement(o.MemoComponent,{dep:[]},(function(){var e=Object(o.useState)(!1),t=S()(e,2),r=t[0],l=t[1];return c.a.createElement(fa.a,{placement:"right",mouseEnterDelay:.6,title:c.a.createElement("span",{className:Object(i.a)("collect-tooltip-text")},c.a.createElement(Ue,{lid:"design.dataCollect.sync"},"同步")),getPopupContainer:a},c.a.createElement(wa.a,{className:"".concat(Object(i.a)("design-collect-sync-icon")," ").concat(r?Object(i.a)("design-collect-sync-icon-loading"):""),onClick:I()(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,Object(va.e)(n);case 3:l(!1);case 4:case"end":return e.stop()}}),e)})))}))})),c.a.createElement(Na,{config:r}),c.a.createElement(ka,{config:r})):null}));Pa.displayName=Object(i.b)("CollectOption");var Ia=Pa;var La,Ma,Ta=(La=[],Ma=[{name:c.a.createElement(Ue,{lid:"design.context.setting"},"上下文设置"),key:"ContextSetting",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(sa,{rootNode:t}),c.a.createElement(Mn,{rootNode:t}))}},{name:c.a.createElement(Ue,{lid:"design.nodeInfo"},"节点信息"),key:"ComponentInfo",render:function(e,t){return c.a.createElement(pa,{rootNode:t})}},{name:c.a.createElement(Ue,{lid:"design.node.hooksScript"},"Hooks脚本"),key:"NodeHooksScript",render:function(e,t){return c.a.createElement(da,{rootNode:t})}},{name:c.a.createElement(Ue,{lid:"design.propertyEdit"},"属性编辑"),key:"PropertyEditor",render:function(e,t){return c.a.createElement($n,{rootNode:t})}},{name:c.a.createElement(Ue,{lid:"design.generator"},"生成器"),key:"RenderGenerator",render:function(e,t){return t.activeNode&&t.activeNode!==t?c.a.createElement(ea,{rootNode:t}):null}},{name:c.a.createElement(Ue,{lid:"design.styleSetting"},"样式设置"),key:"CSSEditor",render:function(e,t){return c.a.createElement(ta,{rootNode:t})}},{name:c.a.createElement(Ue,{lid:"design.dataCollect"},"数据收集"),key:"CollectOption",render:function(e,t){return c.a.createElement(Ia,{rootNode:t})}}],{reset:function(){La=[].concat(Ma)},config:{addItem:function(e){if(e){var t=e.name,n=e.key,a=e.render;La.push({name:t,key:n,render:a})}}},beforeRender:function(){var e=h.b.hooks.beforePropertyPanelRender;"function"==typeof e&&e(La)},renderItems:function(e){return function(e,t){return t.map((function(t){var n=t.name,a=t.key,r=void 0===a?n:a,o=t.render,i="function"==typeof o?o(e.activeNode,e):null;return i?c.a.createElement(Z.Panel,{key:r,header:n},i):null}))}(e,La)}}),Da=Object(o.component)((function(e){var t=e.designEngine.rootNode;Ta.reset(),function(e,t){var n=t.activeNode;if(!n)return[];var r,c=Object(g.b)(n,"PropertyPanel");c&&(r=c.fn)&&Object(o.safeApply)(r,[n,e,{components:a}])}(Ta.config,t);var n=c.a.createElement("div",null,c.a.createElement(Ue,{lid:"design.propertyPanel"},"属性面板"));Ta.beforeRender();var r=Ta.renderItems(t);return c.a.createElement(he,{title:n,className:Object(i.a)("i-design","prop-editor")},c.a.createElement(Z,{bordered:!1,defaultActiveKey:["PropertyEditor"]},r))}));Da.displayName=Object(i.b)("RightPanel");var Fa=Da,Ra=(n(127),{syncElementResize:!0,overlay:!1,modes:["Bottom"]}),Aa={syncElementResize:!0,index:300,overlay:!1,modes:["Right"]},Ha=Object(o.component)((function(e){var t=e.items,n=e.renderProps,a=t.length;return c.a.createElement(l.FlexStack.V,null,t.map((function(e){var t=e.props||{},r=c.a.createElement(l.FlexStackItem.V,w()({style:{position:"relative"},height:1!==a?e.height:"",key:e.key},t),e.render(n));return e.resize?c.a.createElement(l.Resize,{options:Ra,key:e.key},r):r})))})),za=Object(o.component)((function(e){var t=e.designEngine,n=e.componentConfig,a=t.layoutControl.left.items.filter((function(e){return!e.hidden}));if(0===a.length)return null;var r={designEngine:t,componentConfig:n};return c.a.createElement(l.Resize,{options:Aa},c.a.createElement(l.FlexStackItem.H,{width:dt,className:Object(i.a)("i-design","left-panel")},c.a.createElement(Ha,{items:a,renderProps:r})))}));za.Control=Object(o.component)((function(e){var t=e.designEngine.layoutControl;return c.a.createElement(l.FlexStackItem.H,{width:16,className:Object(i.a)("left-layout-control")},c.a.createElement(an,{items:t.left.items}))}));var Va=Object(o.component)((function(e){var t=e.designEngine,n=t.layoutControl.right.items.filter((function(e){return!e.hidden})),a=Object(o.useMemo)((function(){return{index:300,overlay:!1,modes:["Left"],onResize:function(e,t){var n=t.tx,a=t.originWidth,r=e.resizeElement,c=a-n;c<mt&&(c=mt),r.style.width="".concat(c,"px")}}}),[]);if(0===n.length)return null;var r={designEngine:t};return c.a.createElement(l.Resize,{options:a},c.a.createElement(l.FlexStackItem.H,{width:mt,className:Object(i.a)("i-design","right-layout")},c.a.createElement(Ha,{items:n,renderProps:r})))}));Va.displayName=Object(i.a)("DesignRightLayout"),Va.Control=Object(o.component)((function(e){var t=e.designEngine.layoutControl;return c.a.createElement(l.FlexStackItem.H,{width:16,className:Object(i.a)("right-layout-control")},c.a.createElement(an,{items:t.right.items}))}));var Ka=function(){var e=Object(o.useProps)(),t=Object(o.useMemo)((function(){return{customCompTabs:[]}}),[]);return e.hasOwnProperty("customCompTabs")&&(t.customCompTabs=e.customCompTabs),{layoutControl:Object(o.useMemo)((function(){return{left:{items:[{caption:c.a.createElement(Ue,{lid:"design.control.comp"},"组件"),key:"Component",hidden:!1,resize:!0,height:"60%",props:{className:Object(i.a)("i-design","component-list-wrapper")},render:function(e){var n=e.componentConfig;return c.a.createElement(o.MemoComponent,null,(function(){var e=Object(o.useMemo)((function(){return[{title:c.a.createElement(Ue,{lid:"design.components.headerTitle"},"组件列表"),render:function(){return c.a.createElement(qt,{config:n})}}].concat(t.customCompTabs||[])}),[t.customCompTabs]),a=Object(o.useState)(e[0]),r=S()(a,2),l=r[0],u=r[1],s={width:"".concat(100/e.length,"%")},d=c.a.createElement("div",{className:Object(i.a)("components-tabs")},e.map((function(t,n){return c.a.createElement("div",{className:"".concat(Object(i.a)("components-tab")," ").concat(e.length>1&&t===l?Object(i.a)("components-tab-active"):""),style:s,key:n,onClick:function(){t!==l&&u(t)}},t.title)})));return c.a.createElement(he,{className:Object(i.a)("component-tabs-header"),title:d},l.render())}))}},{caption:Ue({lid:"design.control.node",default:"节点"}),key:"node",hidden:!1,render:function(e){var t=e.designEngine;return c.a.createElement(he,{title:[c.a.createElement("span",{key:"txt"},c.a.createElement(Ue,{lid:"design.dom.headerTitle"},"节点")),c.a.createElement(Bt,{key:"icon",onClick:function(){var e;e=t.rootNode,Object(ke.a)(e),Object(Ne.a)(e)}})]},c.a.createElement(nn,{designEngine:t}))}}]},right:{items:[{caption:c.a.createElement(Ue,{lid:"design.control.prop"},"属性"),key:"Property",hidden:!1,render:function(e){var t=e.designEngine;return c.a.createElement(Fa,{designEngine:t})}}]}}}),[]),LeftLayout:za,RightLayout:Va}},qa=Object(o.component)((function(e){var t=e.designEngine;return c.a.createElement(l.FlexStackItem.H,{className:Object(i.a)("i-design","canvas")},c.a.createElement(Et,{designEngine:t},c.a.createElement(ht,{designEngine:t})))}));qa.displayName=Object(i.b)("DesignCanvasLayout");var Ua=Object(o.component)((function(e){var t=e.componentConfig,n=e.designId,a=void 0===n?"default":n,r=e.json,u=e.className;Object(o.useEffect)((function(){var e=new j.EventManager;return e.register("click:compClick",(function(t){return j.DOM.findUpUtil(t.target,(function(e){var t=Object(y.c)(e);if(t&&t.getEnvOptions().designMode)return e}),(function(t){return t===e.getProxyElement()}))})),e.on("compClick",(function(e){var t=e.target,n=Object(y.c)(t);Object(Ne.a)(n)})),e.mount(document.body),function(){e.unmount()}}),[]);var s=Ka(),d=s.layoutControl,m=s.LeftLayout,p=s.RightLayout,f=Object(o.useMemo)((function(){var e=Object(o.Observe)({rootNode:Object(Ce.d)(a,r),layoutControl:d},{autoApply:!0,autoApplyThrottle:!1}),t=e.data();return e.on("change",(function(){Object(Ce.g)(t.rootNode,a)})),t}),[r,a]);!function(e){var t=Object(o.useComponent)();Object(o.useEffect)((function(){var n=new j.EventManager({passive:!1}),a=ze("Ctrl+C|Meta+C"),r=ze("Ctrl+V|Meta+V"),c=null;return n.register("keydown:copy",(function(e){if(a.some((function(t){return Ve(e,t)}))){var t=document.activeElement;if(t)return t[ut]?t:void 0}})),n.register("keydown:past",(function(e){if(r.some((function(t){return Ve(e,t)}))){var t=document.activeElement;if(t)return t[ut]?t:void 0}})),n.on("copy",(function(t){var n=e.rootNode.activeNode;n&&n.parent&&(c=Object(Ce.e)(n),t.preventDefault())})),n.on("past",(function(t){var n=e.rootNode,a=n.activeNode;if(a&&c){t.preventDefault();var r=JSON.parse(JSON.stringify(c));(r=Object(Ce.a)(r,n)).document=n,r.parent=a,a.children?a.children.push(r):a.children=[r]}})),n.mount(tt.a.findDOMNode(t)),function(){n.unmount()}}),[e])}(f),Object(o.useMemo)((function(){o.Observe.silent((function(){f.viewSetting={highlightActiveNode:!0,previewMode:!1,fullscreen:!1,zoomState:{scale:1,tx:0,ty:0}}}))}),[]);var b=f.viewSetting;return c.a.createElement("div",{className:"".concat(Object(i.a)("i-design")," \n      ").concat(Object(i.a)("i-design","design-mode")," \n      ").concat(b.fullscreen?Object(i.a)("i-design","design-mode-fullscreen"):"","\n      ").concat(u||"","\n    ")},c.a.createElement(l.FlexStack.V,{key:"Content",style:{overflow:"hidden"}},c.a.createElement(l.FlexStackItem.V,{height:pt,vAlign:"center",className:Object(i.a)("i-design","nav")},c.a.createElement(Qe,{designEngine:f})),c.a.createElement(l.FlexStackItem.V,{flowMode:"horizontal"},c.a.createElement(m.Control,{designEngine:f}),c.a.createElement(m,{componentConfig:t,designEngine:f}),c.a.createElement(qa,{designEngine:f}),c.a.createElement(p,{designEngine:f}),c.a.createElement(p.Control,{designEngine:f})),c.a.createElement(l.FlexStackItem.V,{height:"auto",className:Object(i.a)("i-design","bottom-layout")},c.a.createElement(Dt,{designEngine:f}))))}));Ua.displayName=Object(i.b)("CodeDesign");var Ba=n(306),Ja={prefixCls:Ba.prefix,iconPrefixCls:Ba.iconPrefix},Ga=Object(o.component)((function(e){return c.a.createElement(u.a,Ja,c.a.createElement(Ua,e))}));Ga.displayName=Object(i.b)("CodeDesignRender");var _a=Ga,Wa=n(189)},316:function(e,t,n){"use strict";var a=n(231),r=n.n(a),c=n(233),o=n(20),i=n.n(o),l=n(0),u=n.n(l);c.Nodes.register({type:"http",url:"https://static.iovwv.com/nodes/antdv4",namespace:"antd_v4",version:"4.0.0"}),c.Nodes.register({namespace:"react",version:u.a.version,load:function(){return{indexModule:u.a}},loadMeta:function(){return{}}}),c.Nodes.register({namespace:"react-dom",version:i.a.version,load:function(){return{indexModule:i.a}},loadMeta:function(){return{}}});var s=n(163),d=n.n(s),m=n(189);var p=["div","p","span",{name:"img",propTypes:[{name:"src",caption:"资源地址"},{name:"style",caption:"内联样式"}]},{name:"iframe",propTypes:[{name:"src",caption:"资源地址"},{name:"style",caption:"内联样式"}]},"a","header","footer","video"];p.forEach((function(e){var t;t="object"===d()(e)?e.name:e,m.b.registerLocal("".concat("html.native",".").concat(t),Object(m.c)(t))}));var f=p.map((function(e){var t,n=[];"object"===d()(e)?(t=e.name,n=e.propTypes||[]):(t=e,n=[{name:"children",caption:"内容"},{name:"style",caption:"内联样式"}]);var a,r=t.toUpperCase();return{path:"/HTML/".concat(r),name:t,caption:r,component:{type:(a=t,m.b.Local("".concat("html.native",".").concat(a))),propTypes:n}}})),b=[{path:"/Antd4.0.2",caption:"Antd4.x",load:Object(m.a)({version:"4.0.0",domain:"antd_v4"})}],v=n(497),g=n(197),O=n(319),y=n(317),h=n(953),j=n(315);m.b.registerLocal("Button",g.a),m.b.registerLocal("Checkbox",O.a),m.b.registerLocal("Radio",y.a),m.b.registerLocal("Input",h.a),m.b.registerLocal("Select",j.a);var E=[{path:"/Antd本地/Button",caption:"按钮",component:{type:m.b.Local({libName:"Button"}),propTypes:[{name:"width",caption:"宽度"},{name:"height",caption:"高度"},{name:"children",initialValue:"按钮"},{name:"style",type:m.d.Style,initialValue:{}}]}},{path:"/Antd本地/Checkbox",caption:"复选框",component:{type:m.b.Local({libName:"Checkbox"}),propTypes:[{name:"children",initialValue:"复选框"},{name:"style",type:m.d.Style,initialValue:{}}]}},{path:"/Antd本地/Radio",caption:"单选框",component:{type:m.b.Local({libName:"Radio"}),propTypes:[{name:"children",initialValue:"单选"},{name:"style",type:m.d.Style,initialValue:{}}]}},{path:"/Antd本地/Input",caption:"输入框",component:{type:m.b.Local({libName:"Input"}),propTypes:[{name:"style",type:m.d.Style,initialValue:{}}]}},{path:"/Antd本地/Select",caption:"下拉框",component:{type:m.b.Local({libName:"Select"}),propTypes:[{name:"style",type:m.d.Style,initialValue:{}}]}}];m.b.registerLocal("HFlexStack",v.FlexStack.H),m.b.registerLocal("VFlexStack",v.FlexStack.V),m.b.registerLocal("HFlexStackItem",v.FlexStackItem.H),m.b.registerLocal("VFlexStackItem",v.FlexStackItem.V),m.b.registerLocal("AbsLayout",v.AbsLayout),m.b.registerLocal("GridLayout",v.GridLayout);var N=[{name:"默认",value:""},{name:"向左对齐",value:"left"},{name:"居中对齐",value:"center"},{name:"向右对齐",value:"right"}],C=[{name:"默认",value:""},{name:"顶部对齐",value:"top"},{name:"居中对齐",value:"center"},{name:"底部对齐",value:"bottom"}];t.a={items:[{path:"/容器",expand:!0},{path:"/容器/水平/HFlexStack",caption:"水平Flex容器",accept:["HFlexStackItem"],component:{type:m.b.Local({libName:"HFlexStack"}),propTypes:[{name:"width",caption:"宽度"},{name:"height",caption:"高度"},{name:"style",type:m.d.Style,initialValue:{}}]}},{path:"/容器/水平/HFlexStack/HFlexStackItem",caption:"水平FlexItem",dragType:"HFlexStackItem",component:{type:m.b.Local({libName:"HFlexStackItem"}),propTypes:[{name:"width",caption:"宽度"},{name:"height",caption:"高度"},{name:"vAlign",caption:"垂直对齐",type:m.d.Enum,options:C,initialValue:""},{name:"hAlign",caption:"水平对齐",type:m.d.Enum,options:N,initialValue:""},{name:"margin",caption:"间距",initialValue:"20px"},{name:"style",type:m.d.Style,initialValue:{}}]}},{path:"/容器/垂直/VFlexStack",caption:"垂直Flex容器",accept:["VFlexStack"],component:{type:m.b.Local({libName:"VFlexStack"}),propTypes:[{name:"width",caption:"宽度"},{name:"height",caption:"高度"},{name:"style",type:m.d.Style,initialValue:{}}]}},{path:"/容器/垂直/VFlexStack/VFlexStackItem",caption:"垂直FlexItem",dragType:"VFlexStackItem",component:{type:m.b.Local({libName:"VFlexStackItem"}),propTypes:[{name:"width",caption:"宽度"},{name:"height",caption:"高度"},{name:"vAlign",caption:"垂直对齐",type:m.d.Enum,options:C,initialValue:""},{name:"hAlign",caption:"水平对齐",type:m.d.Enum,options:N,initialValue:""},{name:"margin",caption:"间距",initialValue:"20px"},{name:"style",type:m.d.Style,initialValue:{}}]}},{path:"/容器/AbsPanel",name:"AbsLayout",caption:"绝对布局",component:{type:m.b.Local("AbsLayout"),propTypes:[{name:"axisLineEnabled",caption:"辅助线",type:m.d.Boolean,initialValue:!1},{name:"autoResizing",caption:"自适应视图",type:m.d.Boolean,initialValue:!1}]}},{path:"/容器/GridPanel",name:"GridLayout",caption:"网格布局",component:{type:m.b.Local("GridLayout"),propTypes:[{name:"responsive",caption:"响应式布局",type:m.d.Boolean,initialValue:!0},{name:"cols",caption:"列数",type:m.d.Number,initialValue:24},{name:"rows",caption:"行数",type:m.d.Number,initialValue:4},{name:"marginX",caption:"水平间距",type:m.d.Number,initialValue:10},{name:"marginY",caption:"垂直间距",type:m.d.Number,initialValue:10},{name:"paddingLeft",caption:"左边空隙",type:m.d.Number,initialValue:0},{name:"paddingRight",caption:"右边空隙",type:m.d.Number,initialValue:0},{name:"paddingTop",caption:"顶部空隙",type:m.d.Number,initialValue:0},{name:"paddingBottom",caption:"底部空隙",type:m.d.Number,initialValue:0},{name:"draggable",caption:"可拖拽",type:m.d.Boolean,initialValue:!0},{name:"resizable",caption:"可改变大小",type:m.d.Boolean,initialValue:!0}]}}].concat(r()(b),r()(f),r()(E))}},398:function(e,t,n){"use strict";n(233),n(0),n(20)},492:function(e){e.exports=JSON.parse('{"lang":"zh-CN","data":{"design.editor.option":"选项","design.editor.autoSave":"自动保存","design.editor.handSave":"手动保存","design.editor.save":"保存","design.control.comp":"组件","design.control.node":"节点","design.control.prop":"属性","design.nav.file":"文件","design.nav.file.new":"新建","design.nav.file.save":"保存","design.nav.file.open":"打开","design.nav.file.saveAs":"另存为","design.nav.view":"视图","design.nav.view.highlightActive":"高亮选中区域","design.components.headerTitle":"组件列表","design.dom.headerTitle":"节点","design.canvas.headerTitle":"画布","design.console.error":"错误","design.console.terminal":"终端","design.console.style":"样式","design.console.script":"脚本","design.propType.string":"字符串","design.propType.number":"数值","design.propType.boolean":"布尔值","design.propType.style":"样式","design.propType.script":"脚本","design.propType.json":"JSON","design.propType.runtime":"运行时","design.propType.parentComp":"父组件","design.context.setting":"上下文设置","design.context.importResource":"导入资源","design.context.initScript":"初始化脚本","design.node.hooksScript":"Hooks脚本","design.nodeInfo":"节点信息","design.nodeInfo.id":"节点ID","design.nodeInfo.name":"节点名称","design.nodeInfo.compType":"组件类型","design.nodeInfo.pkgName":"组件类型","design.nodeInfo.compName":"组件名称","design.nodeInfo.compVersion":"组件版本","design.propertyPanel":"设置","design.propertyEdit":"属性编辑","design.propertyEdit.propSetting":"属性设置","design.propertyEdit.propName":"属性名称","design.propertyEdit.propDesc":"属性描述","design.propertyEdit.propType":"属性类型","design.styleSetting":"样式设置","design.styleSetting.flatMode":"平铺模式","design.generator":"生成器","design.dataCollect":"数据收集","design.dataCollect.sync":"同步","design.dataCollect.yes":"是","design.dataCollect.enableStatus":"启用状态","design.dataCollect.enableStatus.tips":"启用后才会进行数据收集和验证","design.dataCollect.groupName":"分组名称","design.dataCollect.groupName.placeholder":"请输入分组名称","design.dataCollect.fieldName":"字段名称","design.dataCollect.fieldName.placeholder":"请输入字段名称，默认为节点ID","design.dataCollect.containerWrapper":"容器包裹","design.dataCollect.containerWrapper.tips":"是否用对原始组件进行包裹，默认会对组件用div进行包裹，并添加异常提示元素","design.dataCollect.nameParse":"名称解析","design.dataCollect.nameParse.tips":"是否对如a.b.c等格式名称按层次结构生成数据结构","design.dataCollect.valueProp":"取值名称","design.dataCollect.valueProp.placeholder":"请输入值对应的属性名称，默认为value","design.dataCollect.changeProp":"事件名称","design.dataCollect.changeProp.placeholder":"请输入事件名称，默认为onChange","design.dataCollect.renderFunc":"渲染函数","design.dataCollect.renderFunc.tips":"/**\\n * 自定义函数渲染脚本\\n * @param name 对应字段名称\\n * @param element 原始组件元素\\n * @param errorInfo 错误信息，\\n    验证失败后为对应的规则消息名称\\n */\\n  module.exports = \\n  function(name,element,errorInfo){\\n    return element;\\n  }","design.dataCollect.moreOption":"更多选项","design.dataCollect.ruleSetting":"规则配置","design.dataCollect.ruleSetting.messagePlaceholder":"请输入提示信息","design.dataCollect.inputPlaceholder":"请输入","design.dataCollect.ruleSetting.required":"必选","design.dataCollect.ruleSetting.requiredValue":"必填","design.dataCollect.ruleSetting.max":"最多字符","design.dataCollect.ruleSetting.min":"最少字符","design.dataCollect.ruleSetting.regexp":"正则","design.dataCollect.ruleSetting.regexp.placeholder":"正则","design.dataCollect.ruleSetting.func":"函数"}}')},493:function(e){e.exports=JSON.parse('{"lang":"en","data":{"design.context.setting":"ContextSetting"}}')},494:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0);var a=n(194),r=n(7),c=n(210),o=function(e){return r.Observe.apply((function(){r.Observe.silentRead(e)}))};function i(e){if(e.context){var t=e.console.script;Object(a.b)(e)(Object(c.b)(c.a.Context,e))({execute:o,console:t})}}},495:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(173),r=n(169),c=n(7);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.values(e.componentTypes).forEach((function(e){var n=Object(a.c)(e);Object(r.g)(n)&&t.push(Object(c.asyncWrapper)(Object(r.e)(n)))})),t}function i(e,t){return t=t||o(e),Promise.all(t)}},496:function(e,t,n){"use strict";var a=n(7),r=n(0),c=n.n(r),o=n(137),i=Object(a.component)((function(e){var t=e.rootNode.styles;return t?c.a.createElement(c.a.Fragment,null,Object.keys(t).map((function(e){var n=t[e];return c.a.createElement("style",{key:e,type:"text/css"},n.content)}))):null}));i.displayName=Object(o.b)("CssRender"),t.a=i}}]);