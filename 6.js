(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{122:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return i}));var a=n(12),c="ky-ant",r="ky-anticon",o=Object(a.f)("ky-code"),l=o.prefixName,i=o.prefixClassName},302:function(e){e.exports=JSON.parse('{"lang":"zh-CN","data":{"design.editor.option":"选项","design.editor.autoSave":"自动保存","design.editor.handSave":"手动保存","design.editor.save":"保存","design.control.comp":"组件","design.control.node":"节点","design.control.prop":"属性","design.nav.file":"文件","design.nav.file.new":"新建","design.nav.file.save":"保存","design.nav.file.open":"打开","design.nav.file.saveAs":"另存为","design.nav.view":"视图","design.nav.view.highlightActive":"高亮选中区域","design.components.headerTitle":"组件列表","design.dom.headerTitle":"节点","design.canvas.headerTitle":"画布","design.console.error":"错误","design.console.terminal":"终端","design.console.style":"样式","design.console.script":"脚本","design.propType.string":"字符串","design.propType.number":"数值","design.propType.boolean":"布尔值","design.propType.style":"样式","design.propType.script":"脚本","design.propType.json":"JSON","design.propType.runtime":"运行时","design.propType.parentComp":"父组件","design.context.setting":"上下文设置","design.context.importResource":"导入资源","design.context.initScript":"初始化脚本","design.node.hooksScript":"Hooks脚本","design.nodeInfo":"节点信息","design.nodeInfo.id":"节点ID","design.nodeInfo.name":"节点名称","design.nodeInfo.compType":"组件类型","design.nodeInfo.pkgName":"组件类型","design.nodeInfo.compName":"组件名称","design.nodeInfo.compVersion":"组件版本","design.propertyPanel":"设置","design.propertyEdit":"属性编辑","design.propertyEdit.propSetting":"属性设置","design.propertyEdit.propName":"属性名称","design.propertyEdit.propDesc":"属性描述","design.propertyEdit.propType":"属性类型","design.styleSetting":"样式设置","design.styleSetting.flatMode":"平铺模式","design.generator":"生成器","design.dataCollect":"数据收集","design.dataCollect.sync":"同步","design.dataCollect.yes":"是","design.dataCollect.enableStatus":"启用状态","design.dataCollect.enableStatus.tips":"启用后才会进行数据收集和验证","design.dataCollect.groupName":"分组名称","design.dataCollect.groupName.placeholder":"请输入分组名称","design.dataCollect.fieldName":"字段名称","design.dataCollect.fieldName.placeholder":"请输入字段名称，默认为节点ID","design.dataCollect.containerWrapper":"容器包裹","design.dataCollect.containerWrapper.tips":"是否用对原始组件进行包裹，默认会对组件用div进行包裹，并添加异常提示元素","design.dataCollect.nameParse":"名称解析","design.dataCollect.nameParse.tips":"是否对如a.b.c等格式名称按层次结构生成数据结构","design.dataCollect.valueProp":"取值名称","design.dataCollect.valueProp.placeholder":"请输入值对应的属性名称，默认为value","design.dataCollect.changeProp":"事件名称","design.dataCollect.changeProp.placeholder":"请输入事件名称，默认为onChange","design.dataCollect.renderFunc":"渲染函数","design.dataCollect.renderFunc.tips":"/**\\n * 自定义函数渲染脚本\\n * @param name 对应字段名称\\n * @param element 原始组件元素\\n * @param errorInfo 错误信息，\\n    验证失败后为对应的规则消息名称\\n */\\n  module.exports = \\n  function(name,element,errorInfo){\\n    return element;\\n  }","design.dataCollect.moreOption":"更多选项","design.dataCollect.ruleSetting":"规则配置","design.dataCollect.ruleSetting.messagePlaceholder":"请输入提示信息","design.dataCollect.inputPlaceholder":"请输入","design.dataCollect.ruleSetting.required":"必选","design.dataCollect.ruleSetting.requiredValue":"必填","design.dataCollect.ruleSetting.max":"最多字符","design.dataCollect.ruleSetting.min":"最少字符","design.dataCollect.ruleSetting.regexp":"正则","design.dataCollect.ruleSetting.regexp.placeholder":"正则","design.dataCollect.ruleSetting.func":"函数"}}')},303:function(e){e.exports=JSON.parse('{"lang":"en","data":{"design.context.setting":"ContextSetting"}}')},793:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"Tree",(function(){return _})),n.d(a,"Collapse",(function(){return Y})),n.d(a,"CssEditor",(function(){return ae})),n.d(a,"JSONEditor",(function(){return oe})),n.d(a,"JSEditor",(function(){return de})),n.d(a,"EditableText",(function(){return me})),n.d(a,"TextEditor",(function(){return ee})),n.d(a,"LessEditor",(function(){return ge})),n.d(a,"PositionPanel",(function(){return be})),n.d(a,"HeaderPanel",(function(){return ye})),n.d(a,"AbsoluteHeaderPanel",(function(){return Oe}));var c={};n.r(c),n.d(c,"Engine",(function(){return Se})),n.d(c,"Provider",(function(){return ma})),n.d(c,"CanvasRender",(function(){return _e})),n.d(c,"CanvasLayout",(function(){return ua})),n.d(c,"useNodeShortCutOperation",(function(){return Ke})),n.d(c,"Default",(function(){return va}));var r=n(0),o=n.n(r),l=n(9),i=(n(39),n(122)),d=n(124),s=n(159),u=n.n(s),m=n(160),p=n.n(m),v=n(132),g=n.n(v),f={ComponentConfig:Object(l.h)("ComponentConfig"),ComponentNode:Object(l.h)("ComponentNode")},b=n(128),E=n(12),h=n(144);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){var t=function(e,t){if("object"!==u()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==u()(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u()(t)?t:String(t)}var j=b.g.CNode,N=b.d.inject,C=b.n.createNode,x=b.n.getNodeElement,S=b.n.importComponentType;function w(e){return{drag:!1,accept:e.accept,drop:function(e,t,n,a){return a.optionType===f.ComponentConfig},onDrop:function(t,n){l.c.apply((function(){var a=n.data;if(!j.dispatch(e,h.a.Drop,{originEvent:t,config:a}).isPreventDefault){e.hoverStatus=null;var c=function(e,t,n){var a=C(t);return a.document=n.document||n,a.parent=n,S(a,t),a}(0,a,e);e.children?e.children.push(c):e.children=[c],j.dispatch(e,h.a.Dropped,{originEvent:t,config:a,node:c})}}))},onDropEnter:function(t,n){l.c.apply((function(){j.dispatch(e,h.a.Drop,{originEvent:t,config:n.data}).isPreventDefault||(e.hoverStatus={e:t,item:n.data})}))},onDropOver:function(t,n){l.c.apply((function(){if(!j.dispatch(e,h.a.Drop,{originEvent:t,config:n.data}).isPreventDefault){var a=e.hoverStatus;a?(a.e=t,a.item=n.data):e.hoverStatus={e:t,item:n.data}}}))},onDropLeave:function(t,n){l.c.apply((function(){j.dispatch(e,h.a.Drop,{originEvent:t,config:n.data}).isPreventDefault||(e.hoverStatus=null)}))}}}N({createDragDrop:function(e){var t=Object(l.g)((function(t){var n=t[h.b],a=t.className,c=g()(t,[h.b,"className"].map(O));c[h.b]=n;var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:"".concat(a||"")},c);if(j.isShadowNode(n))return o.a.createElement(e,r);r.className="".concat(a||""," ").concat(n.hoverStatus?Object(i.c)("container-drop-over"):"");var s=o.a.createElement(e,r),u=Object(l.v)((function(){return w(n)}),[n]);return o.a.createElement(d.b,{options:u},s)}));return t.displayName=Object(i.d)("DesignDragDrop"),t},createNodeBounds:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=x(t);if(a){var c=E.a.getPosition(e,a),r=Object(l.k)(n,"view.width"),o=Object(l.k)(n,"view.height");r=parseFloat(r)||0,o=parseFloat(o)||0;var i=E.a.getElementScale(a),d=i.x,s=i.y,u=a.scrollLeft||0,m=a.scrollTop||0,p={x:c.x/d+u,y:c.y/s+m,width:r,height:o};return p}}});var k=n(135),P=n.n(k),z=n(131),H=n.n(z),L=n(162),T=n.n(L),M=n(163),D=n.n(M),V=(n(66),n(67),n(68),{assets:o.a.createElement("svg",{viewBox:"0 0 1024 1024"},o.a.createElement("path",{d:"M497.69083 562.529258L3.577293 281.264629 497.69083 0l522.731877 281.264629zM93.009607 281.264629l404.681223 229.841048 427.486463-229.841048-426.59214-230.28821z"}),o.a.createElement("path",{d:"M497.69083 793.264629L3.577293 512l148.01048-84.066376 21.910917 38.903057-79.59476 45.163319 404.681223 229.841048 427.486463-229.841048-90.773799-48.740611 21.463755-39.350219 163.661135 88.09083-522.731877 281.264629z",fill:"#0F3567","p-id":"4275"}),o.a.createElement("path",{d:"M497.69083 1024L3.577293 742.735371l131.465502-74.675982 22.358078 38.903056-63.496943 35.772926 404.681223 230.28821 427.486463-230.28821-67.968559-36.667249 21.016594-39.350218 141.303056 76.017467-522.731877 281.264629z"})),clear:o.a.createElement("svg",{viewBox:"0 0 1024 1024"},o.a.createElement("path",{d:"M615.564215 406.570809"}),o.a.createElement("path",{d:"M885.03553 548.117592l-15.940041 0 0 243.09662c0 70.937632 15.940041 131.517359 15.940041 131.517359 0 17.530258-14.346753 31.882128-31.883151 31.882128L167.689698 954.6137c-17.532305 0-31.878035-14.351869-31.878035-31.882128 0 0 15.940041-58.190307 15.940041-128.32976L151.751704 548.117592l-15.940041 0c-17.537422 0-31.883151-14.349823-31.883151-31.888268L103.928512 356.824825c0-17.537422 14.34573-31.884175 31.883151-31.884175l270.995017 0L406.806681 149.58997c0-43.838438 35.867906-79.70532 79.707366-79.70532l47.822169 0c43.838438 0 79.704296 35.866882 79.704296 79.70532l0 175.349657 270.996041 0c17.537422 0 31.882128 14.346753 31.882128 31.884175l0 159.41064C916.917658 533.767769 902.572952 548.117592 885.03553 548.117592L885.03553 548.117592 885.03553 548.117592zM335.071893 922.726455 335.071893 711.508893c0-6.374174 5.583159-11.951193 11.95631-11.951193l7.966439 0c6.380314 0 11.961426 5.577019 11.961426 11.951193l0 211.217562 135.495974 0L502.452042 711.508893c0-6.374174 5.581112-11.951193 11.954263-11.951193l7.965415 0c6.385431 0 11.962449 5.577019 11.962449 11.951193l0 211.217562 127.526465 0L661.860634 711.508893c0-6.374174 5.577019-11.951193 11.951193-11.951193l7.972579 0c6.377244 0 11.955286 5.577019 11.955286 11.951193l0 211.217562 159.411663 0c0 0-15.939017-57.388035-15.939017-128.324644L837.212338 548.117592 183.633832 548.117592l0 246.284219c0 70.936609-15.945157 128.324644-15.945157 128.324644L335.071893 922.726455 335.071893 922.726455 335.071893 922.726455zM885.03553 372.761796c0-8.768711-7.17133-15.936971-15.940041-15.936971L582.156338 356.824825 582.156338 157.562549c0-31.085996-24.708751-55.793724-55.794747-55.793724l-31.878035 0c-31.084972 0-55.79884 24.707728-55.79884 55.793724l0 199.262276L151.750681 356.824825c-8.769734 0-15.940041 7.16826-15.940041 15.936971l0 127.528512c0 8.769734 7.170307 15.940041 15.940041 15.940041l31.883151 0 653.578506 0 31.882128 0c8.768711 0 15.940041-7.170307 15.940041-15.940041L885.034507 372.761796 885.03553 372.761796 885.03553 372.761796zM885.03553 372.761796"}),o.a.createElement("path",{d:"M885.03553 548.117592l-15.940041 0 0 243.09662c0 70.937632 15.940041 131.517359 15.940041 131.517359 0 17.530258-14.346753 31.882128-31.883151 31.882128L167.689698 954.6137c-17.532305 0-31.878035-14.351869-31.878035-31.882128 0 0 15.940041-58.190307 15.940041-128.32976L151.751704 548.117592l-15.940041 0c-17.537422 0-31.883151-14.349823-31.883151-31.888268L103.928512 356.824825c0-17.537422 14.34573-31.884175 31.883151-31.884175l270.995017 0L406.806681 149.58997c0-43.838438 35.867906-79.70532 79.707366-79.70532l47.822169 0c43.838438 0 79.704296 35.866882 79.704296 79.70532l0 175.349657 270.996041 0c17.537422 0 31.882128 14.346753 31.882128 31.884175l0 159.41064C916.917658 533.767769 902.572952 548.117592 885.03553 548.117592L885.03553 548.117592 885.03553 548.117592zM335.071893 912.493393 335.071893 711.508893c0-6.374174 5.583159-11.951193 11.95631-11.951193l7.966439 0c6.380314 0 11.961426 5.577019 11.961426 11.951193l0 200.984501 135.495974 0L502.452042 711.508893c0-6.374174 5.581112-11.951193 11.954263-11.951193l7.965415 0c6.385431 0 11.962449 5.577019 11.962449 11.951193l0 200.984501 127.526465 0L661.860634 711.508893c0-6.374174 5.577019-11.951193 11.951193-11.951193l7.972579 0c6.377244 0 11.955286 5.577019 11.955286 11.951193l0 200.984501 149.178601 0c0 0-15.939017-47.154973-15.939017-118.091582L826.979276 548.117592 193.866894 548.117592l0 246.284219c0 70.936609-15.945157 118.091582-15.945157 118.091582L335.071893 912.493393l0 10.233062L335.071893 912.493393zM874.802468 382.994857c0-8.768711-7.17133-15.936971-15.940041-15.936971L571.923276 367.057887 571.923276 157.562549c0-31.085996-24.708751-45.560662-55.794747-45.560662l-11.411911 0c-31.084972 0-55.79884 14.474666-55.79884 45.560662l0 209.495338L161.983743 367.057887c-8.769734 0-15.940041 7.16826-15.940041 15.936971l0 107.062388c0 8.769734 7.170307 15.940041 15.940041 15.940041l31.883151 0 633.112382 0 31.882128 0c8.768711 0 15.940041-7.170307 15.940041-15.940041L874.801445 382.994857l10.233062 0L874.802468 382.994857zM885.03553 372.761796"})),edit:o.a.createElement("svg",{viewBox:"0 0 1089 1024"},o.a.createElement("path",{d:"M1062.01504 124.471168 963.208019 25.664192C946.526317 8.982464 923.42857 0 900.330829 0 875.949875 0 854.135341 8.982464 837.453632 25.664192L788.691731 74.426048 788.691731 74.426048 271.558899 591.558912C270.275686 592.842112 268.99248 594.125312 268.99248 595.408512 268.99248 595.408512 268.99248 596.691712 267.709274 596.691712 266.426067 597.974912 266.426067 599.258176 265.142854 600.541376 265.142854 600.541376 265.142854 600.541376 265.142854 601.824576 265.142854 603.107776 265.142854 603.107776 263.859648 604.390976L193.283206 862.315776C190.716794 871.29824 193.283206 881.563904 199.699251 887.979968 204.832083 893.112768 211.248122 895.679168 218.947366 895.679168 221.513786 895.679168 224.080198 895.679168 225.363411 894.395968L484.57143 822.53632C485.854637 822.53632 485.854637 822.53632 487.137843 821.25312L488.42105 821.25312C489.704262 821.25312 490.987469 819.96992 492.270675 818.68672 492.270675 818.68672 493.553882 818.68672 493.553882 817.40352 494.837094 816.12032 496.120301 816.12032 497.403507 814.83712L1013.253133 298.987456 1062.01504 250.225536C1096.661651 216.862144 1096.661651 159.117824 1062.01504 124.471168L1062.01504 124.471168ZM317.754387 813.553856 274.125312 769.9248 303.639098 660.85216 426.827066 784.040128 317.754387 813.553856 317.754387 813.553856ZM328.020051 609.52384 806.65664 130.887232 819.488723 143.719296 863.117792 187.348352 384.481203 665.98496 328.020051 609.52384 328.020051 609.52384ZM478.155386 759.659136 421.694234 703.198016 900.330829 224.561408 956.791981 281.022528 478.155386 759.659136 478.155386 759.659136ZM1023.518797 214.295744 994.005011 243.809536 843.869677 93.674176 874.666669 62.877184C881.082707 56.461184 890.065165 52.61152 900.330829 52.61152 910.596493 52.61152 919.57895 56.461184 925.994989 62.877184L1024.802003 161.684224C1037.634086 177.082688 1037.634086 200.18048 1023.518797 214.295744L1023.518797 214.295744ZM949.09273 476.070144C934.977446 476.070144 922.145363 487.619072 922.145363 503.017536L922.145363 934.175424C922.145363 955.989952 904.180448 973.95488 882.365914 973.95488L153.503757 973.95488C131.689222 973.95488 113.724314 955.989952 113.724314 934.175424L113.724314 204.03008C113.724314 182.215552 131.689222 164.250624 153.503757 164.250624L584.661651 164.250624C598.776941 164.250624 611.609024 152.70176 611.609024 137.303232 611.609024 121.904768 600.060147 110.355904 584.661651 110.355904L153.503757 110.355904C102.175437 110.355904 61.112781 151.41856 61.112781 202.74688L61.112781 931.609024C61.112781 982.937344 102.175437 1024 153.503757 1024L882.365914 1024C933.694234 1024 974.75689 982.937344 974.75689 931.609024L974.75689 503.017536C976.040102 488.902272 964.491226 476.070144 949.09273 476.070144L949.09273 476.070144Z"})),"em-clear":o.a.createElement("svg",{viewBox:"0 0 1024 1024"},o.a.createElement("path",{d:"M554.666667 469.333333h-85.333334V682.666667h85.333334V469.333333z"}),o.a.createElement("path",{d:"M725.333333 213.333333v85.333334H853.333333v85.333333h-88.632889l-16.497777 428.316444a42.666667 42.666667 0 0 1-42.609778 41.016889H318.407111a42.666667 42.666667 0 0 1-42.666667-41.016889l-16.497777-428.316444H170.666667v-85.333333h128v-85.333334A42.666667 42.666667 0 0 1 341.333333 170.666667h341.333334a42.666667 42.666667 0 0 1 42.666666 42.666666z m-341.333333 85.333334V256h256v42.666667h-256z m-39.310222 85.333333h334.620444l-14.791111 384H359.480889l-14.791111-384z"})),expand:o.a.createElement("svg",{viewBox:"0 0 1024 1024"},o.a.createElement("path",{d:"M917.333333 364.8L851.2 298.666667 512 637.866667 172.8 298.666667 106.666667 364.8 512 768z"})),"node-tree":o.a.createElement("svg",{viewBox:"0 0 1024 1024"},o.a.createElement("path",{d:"M492.12 284.71m20 0l0 0q20 0 20 20l0 452.9q0 20-20 20l0 0q-20 0-20-20l0-452.9q0-20 20-20Z","p-id":"13596"}),o.a.createElement("path",{d:"M164 799.2a60 60 0 1 1-60 60 60.07 60.07 0 0 1 60-60m0-40a100 100 0 1 0 100 100 100 100 0 0 0-100-100zM512.12 799.2a60 60 0 1 1-60 60 60.07 60.07 0 0 1 60-60m0-40a100 100 0 1 0 100 100 100 100 0 0 0-100-100zM860 799.2a60 60 0 1 1-60 60 60.07 60.07 0 0 1 60-60m0-40a100 100 0 1 0 100 100 100 100 0 0 0-100-100zM647.12 156.86a20.26 20.26 0 0 1 20 20v84a20.26 20.26 0 0 1-20 20h-270a20.27 20.27 0 0 1-20-20v-84a20.27 20.27 0 0 1 20-20h270m0-40h-270a60.18 60.18 0 0 0-60 60v84a60.18 60.18 0 0 0 60 60h270a60.18 60.18 0 0 0 60-60v-84a60.18 60.18 0 0 0-60-60z"}),o.a.createElement("path",{d:"M870.84 777.61a20 20 0 0 1-20-20c0-200.49-170.12-290.23-338.71-290.23s-338.72 89.74-338.72 290.23a20 20 0 0 1-40 0c0-100.4 38.88-185.1 112.45-244.92 34.12-27.76 74.7-49.21 120.59-63.76 45.1-14.3 94.11-21.55 145.68-21.55s100.57 7.25 145.67 21.55c45.89 14.55 86.46 36 120.59 63.76C852 572.51 890.84 657.21 890.84 757.61a20 20 0 0 1-20 20z"})),prop:o.a.createElement("svg",{viewBox:"0 0 1024 1024"},o.a.createElement("path",{d:"M800 0v191.936H671.872V448h128.064v576h64V448h127.936V192H864V0h-64z m-63.936 256h192v127.872L928 384H736V256zM480 0v576H352V832h127.936V1024h64v-191.936H672V576H543.936V0h-64zM415.744 640.128l0.192-0.064h191.808v128h-192v-127.936zM160 0v191.936H32V448h127.872v576h64.192V448h127.872V192H224V0H160zM95.872 256h192v127.872L288.064 384H95.872V256z"})),remove:o.a.createElement("svg",{viewBox:"0 0 1024 1024"},o.a.createElement("path",{d:"M968 498.4c13.6 296-259.2 532-564.8 454.4C248 913.6 126.4 792 87.2 637.6 8.8 332 245.6 59.2 540.8 72c231.2 11.2 416 196 427.2 426.4zM136 520c0 212 172.8 384 384.8 384 210.4-0.8 381.6-172 382.4-381.6 0.8-212-171.2-385.6-383.2-385.6C308.8 136 136 308 136 520z"}),o.a.createElement("path",{d:"M768 544H256v-64h512z"})),save:o.a.createElement("svg",{viewBox:"0 0 1024 1024"},o.a.createElement("path",{d:"M540.444444 227.555556h85.333334v113.777777h-85.333334V227.555556zM199.111111 824.888889V199.111111h56.888889v199.111111c0 28.444444 22.072889 56.888889 56.888889 56.888889h398.222222c33.564444 0 56.888889-28.444444 56.888889-56.888889V199.111111h56.888889v625.777778H199.111111zM682.666667 199.111111v170.666667H341.333333V199.111111h341.333334zM170.666667 113.777778C136.021333 113.777778 113.777778 142.222222 113.777778 170.666667v682.666666c0 28.444444 22.016 56.888889 56.888889 56.888889h682.666666c34.247111 0 56.888889-28.444444 56.888889-56.888889V170.666667c0-28.444444-23.04-56.888889-56.888889-56.888889H170.666667z"})),terminal:o.a.createElement("svg",{viewBox:"0 0 1024 1024"},o.a.createElement("path",{d:"M89.6 806.4h844.8V217.6H89.6v588.8zM0 128h1024v768H0V128z m242.816 577.536L192 654.72l154.304-154.368L192 346.048l50.816-50.816L448 500.352 242.816 705.536z m584.32 13.248H512V640h315.072v78.72z"})),error:o.a.createElement("svg",{viewBox:"0 0 1024 1024"},o.a.createElement("path",{d:"M512 192c-38.4 0-64 25.6-64 64s25.6 64 64 64 64-25.6 64-64-25.6-64-64-64zM512 448v320-320m0-64c-38.4 0-64 25.6-64 64v320c0 38.4 25.6 64 64 64s64-25.6 64-64V448c0-38.4-25.6-64-64-64z"}),o.a.createElement("path",{d:"M512 64c249.6 0 448 198.4 448 448s-198.4 448-448 448-448-198.4-448-448 198.4-448 448-448m0-64C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512-230.4-512-512-512z"}))}),A=(n(69),Object(l.g)((function(e){e.type,e.className;var t=g()(e,["type","className"]);return o.a.createElement(A,H()({type:"em-clear"},t))})),Object(l.g)((function(e){e.expand;var t=e.type,n=e.className,a=g()(e,["expand","type","className"]);return o.a.createElement("div",H()({},a,{className:"".concat(Object(i.c)("icon")," ").concat(Object(i.c)("icon-"+t)," ").concat(n||"")}),o.a.createElement(l.b,{dep:[t]},(function(){return V[t]})))})));A.displayName=Object(i.d)("Icon");var I=Object(l.g)((function(e){var t=e.expand,n=(e.type,e.className),a=g()(e,["expand","type","className"]);return o.a.createElement(A,H()({},a,{type:"expand",className:"".concat(t?Object(i.c)("icon-triangle-revert"):""," ").concat(n||"")}))}));I.displayName=Object(i.d)("ExpandIcon");var B=I,R=function(e){return e.caption||e.name},q=function(e){return!(!e||!e.children)},F=Object(l.h)("loadKey");function J(){}function K(e,t){return G.apply(this,arguments)}function G(){return(G=T()(D.a.mark((function e(t,n){var a,c,r,o,i,d;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.load,c=void 0===a?n:a,!t.children&&c){e.next=3;break}return e.abrupt("return");case 3:return(r=t[F])||(r=t[F]="function"==typeof c?c(t,c):(n||J)(t,c)),t.loading=!0,e.next=8,Object(l.f)(r);case 8:o=e.sent,i=P()(o,1),d=i[0],t.children=Object(l.l)(d)?d:[],t.loading=!1;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=Object(l.g)((function(e){var t=e.node,n=e.level,a=void 0===n?0:n,c=e.tabSize,r=void 0===c?20:c,l=e.defaultLoadNode,s=e.index,u=e.parent,m=e.lineHeight,p=void 0===m?26:m,v=e.paddingLeft,g=void 0===v?6:v,f=e.renderLoading,b=e.showLoading,E=void 0===b||b,h=t.children,y=e.isDirectory||q,O=y(t),j=t.expand,N=a*r+g,C=e.renderNode||R,x="".concat(p,"px");return o.a.createElement("div",{className:Object(i.c)("comp-tree","node")},o.a.createElement("div",{className:"".concat(Object(i.c)("comp-tree","node-content")," ").concat(t.select?Object(i.c)("comp-tree","node-select"):""),style:{paddingLeft:N,lineHeight:x,height:p}},o.a.createElement("div",{style:{lineHeight:x}},O?o.a.createElement(B,{expand:j,onClick:function(){t.expand=!j,t.expand&&K(t,l)}}):null,a?o.a.createElement("span",{style:{width:O?r-6:r+10}}):null),o.a.createElement("div",null,C(t,{level:a}))),function(){var e;if(0===a)return null;var t={marginLeft:(a-1)*r+g};return(null==u||null===(e=u.children)||void 0===e?void 0:e.length)-1===s&&(t.bottom="",t.height=p/2),o.a.createElement("div",{className:Object(i.c)("comp-tree","ver-line"),style:t})}(),E&&t.loading?"function"==typeof f?f():o.a.createElement(d.g,{title:"加载中...",iconSize:50,overlayStyle:{backgroundColor:"rgba(0,0,0,0.2)"},style:{height:120},spinning:!0}):j&&O?o.a.createElement("div",{className:Object(i.c)("comp-tree","children")},h&&h.map((function(e,n){return o.a.createElement(Z,{key:n,parent:t,index:n,node:e,level:a+1,renderNode:C,isDirectory:y,lineHeight:p,tabSize:r,defaultLoadNode:l,paddingLeft:g,renderLoading:f,showLoading:E})}))):null)}));Z.displayName=Object(i.d)("TreeNode");var W=Object(l.g)((function(e){var t=e.className,n=e.node,a=e.renderNode,c=e.isDirectory,r=e.defaultLoadNode,l=g()(e,["className","node","renderNode","isDirectory","defaultLoadNode"]);return o.a.createElement("div",{className:"".concat(Object(i.c)("comp-tree")," ").concat(t||"")},o.a.createElement("div",{className:Object(i.c)("comp-tree","children")},n?[].concat(n).map((function(e,t){return o.a.createElement(Z,H()({key:t,node:e,renderNode:a,isDirectory:c,defaultLoadNode:r},l))})):null))}));W.displayName=Object(i.d)("Tree"),W.loadChildren=K;var _=W;n(70);function U(e,t){if(!e)return!0;var n=t.key;return-1===e.indexOf(n)}var X=Object(l.g)((function(e){var t=e.children,n=e.defaultActiveKey,a=e.className,c=e.style,r=[];return Object(l.l)(t)||o.a.isValidElement(t)?[].concat(t).forEach((function(e){if(e){var t=o.a.cloneElement(e,{collapse:U(n,e)});r.push(t)}})):r=null,o.a.createElement("div",{className:"".concat(Object(i.c)("g-collapse")," ").concat(a||""),style:c},r)}));X.displayName=Object(i.d)("Collapse");var Y=X,Q=Object(l.g)((function(e){var t=e.header,n=e.collapse,a=e.children,c=e.className,r=e.style,d=Object(l.z)(n),s=P()(d,2),u=s[0],m=s[1];return Object(l.u)((function(){n!==u&&m(n)}),[n]),o.a.createElement("div",{className:"".concat(Object(i.c)("g-collapse-panel")," ").concat(u?Object(i.c)("g-collapse-panel-collapse"):""," ").concat(c||""),style:r},o.a.createElement("header",{className:Object(i.c)("g-collapse-panel-header"),onClick:function(){m(!u)}},o.a.createElement(B,{expand:!u}),t),u?null:o.a.createElement("div",{className:Object(i.c)("g-collapse-panel-content")},a))}));Q.displayName=Object(i.d)("Collapse.Panel"),X.Panel=Q;n(71);var $=Object(l.g)((function(e){var t=e.className,a=e.style,c=e.preLoad,r=Object(l.z)(),s=P()(r,2)[1],u=Object(l.v)((function(){return{EditorComp:null}}),[]);Object(l.u)(T()(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(4),n.e(13)]).then(n.bind(null,788));case 2:if(t=e.sent,"function"!=typeof c){e.next=6;break}return e.next=6,c();case 6:u.EditorComp=t.default,s(1);case 8:case"end":return e.stop()}}),e)}))),[]);var m=u.EditorComp,p=m?o.a.createElement(m,e):o.a.createElement(d.g,{title:"加载中...",iconSize:50,overlayStyle:{backgroundColor:"rgba(0,0,0,0.2)"},spinning:!0});return o.a.createElement("div",{className:"".concat(Object(i.c)("text-editor")," ").concat(t||""),style:a},p)}));$.displayName=Object(i.d)("TextEditor");var ee=$;function te(){return Promise.all([n.e(7).then(n.t.bind(null,787,7))])}var ne=Object(l.g)((function(e){e.beforeInit;var t=e.className,n=e.value,a=g()(e,["beforeInit","className","value"]),c=Object(l.v)((function(){return{mode:"css"}}));if("string"!=typeof n)try{n=Object.keys(n).map((function(e){return"".concat(e,":").concat(n[e])})).join(";\n")}catch(e){n=""}return o.a.createElement(ee,H()({value:n},a,{options:c,className:"".concat(Object(i.c)("css-editor")," ").concat(t||""),preLoad:te}))}));ne.displayName=Object(i.d)("CssEditor");var ae=ne;function ce(){return Promise.all([n.e(9).then(n.t.bind(null,789,7))])}var re=Object(l.g)((function(e){e.beforeInit;var t=e.className,n=g()(e,["beforeInit","className"]),a=Object(l.v)((function(){return{mode:"json"}}));return o.a.createElement(ee,H()({},n,{options:a,className:"".concat(Object(i.c)("json-editor")," ").concat(t||""),preLoad:ce}))}));re.displayName=Object(i.d)("JSONEditor");var oe=re;function le(){return Promise.all([n.e(8).then(n.t.bind(null,790,7)),n.e(10).then(n.t.bind(null,791,7))])}var ie=Object(l.g)((function(e){e.beforeInit;var t=e.className,n=g()(e,["beforeInit","className"]),a=Object(l.v)((function(){return{mode:"jsx"}}));return o.a.createElement(ee,H()({},n,{options:a,className:"".concat(Object(i.c)("js-editor")," ").concat(t||""),preLoad:le}))}));ie.displayName=Object(i.d)("JSEditor");var de=ie;n(72);function se(e){return"string"==typeof e?e:"number"!=typeof e||Number.isNaN(e)?"":String(e)}var ue=Object(l.g)((function(e){var t=e.className,n=e.style,a=e.onChange,c=e.onModeChange,r=e.type,d=Object(l.z)(!1),s=P()(d,2),u=s[0],m=s[1],p=Object(l.z)(se(e.text||"")),v=P()(p,2),g=v[0],f=v[1],b=Object(l.z)(""),E=P()(b,2),h=E[0],y=E[1],O=Object(l.y)();Object(l.u)((function(){se(e.content)!==g&&f(e.text||"")}),[e.text]),Object(l.u)((function(){O.current&&Object(l.n)((function(){O.current.focus()}))}),[u]);var j=Object(l.q)((function(e){Object(l.n)(c,[e])}),[c]),N="".concat(Object(i.c)("comp-editable-text")," ").concat(t||"");return u?o.a.createElement("input",{ref:O,style:n,className:"".concat(N," ").concat(Object(i.c)("comp-editable-text-input")),value:h,onChange:function(e){var t=e.target.value;y(t,!1)},onBlur:function(){m(u=!1),f(g=h||g),y(""),Object(l.n)(a,["number"===r?+g||0:g]),j(u)}}):o.a.createElement("div",{style:n,className:"".concat(N," ").concat(Object(i.c)("comp-editable-text-content"))},o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("span",{className:Object(i.c)("text-content"),title:g},g),o.a.createElement(A,{type:"edit",className:Object(i.c)("editable-icon"),onClick:function(){m(u=!0),y(g),j(u)}}))))}));ue.displayName=Object(i.d)("EditableText");var me=ue;function pe(){return Promise.all([n.e(11).then(n.t.bind(null,792,7))])}var ve=Object(l.g)((function(e){e.beforeInit;var t=e.className,n=g()(e,["beforeInit","className"]),a=Object(l.v)((function(){return{mode:"less"}}));return o.a.createElement(ee,H()({},n,{options:a,className:"".concat(Object(i.c)("less-editor")," ").concat(t||""),preLoad:pe}))}));ve.displayName=Object(i.d)("LessEditor");var ge=ve,fe=(n(73),Object(l.g)((function(e){var t=e.bounds,n={x:0,y:0,width:0,height:0};return t&&Object.assign(n,t),o.a.createElement("div",{className:Object(i.c)("node-position-panel")},o.a.createElement("div",{className:Object(i.c)("node-position-row")},o.a.createElement("div",null,o.a.createElement("div",null,"坐标-X"),o.a.createElement("div",{className:Object(i.c)("position-text-wrapper")},o.a.createElement(me,{type:"number",text:String(n.x||0),onChange:function(e){t.x=e}}))),o.a.createElement("div",null,o.a.createElement("div",null,"坐标-Y"),o.a.createElement("div",{className:Object(i.c)("position-text-wrapper")},o.a.createElement(me,{type:"number",text:String(n.y||0),onChange:function(e){t.y=e}})))),o.a.createElement("div",{className:Object(i.c)("node-position-row")},o.a.createElement("div",null,o.a.createElement("div",null,"宽度"),o.a.createElement("div",{className:Object(i.c)("position-text-wrapper")},o.a.createElement(me,{type:"number",text:String(n.width||0),onChange:function(e){t.width=e}}))),o.a.createElement("div",null,o.a.createElement("div",null,"高度"),o.a.createElement("div",{className:Object(i.c)("position-text-wrapper")},o.a.createElement(me,{type:"number",text:String(n.height||0),onChange:function(e){t.height=e}})))))})));fe.displayName=Object(i.d)("PositionPanel");var be=fe,Ee=(n(74),Object(i.c)("header-panel-title")),he=Object(l.g)((function(e){var t=e.title,n=e.children,a=e.className,c=e.titleClassName,r=e.style;return o.a.createElement("div",{className:"".concat(Object(i.c)("header-panel")," ").concat(a||""),style:r},o.a.createElement("header",{className:"".concat(Ee," ").concat(c||"")},o.a.createElement("div",null,t)),o.a.createElement("div",{className:Object(i.c)("header-panel-content")},n))})),ye=he;he.displayName=Object(i.d)("HeaderPanel");var Oe=function(e){var t=e.className,n=g()(e,["className"]);return o.a.createElement(d.h,H()({className:"".concat(Object(i.c)("modal")," ").concat(t||"")},n))};Oe.displayName=Object(i.d)("AbsoluteHeaderPanel"),b.d.inject({components:a});var je=function(){Object(l.s)((function(){var e=new E.c,t={x:0,y:0};return e.onNative("mousedown",(function(e){t=E.a.getPosition(e)})),e.onNative("mouseup",(function(n){var a=function(t){return E.a.findUpUtil(t.target,(function(e){var t=b.n.componentNode(e);if(t&&t.getEnvOptions().designMode)return!!e}),(function(t){return t===e.getProxyElement()}))}(n);if(a){var c=E.a.getPosition(n);if(Math.sqrt(Math.pow(c.x-t.x,2)+Math.pow(c.y-t.y,2))<5){var r=b.n.componentNode(a);b.g.selectComponent(r)}}})),e.mount(document.body),function(){e.unmount()}}),[])},Ne=b.m.throttleStorageNode,Ce=b.m.parseNodeFrom,xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0;return{get:function(){return Ce(e,t)},set:function(t){Ne(t,e)}}},Se={create:function(e){var t=e.datasource,n=void 0===t?xe():t,a=n.get(),c=Object(l.c)({rootNode:a,viewSetting:{highlightActiveNode:!0,previewMode:!1,fullscreen:!1,zoomState:{scale:1,tx:0,ty:0}}},{autoApply:!0,autoApplyThrottle:!1}),r=c.data();return c.on("change",(function(){var e;null===(e=n.set)||void 0===e||e.call(n,r.rootNode)})),r},createDatasourceById:xe},we=(n(75),n(76),b.k.animateFrameSetTimeout),ke=b.k.animateFrameClearTimeout,Pe=we,ze=ke,He=b.n.componentNode,Le=b.n.getNodeElement;var Te=Object(l.g)((function(e){var t=e.designEngine,n=t.rootNode,a=Object(l.z)(),c=P()(a,2)[1],r=Object(l.y)(),s=Object(l.v)((function(){return{timeout:0,nodeBounds:null}}),[]),u=Object(l.q)((function(e){s.nodeBounds=e,c(e)}),[c]),m=Object(l.q)((function(){var e,n,a=t.rootNode,c=t.viewSetting,o=function(e,t){var n=Le(e);if(n&&t){var a=n.parentNode;a&&He(a)===e&&(n=a);var c=E.a.select(n).bounds(),r=c.x,o=c.y,l=r+c.width,i=o+c.height,d=E.a.select(t).bounds(),s=l-r,u=i-o;return{left:r-=d.x,top:o-=d.y,width:s,height:u}}}(a.activeNode,r.current);if(o){var l=c.zoomState.scale;c.fullscreen&&(l=1),o=Object.assign({},{left:o.left/l,top:o.top/l,width:o.width/l,height:o.height/l})}e=s.nodeBounds,n=o,e&&n&&!["left","top","width","height"].some((function(t){return Math.round(e[t])!==Math.round(n[t])}))||u(o)}),[]),p=Object(l.q)((function(){s.timeout||(s.timeout=Pe((function(){s.timeout=null,m(),p()}),1e3))}),[]),v=Object(l.q)((function(){ze(s.timeout),s.timeout=null}),[]);Object(l.s)((function(){var e=function(){"visible"===document.visibilityState?p():v()};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[]),Object(l.s)((function(){m()}),[n.activeNode]),Object(l.s)((function(){n.activeNode&&n.activeNode.unmount&&n.active()}),[n.activeNode&&n.activeNode.unmount]),Object(l.s)((function(){return p(),function(){v()}}),[]);var g=t.viewSetting.highlightActiveNode;return Object(l.s)((function(){g?p():v()}),[g]),!!g&&o.a.createElement("div",{ref:r,className:Object(i.c)("document-active-state")},s.nodeBounds?o.a.createElement(d.k,{disabled:!0,style:s.nodeBounds,className:Object(i.c)("document-active-state-area")}):null)})),Me=Object(l.g)((function(e){var t=e.designEngine.rootNode.activeNode;return!t||t.disableActiveMarker?null:o.a.createElement(Te,e)}));Me.displayName=Object(i.d)("ActiveComponent");var De=Me,Ve=n(20),Ae=n.n(Ve),Ie=b.e.parseKeyString,Be=b.e.matchKey,Re=b.m.deSerialize,qe=b.m.serializeObject,Fe=Object(l.h)("tabIndex");function Je(){var e=Object(l.r)();Object(l.s)((function(){var t=Ae.a.findDOMNode(e);if(t)return t[Fe]=!0,t.setAttribute("tabIndex","-1"),function(){delete t[Fe]}}),[])}var Ke=function(e){var t=Object(l.r)();Object(l.s)((function(){var n=new E.c({passive:!1}),a=Ie("Ctrl+C|Meta+C"),c=Ie("Ctrl+V|Meta+V"),r=null;return n.register("keydown:copy",(function(e){if(a.some((function(t){return Be(e,t)}))){var t=document.activeElement;if(t)return t[Fe]?t:void 0}})),n.register("keydown:paste",(function(e){if(c.some((function(t){return Be(e,t)}))){var t=document.activeElement;if(t)return t[Fe]?t:void 0}})),n.on("copy",(function(t){var n=e.rootNode.activeNode;n&&n.parent&&(r=qe(n),t.preventDefault())})),n.on("paste",(function(t){var n=e.rootNode,a=n.activeNode;if(a&&r){t.preventDefault();var c=JSON.parse(JSON.stringify(r));(c=Re(c,n)).document=n,c.parent=a,a.children?a.children.push(c):a.children=[c]}})),n.mount(Ae.a.findDOMNode(t)),function(){n.unmount()}}),[e])},Ge=1,Ze=Object(l.g)((function(e){return Je(),o.a.createElement(b.i,e)}));Ze.displayName=Object(i.d)("RenderForDesign");var We=Object(l.g)((function(e){var t=e.designEngine,n=t.rootNode;return o.a.createElement("div",{className:"".concat(Object(i.c)("canvas-render"))},o.a.createElement(De,{designEngine:t}),o.a.createElement(l.b,{dep:[n]},(function(){return o.a.createElement(Ze,{key:"".concat(Ge++),rootNode:n})})))}));We.displayName=Object(i.d)("CanvasRender");var _e=We,Ue=n(130),Xe=n(258),Ye=n(302),Qe=n(303),$e=new Xe.a;function et(e){var t=e,n=t.lid,a=t.default,c=e.children;return $e.get({lid:n,default:c||a})}$e.lang(Xe.b.get(["en","zh-CN"],"en")),$e.use(Ye),function(e){e.use(Qe)}($e);var tt=b.g.selectComponent;var nt=n(795),at=(n(77),function(e){var t=e.className,n=g()(e,["className"]);return o.a.createElement(nt.a,H()({className:"".concat(Object(i.c)("input")," ").concat(t||"")},n))}),ct=(n(78),Object(l.g)((function(e){var t=e.className,n=e.onChange,a=e.groupValue,c=e.value,r=e.children,l=e.style,d=e.multi,s=a?a.indexOf(c)>=0:!!c;return o.a.createElement("div",{className:"".concat(Object(i.d)("comp-item")," ").concat(d?Object(i.d)("comp-item-m"):""," ").concat(s?Object(i.d)("item-active"):""," ").concat(t||""),style:l,onClick:function(){n(c)}},o.a.createElement("div",{className:Object(i.d)("item-icon")}),o.a.createElement("div",{className:Object(i.d)("item-body")},r))})));ct.displayName=Object(i.d)("Item");var rt=Object(l.g)((function(e){var t=e.className,n=e.children,a=e.value,c=e.onChange,r=e.style,d=e.multi,s=void 0!==d&&d,u=e.disabled,m=Object(l.z)([].concat(a)),p=P()(m,2),v=p[0],g=p[1],f=Object(l.v)((function(){return{onChange:null,value:null}}),[]);f.onChange=c,f.value=v;var b=Object(l.q)((function(e,t){Object(l.l)(e)||(e=[e]),!t&&Object(l.p)(f.value,e)||(g(e),f.onChange&&f.onChange(s?[].concat(e):e[0]))}),[]);Object(l.u)((function(){a!==v&&b(a)}),[a]);var E=Object(l.q)((function(e){if(s){var t=[].concat(f.value);t.indexOf(e)>=0?t.splice(1,0):t.push(e),b(t,!0)}else b([e])}),[s]);return o.a.createElement("div",{className:"".concat(Object(i.d)("comp-item-group")," ").concat(t||""),style:r,"data-disabled":u},n?o.a.isValidElement(n)?o.a.cloneElement(n,{onChange:E,groupValue:v}):Object(l.l)(n)?n.map((function(e){return o.a.isValidElement(e)?o.a.cloneElement(e,{onChange:E,groupValue:v}):null})):void 0:n)}));rt.displayName=Object(i.d)("item-group"),ct.Group=rt;var ot=Object(l.g)((function(e){return o.a.createElement(ct,H()({},e,{multi:!0}))}));ot.displayName=Object(i.d)("Checkbox");var lt=ct,it=(n(79),Object(l.g)((function(e){var t=e.path,n=Object(l.v)((function(){return t?t.replace(/^\/+/,"").split("/"):[]}),[t]);return o.a.createElement("nav",{className:Object(i.c)("nav-header")},o.a.createElement("ul",{className:Object(i.c)("nav-header-paths")},n.map((function(e,t){return o.a.createElement("li",{key:t},o.a.createElement("a",null,e),t!==n.length-1?o.a.createElement("span",{className:Object(i.c)("nav-header-path-split")},">"):null)}))))})),n(794)),dt=(n(80),function(e){var t=e.className,n=e.popupClassName,a=g()(e,["className","popupClassName"]);return o.a.createElement(it.a,H()({className:"".concat(Object(i.c)("select")," ").concat(t||""),popupClassName:"".concat(Object(i.c)("select-popover")," ").concat(n||"")},a))});dt.Option=it.a.Option,dt.OptGroup=it.a.OptGroup;var st=dt,ut=n(797),mt=(n(81),function(e){var t=e.overlayClassName,n=g()(e,["overlayClassName"]);return o.a.createElement(ut.a,H()({overlayClassName:"".concat(Object(i.c)("popover")," ").concat(t||"")},n))}),pt=n(779),vt=(n(82),function(e){var t=e.overlayClassName,n=g()(e,["overlayClassName"]);return o.a.createElement(pt.a,H()({overlayClassName:"".concat(Object(i.c)("tooltip")," ").concat(t||"")},n))});function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(83);function bt(e){return Et.apply(this,arguments)}function Et(){return(Et=T()(D.a.mark((function e(t){var n,a,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.meta){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,b.a.loadMeta(n.namespace,n.version);case 5:return a=e.sent,c=a.modules||[],e.abrupt("return",c.map((function(e){var n=e.propTypes||[],c=e.caption;return"object"===u()(c)&&(c=c.name),c=c||e.name,{path:"".concat(t.path,"/").concat(e.name),name:e.name,caption:"".concat(e.name," (").concat(c,")"),component:{type:{namespace:a.namespace,version:a.version,module:e.name},propTypes:n}}})).sort((function(e,t){var n=String(e.name),a=String(t.name);return n.charCodeAt(0)-a.charCodeAt(0)})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t){return o.a.createElement("div",{className:Object(i.c)("i-store","drag-node")},t.data.caption||t.data.name)}function yt(e){if(!e.component)return e.caption||e.name;var t={drop:!1,type:e.dragType,outAnimate:!0,data:e,dragNode:ht,optionType:f.ComponentConfig};return o.a.createElement(d.b,{options:t},o.a.createElement("span",{className:Object(i.c)("menu-item")},e.caption||e.name))}function Ot(e){return!(!e.children&&!e.meta)}var jt=Object(l.g)((function(e){var t=e.config,n=Object(l.v)((function(){return Object(l.c)((e=t.items,n={},a={name:"/",children:[]},e.forEach((function(e){var t=e.path;e.path=function(e){return e&&!/^\//.test(e)&&(e="/"+e),e}(t);var c=[];t.replace(/([^\/]+)/g,(function(e,t){return c.push(t),e}));var r=a;c.forEach((function(t,a){var o=c.slice(0,a+1).join("/"),l=n[o];if(!l){l=n[o]={path:o,name:t};var i=r.children;i||(i=r.children=[]),i.push(l)}if(a===c.length-1){e.children;var d=g()(e,["children"]);Object.assign(l,d),l.component&&Object.defineProperty(l,"component",{value:ft({},l.component),configurable:!0})}r=l}))})),a.children),{autoApply:!0}).data();var e,n,a}),[t]);return o.a.createElement(_,{className:Object(i.c)("register-components"),node:n,isDirectory:Ot,renderNode:yt,defaultLoadNode:bt})}));jt.displayName=Object(i.d)("ComponentPool");var Nt,Ct=jt,xt=(n(84),Object(l.h)("dragDropDataKey")),St=b.g.selectComponent;function wt(e,t){var n=t[xt];return o.a.createElement("div",{className:Object(i.c)("view-node-tree","drag-node")},n.caption||n.name)}var kt="Top",Pt="Center",zt="Bottom";var Ht=(Nt={},p()(Nt,kt,Object(i.c)("view-node-item-marker-up")),p()(Nt,zt,Object(i.c)("view-node-item-marker-down")),p()(Nt,Pt,Object(i.c)("view-node-item-marker-center")),Nt);function Lt(e){var t=Object(l.z)(!1),n=P()(t,2),a=n[0],c=n[1],r=Object(l.v)((function(){return function(e){var t;return t={},p()(t,xt,e),p()(t,"dragNode",wt),p()(t,"outAnimate",!0),p()(t,"optionType",f.ComponentNode),p()(t,"type",f.ComponentNode),p()(t,"drop",(function(t,n,a,c){var r=c[xt];return r&&r!==e&&r.parent})),p()(t,"accept",(function(e,t){if(e.type===f.ComponentNode&&e!==t)return!0})),p()(t,"onDrop",(function(t,n){l.c.apply((function(){var t=e.hoverMode,a=n[xt],c=a.parent;if(t===kt){if(a.parent=e.parent,e.parent){var r=c.children.indexOf(a);c.children.splice(r,1);var o=e.parent.children,l=o.indexOf(e);o.splice(l,0,a)}}else if(t===zt){if(a.parent=e.parent,e.parent){var i=c.children.indexOf(a);c.children.splice(i,1);var d=e.parent.children,s=d.indexOf(e);d.splice(s+1,0,a)}}else{var u=c.children.indexOf(a);c.children.splice(u,1),a.parent=e,e.children?e.children.push(a):e.children=[a]}delete e.hoverMode}))})),p()(t,"onDropOver",(function(t,n){var a=t.activeTarget.getBoundingClientRect(),c=a.height/3,r=a.y+a.height;e.parent&&t.y-a.y<c?e.hoverMode=kt:e.parent&&r-t.y<c?e.hoverMode=zt:e.hoverMode=Pt})),p()(t,"onDropLeave",(function(){delete e.hoverMode})),t}(e)}),[e]);r.drag=!a,r.drop=!a;var s=e.caption||e.name;return o.a.createElement("div",{className:Object(i.c)("view-node-tree-content"),onClick:function(){St(e)}},!a&&e.parent?o.a.createElement(A,{type:"remove",onClick:function(t){t.stopPropagation(),e.remove()}}):null,o.a.createElement(d.b,{options:r},o.a.createElement("div",{className:Object(i.c)("view-node-tree-item-panel")},o.a.createElement(me,{text:s,onChange:function(t){e.caption=t},onModeChange:function(e){c(e)},className:e.hoverStatus?Object(i.c)("view-node-tree-item-drop-over"):""}),o.a.createElement("div",{className:"".concat(Object(i.c)("view-node-item-marker")," ").concat(Ht[e.hoverMode]||"")}))))}var Tt=Object(l.g)((function(e){var t=e.designEngine.rootNode;return Je(),o.a.createElement("div",{className:Object(i.c)("view-node-tree-panel")},o.a.createElement(_,{className:Object(i.c)("view-node-tree"),node:t,renderNode:function(e){return o.a.createElement(l.b,null,(function(){return Lt(e)}))},isDirectory:function(e){return!e.parent||e.children&&e.children.length>0}}))}));Tt.displayName=Object(i.d)("RenderNodes");var Mt=Tt,Dt=(n(85),n(802));n(86);var Vt={default:"default",simple:"simple"},At=Object(l.g)((function(e){var t=e.className,n=e.title,a=e.children,c=e.expand,r=e.readonly,d=e.onExpandChange,s=e.type,u=void 0===s?"default":s,m=g()(e,["className","title","children","expand","readonly","onExpandChange","type"]),p=Object(l.z)(!!c),v=P()(p,2),f=v[0],b=v[1];Object(l.u)((function(){b(c)}),[c]);var E={};r||(E.onClick=function(){var e=!f;b(e),"function"==typeof d&&d(e)});var h=Vt[u]||"default";return o.a.createElement("div",H()({className:"".concat(Object(i.c)("collapse-panel")," ").concat(Object(i.c)("collapse-panel-".concat(h))," ").concat(t||"")},m),o.a.createElement("header",null,o.a.createElement("div",E,n,o.a.createElement(Dt.a,{className:"".concat(Object(i.c)("collapse-icon")," ").concat(Object(i.c)("icon")," ").concat(f?Object(i.c)("icon-revert-90deg"):"")}))),o.a.createElement("div",null,f?function(e){return"function"==typeof e?e():e}(a):null))}));At.displayName=Object(i.d)("CollapsePanel");var It=At,Bt=(n(87),[{name:et({lid:"design.editor.autoSave",default:"自动保存"}),value:"Auto"},{name:et({lid:"design.editor.handSave",default:"手动保存"}),value:"Hand"}]);Bt.forEach((function(e){Bt[e.value]=e.value}));var Rt=Bt;n(88);function qt(e,t){if(e)return 2===arguments.length&&Object.defineProperty(e,"_code",{value:t,enumerable:!1,configurable:!0}),e.hasOwnProperty("_code")?e._code:e.origin}var Ft=function(e){var t=null==e?void 0:e.compile,n=Object(l.x)(),a=n.value,c=n.compileOptions,r=n.onSaved,s=n.disabledRadio,u=Object(l.z)(Rt.Hand),m=P()(u,2),p=m[0],v=m[1],g=Object(l.z)(!1),f=P()(g,2),b=f[0],E=f[1],h=function(){var e=T()(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!0,!1),e.prev=1,a.origin=qt(a),!t){e.next=6;break}return e.next=6,t(a,c);case 6:r&&r(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:E(!1,!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return{header:o.a.createElement("header",{className:"".concat(Object(i.c)("code-editor-header"))},o.a.createElement(lt.Group,{disabled:s,value:p,style:{position:"relative",top:-1},onChange:function(e){v(e)}},Rt.map((function(e,t){return o.a.createElement(lt,{key:t,value:e.value},e.name)}))),Rt.Hand===p?o.a.createElement("div",{style:{float:"right"}},o.a.createElement(d.g,{key:"loading",spinning:b,className:Object(i.c)("compiling"),delay:0,overlayStyle:{background:"transparent"},iconSize:12}),o.a.createElement(A,{type:"save",onClick:h})):null),compiling:b,saveAction:h,actionType:p,source:qt}};function Jt(e,t){return b.l.compile(e,t)}var Kt=Object(l.g)((function(e){var t=e.value,n=e.onChange,a=e.className,c=e.style,r=e.disabled,d=Object(l.v)((function(){return{actionType:Rt.Auto}}),[]);t=t||{};var s=Ft({compile:Jt}),u=s.header,m=s.actionType,p=s.saveAction,v=s.source,g=v(t);return d.actionType=m,o.a.createElement("div",{className:"".concat(Object(i.c)("code-editor")," ").concat(a||""),style:c},u,o.a.createElement(l.b,{dep:[t,g,r]},o.a.createElement(de,{disabled:r,value:g,onChange:function(e){n&&n(e),l.c.silent((function(){v(t,e)})),d.actionType===Rt.Auto&&p()}})))})),Gt=function(e,t){return b.f.compile(e,t)},Zt=Object(l.g)((function(e){var t=e.value,n=e.onChange,a=e.className,c=e.style,r=e.disabled,d=Object(l.v)((function(){return{actionType:Rt.Auto}}),[]),s=Ft({compile:Gt}),u=s.header,m=s.actionType,p=s.saveAction,v=s.source;d.actionType=m;var g=v(t);return o.a.createElement("div",{className:"".concat(Object(i.c)("code-editor")," ").concat(a||""),style:c},u,o.a.createElement(l.b,{dep:[t,g,r]},o.a.createElement(ge,{disabled:r,value:g,onChange:function(e){n&&n(e),l.c.silent((function(){v(t,e)})),d.actionType===Rt.Auto&&p()}})))})),Wt=Object(l.g)((function(e){var t=e.value,n=e.onChange,a=e.className,c=e.style,r=e.disabled,d=Object(l.v)((function(){return{actionType:Rt.Auto}}),[]);t=t||{};var s=Ft(),u=s.header,m=s.actionType,p=s.saveAction,v=s.source,g=v(t);return d.actionType=m,o.a.createElement("div",{className:"".concat(Object(i.c)("code-editor")," ").concat(a||""),style:c},u,o.a.createElement(l.b,{dep:[t,g,r]},o.a.createElement(oe,{disabled:r,value:g,onChange:function(e){n&&n(e),l.c.silent((function(){v(t,e)})),d.actionType===Rt.Auto&&p()}})))})),_t=Object(l.g)((function(e){var t=e.rootNode,n=t.context,a=Object(l.v)((function(){return{syncElementResize:!0,cursorOverlay:!0,modes:["Bottom"]}}),[]),c=t.console.script,r=function(){return o.a.createElement(d.j,{options:a},o.a.createElement("div",{className:"".concat(Object(i.c)("editor-wrapper")," ").concat(Object(i.c)("height-transition"))},o.a.createElement(Kt,{value:n.script,compileOptions:{console:c}})))};return o.a.createElement(It,{className:Object(i.c)("context-setting"),title:o.a.createElement(et,{lid:"design.context.initScript"},"初始化脚本")},r)}));_t.displayName=Object(i.d)("ContextSetting");var Ut,Xt=_t,Yt=(n(89),at),Qt=b.h.getPropValue,$t=b.h.setPropValue,en={vAlign:"center",className:Object(i.c)("property-editor-item")},tn={width:"20%",hAlign:"right",style:{minWidth:120},className:Object(i.c)("property-editor-item-name")},nn=[{name:"是",value:!0},{name:"否",value:!1}];function an(e){return e.caption?e.caption||e.name:o.a.createElement(at,{size:"small",value:e.name,onChange:function(t){l.c.applySync((function(){e.name=t.target.value}))}})}var cn=(Ut={},p()(Ut,h.d.String,(function(e){var t=e.prop,n=Qt(t);return o.a.createElement(d.c.H,en,o.a.createElement(d.d.H,tn,an(t)),o.a.createElement(d.d.H,null,o.a.createElement(at,{disabled:t.readonly,size:"small",value:n,onChange:function(e){l.c.applySync((function(){$t(t,e.target.value)}))}})))})),p()(Ut,h.d.Number,(function(e){var t=e.prop,n=Qt(t);return o.a.createElement(d.c.H,en,o.a.createElement(d.d.H,tn,an(t)),o.a.createElement(d.d.H,null,o.a.createElement(Yt,{disabled:t.readonly,size:"small",value:n,onChange:function(e){l.c.applySync((function(){$t(t,e.target.value||0)}))}})))})),p()(Ut,h.d.Boolean,(function(e){var t=e.prop,n=Qt(t);return o.a.createElement(d.c.H,H()({},en,{height:36}),o.a.createElement(d.d.H,tn,an(t)),o.a.createElement(d.d.H,{style:{overflow:"hidden",paddingLeft:12}},o.a.createElement(lt.Group,{disabled:t.readonly,className:"design-radio-group",value:n,onChange:function(e){$t(t,e)}},nn.map((function(e,t){return o.a.createElement(lt,{key:t,value:e.value},e.name)})))))})),p()(Ut,h.d.Enum,(function(e){var t=e.prop,n=e.getPopupContainer,a=t.options,c=void 0===a?[]:a,r=Qt(t);return o.a.createElement(d.c.H,en,o.a.createElement(d.d.H,tn,an(t)),o.a.createElement(d.d.H,null,o.a.createElement(st,{disabled:t.readonly,getPopupContainer:n,className:"design-select",size:"small",value:r,onChange:function(e){$t(t,e)}},c.map((function(e,t){return o.a.createElement(st.Option,{key:t,value:e.value,name:e.name},e.name)})))))})),p()(Ut,h.d.JSON,(function(e){var t=e.prop;return o.a.createElement(d.c.H,en,o.a.createElement(d.d.H,tn,an(t)),o.a.createElement(d.j,{options:{syncElementResize:!0,cursorOverlay:!0,modes:["Bottom"]}},o.a.createElement(d.d.H,{className:Object(i.c)("height-transition"),height:200},o.a.createElement(Wt,{disabled:t.readonly,value:t.value}))))})),p()(Ut,h.d.Module,(function(e){var t=e.prop,n=e.node.document.console.script;return o.a.createElement(d.c.H,en,o.a.createElement(d.d.H,tn,an(t)),o.a.createElement(d.j,{options:{syncElementResize:!0,cursorOverlay:!0,modes:["Bottom"]}},o.a.createElement(d.d.H,{height:200,className:Object(i.c)("height-transition")},o.a.createElement(Kt,{disabled:t.readonly,value:t.value,compileOptions:{console:n}}))))})),p()(Ut,h.d.Style,(function(e){var t=e.prop,n=Qt(t);return o.a.createElement(d.c.H,en,o.a.createElement(d.d.H,tn,an(t)),o.a.createElement(d.j,{options:{syncElementResize:!0,cursorOverlay:!0,modes:["Bottom"]}},o.a.createElement(d.d.H,{height:200,className:Object(i.c)("height-transition")},o.a.createElement(ae,{disabled:t.readonly,value:n,onChange:function(e){l.c.applySync((function(){$t(t,e)}))}}))))})),p()(Ut,h.d.Runtime,(function(e){var t=e.prop;return o.a.createElement(d.c.H,en,o.a.createElement(d.d.H,tn,an(t)),o.a.createElement(d.d.H,null,o.a.createElement(at,{disabled:t.readonly,size:"small",value:t.contextKey,onChange:function(e){l.c.applySync((function(){t.contextKey=e.target.value}))}})))})),p()(Ut,h.d.Parent,(function(e){var t=e.prop;return o.a.createElement(d.c.H,en,o.a.createElement(d.d.H,tn,an(t)),o.a.createElement(d.d.H,null,o.a.createElement(at,{disabled:t.readonly,size:"small",value:t.contextKey,onChange:function(e){l.c.applySync((function(){t.contextKey=e.target.value}))}})))})),p()(Ut,h.d.Component,(function(e){var t,n=e.prop;return null===(t=n.render)||void 0===t?void 0:t.apply(this,arguments)})),Ut),rn=n(800),on=n(803),ln=n(801),dn=b.h.CssPropTypes,sn=b.h.getPropType,un=b.h.setPropValue;function mn(){return{name:"",type:h.d.String,custom:!0,value:{origin:""}}}var pn=h.c.filter((function(e){return dn.indexOf(e.value)>=0})),vn={marginBottom:6};function gn(e,t){var n=sn(e),a="style"===e.name?pn:h.c;return o.a.createElement("div",{className:Object(i.c)("property-setting-popover"),onClick:function(e){e.stopPropagation()}},o.a.createElement(d.c.H,{vAlign:"center",style:vn},o.a.createElement(d.d.H,{width:80},o.a.createElement(et,{lid:"design.propertyEdit.propName"},"属性名称"),"："),o.a.createElement(d.d.H,null,o.a.createElement(at,{size:"small",value:e.name,onChange:function(t){l.c.applySync((function(){e.name=t.target.value}))}}))),o.a.createElement(d.c.H,{vAlign:"center",style:vn},o.a.createElement(d.d.H,{width:80},o.a.createElement(et,{lid:"design.propertyEdit.propDesc"},"属性描述"),"："),o.a.createElement(d.d.H,null,o.a.createElement(at,{size:"small",value:e.caption,onChange:function(t){l.c.applySync((function(){e.caption=t.target.value}))}}))),o.a.createElement(d.c.H,{vAlign:"center"},o.a.createElement(d.d.H,{width:80},o.a.createElement(et,{lid:"design.propertyEdit.propType"},"属性类型"),"："),o.a.createElement(d.d.H,null,o.a.createElement(st,{size:"small",getPopupContainer:t,className:"design-select",value:n,onChange:function(t){l.c.apply((function(){e.type=t,un(e,t===h.d.Style?{}:"",!0)}))}},a.map((function(t){return t.custom?null:t.value!==h.d.Enum||e.options&&0!==e.options.length?o.a.createElement(st.Option,{key:t.value,size:"small",value:t.value},t.caption):null}))))))}var fn=Object(l.g)((function(e){var t=e.rootNode,n=t.activeNode,a=t.runtime,c=(n=n||{}).props;c=c||[];var r=Object(l.y)(),s=Object(l.q)((function(){return r.current}),[]);return o.a.createElement("div",{className:Object(i.c)("property-editor"),ref:r},o.a.createElement("header",null,o.a.createElement(rn.a,{className:"prop-icon",onClick:function(){n.props||(n.props=[mn()]),c.push(mn())}})),c.map((function(e,t){var r=sn(e),u=cn[r];if(u)return o.a.createElement(d.c.H,{key:t,className:Object(i.c)("property-row")},o.a.createElement(d.d.H,null,u({key:t,runtime:a,node:n,getPopupContainer:s,prop:e})),o.a.createElement(l.b,null,(function(){var t=Object(l.r)(),n=Object(l.q)((function(){return Ae.a.findDOMNode(t)}),[]);return o.a.createElement(d.d.H,{className:Object(i.c)("property-item-ctrl"),vAlign:"center",hAlign:"center",width:45},o.a.createElement(mt,{placement:"left",getPopupContainer:n,trigger:"hover",onOpenChange:function(e){d.j.enable(!e)},destroyTooltipOnHide:!0,overlayClassName:Object(i.c)("property-item-options-setting"),title:o.a.createElement(et,{lid:"design.propertyEdit.propSetting"},"属性设置"),content:gn(e,n)},o.a.createElement(on.a,{className:"prop-icon prop-icon-setting ".concat(e.readonly?Object(i.c)("disabled"):"")})),o.a.createElement(ln.a,{disabled:e.readonly,className:"prop-icon",onClick:function(){var t=c.indexOf(e);t>=0&&c.splice(t,1)}}))})))})))}));fn.displayName=Object(i.d)("PropertyEditor");var bn=fn,En=(n(90),{syncElementResize:!0,cursorOverlay:!0,modes:["Bottom"]}),hn=Object(l.g)((function(e){var t=e.rootNode,n=t.activeNode;if(!n)return null;var a=t.console.script;return o.a.createElement("div",{className:Object(i.c)("render-generator")},o.a.createElement(d.j,{options:En},o.a.createElement("div",{className:"".concat(Object(i.c)("editor-wrapper")," ").concat(Object(i.c)("height-transition"))},o.a.createElement(Kt,{value:n.generateScript,compileOptions:{console:a}}))))}));hn.displayName=Object(i.d)("RenderGenerator");var yn=hn,On=(n(91),Object(l.g)((function(e){var t=e.rootNode,n=t.activeNode,a=Object(l.v)((function(){return{syncElementResize:!0,cursorOverlay:!0,modes:["Bottom"]}}),[]);if(!n)return null;var c=l.c.silent((function(){return n.css||(n.css={}),n.css})),r=t.console.style,s={selector:n.getSymbol("cssSelector"),console:r};return o.a.createElement("div",{className:Object(i.c)("node-css-editor")},o.a.createElement("header",null,o.a.createElement(ot,{multi:!0,value:!!c.flatMode,onChange:function(e){c.flatMode=!e}},o.a.createElement(et,{lid:"design.styleSetting.flatMode"},"平铺模式"))),o.a.createElement(d.j,{options:a},o.a.createElement("div",{className:"".concat(Object(i.c)("editor-wrapper")," ").concat(Object(i.c)("height-transition"))},o.a.createElement(Zt,{compileOptions:s,value:c}))))}))),jn=(n(92),n(93),b.c.syncImportMap);function Nn(e){return{path:e.path,name:e.name||e.caption}}function Cn(e){return xn.apply(this,arguments)}function xn(){return(xn=T()(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.htmlTag){e.next=3;break}return e.next=3,Object(l.f)(b.a.load(t.namespace,t.version,t.module));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sn=Object(l.g)((function(e){var t=e.rootNode,n=t.context.imports,a=void 0===n?[]:n,c=Object(l.z)(!1),r=P()(c,2),s=r[0],u=r[1],m=Object(l.z)(!1),p=P()(m,2),v=p[0],g=p[1],b=Object(l.v)((function(){return{drag:!1,drop:function(e,t,n,a){return a.optionType===f.ComponentConfig},onDrop:function(e,n){return T()(D.a.mark((function e(){var c,r,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.data,u(!1),r=Nn(c),a.push(r),o=t.componentTypes[r.path]=c.component.type,g(!0),e.next=8,Cn(o);case 8:g(!1),jn(t);case 10:case"end":return e.stop()}}),e)})))()},onDropEnter:function(){u(!0,!1)},onDropLeave:function(){u(!1)}}}),[a]),E=function(){return o.a.createElement("div",{className:Object(i.c)("design-import-item-wrapper")},o.a.createElement(d.g,{spinning:v,iconSize:60},o.a.createElement(d.b,{options:b},o.a.createElement("ul",null,a.map((function(e,n){return o.a.createElement("li",{key:n},o.a.createElement("div",{title:e.path,className:Object(i.c)("design-import-path")},e.path),o.a.createElement("div",{className:Object(i.c)("design-import-remove")},o.a.createElement(ln.a,{onClick:function(){var n=a.indexOf(e);n>=0&&(a.splice(n,1),jn(t))}})),o.a.createElement("div",null,o.a.createElement(me,{text:e.name,onChange:function(n){e.name=String(n),jn(t)}})))}))))))};return o.a.createElement(It,{expand:!0,className:"".concat(Object(i.c)("design-import-setting")," ").concat(s?Object(i.c)("design-import-setting-drop-active"):""),title:o.a.createElement(et,{lid:"design.context.importResource"},"导入资源")},E)}));Sn.displayName=Object(i.d)("ImportSetting");var wn=Sn,kn=(n(94),b.g.refreshLifetime),Pn=Object(l.g)((function(e){var t=e.rootNode,n=t.activeNode,a=Object(l.v)((function(){return{syncElementResize:!0,cursorOverlay:!0,modes:["Bottom"]}}),[]);if(!n)return null;var c=t.console.script;return o.a.createElement("div",{className:Object(i.c)("design-hooks-setting")},o.a.createElement(d.j,{options:a},o.a.createElement("div",{className:"".concat(Object(i.c)("editor-wrapper")," ").concat(Object(i.c)("height-transition"))},o.a.createElement(Kt,{value:n.hooksScript,compileOptions:{console:c},disabledRadio:!0,onSaved:function(){kn(n)}}))))})),zn=(n(95),Object(l.g)((function(e){var t=e.rootNode,n=t.activeNode;if(!n)return null;var a=t.componentTypes[n.path],c=n.caption||n.name;return o.a.createElement("div",{className:Object(i.d)("design-node-info")},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("label",null,o.a.createElement(et,{lid:"design.nodeInfo.id"},"节点ID"),"："),o.a.createElement("div",null,n.renderId)),o.a.createElement("li",null,o.a.createElement("label",null,o.a.createElement(et,{lid:"design.nodeInfo.name"},"节点名称"),"："),o.a.createElement("div",null,o.a.createElement(me,{text:c,onChange:function(e){n.caption=e}}))),o.a.createElement("li",null,o.a.createElement("label",null,o.a.createElement(et,{lid:"design.nodeInfo.compType"},"组件类型"),"："),o.a.createElement("span",null,a.type)),a.domain?o.a.createElement("li",null,o.a.createElement("label",null,o.a.createElement(et,{lid:"design.nodeInfo.pkgName"},"组件包名"),"："),o.a.createElement("span",null,a.namespace)):null,o.a.createElement("li",null,o.a.createElement("label",null,o.a.createElement(et,{lid:"design.nodeInfo.compName"},"组件名称"),"："),o.a.createElement("span",null,a.module)),a.version?o.a.createElement("li",null,o.a.createElement("label",null,o.a.createElement(et,{lid:"design.nodeInfo.compVersion"},"组件版本"),"："),o.a.createElement("span",null,a.version)):null))})));zn.displayName=Object(i.d)("ComponentSource");var Hn=zn,Ln=(n(96),n(97),n(804)),Tn=b.b.getScriptValue,Mn=b.b.setScriptValue,Dn=et({lid:"design.dataCollect.renderFunc.tips",default:"/**\n * 自定义函数渲染脚本\n * @param name 对应字段名称\n * @param element 原始组件元素\n * @param errorInfo 错误信息，\n    验证失败后为对应的规则消息名称\n */\n  module.exports = \n  function(name,element,errorInfo){\n    return element;\n  }\n"}),Vn=[{caption:o.a.createElement(et,{lid:"design.dataCollect.enableStatus"},"启用状态"),renderType:"Boolean",name:"enabled",help:o.a.createElement(et,{lid:"design.dataCollect.enableStatus.tips"},"启用后才会进行数据收集和验证")},{caption:o.a.createElement(et,{lid:"design.dataCollect.groupName"},"分组名称"),placeholder:et({lid:"design.dataCollect.groupName.placeholder",default:"请输入校验器分组名称"}),renderType:"String",name:"group"},{caption:o.a.createElement(et,{lid:"design.dataCollect.fieldName"},"字段名称"),placeholder:et({lid:"design.dataCollect.fieldName.placeholder",default:"请输入字段名称，默认为节点ID"}),renderType:"String",name:"name"},{caption:o.a.createElement(et,{lid:"design.dataCollect.containerWrapper"},"容器包裹"),renderType:"Boolean",default:!0,help:et({lid:"design.dataCollect.containerWrapper.tips",default:"是否用对原始组件进行包裹，默认会对组件用div进行包裹，并添加异常提示元素"}),name:"wrapper"},{caption:o.a.createElement(et,{lid:"design.dataCollect.nameParse"},"名称解析"),renderType:"Boolean",default:!0,help:o.a.createElement(et,{lid:"design.dataCollect.nameParse.tips"},"是否对如a.b.c等格式名称按层次结构生成数据结构"),name:"parseName"},{caption:o.a.createElement(et,{lid:"design.dataCollect.valueProp"},"取值名称"),placeholder:et({lid:"design.dataCollect.valueProp.placeholder",default:"请输入值对应属性名称，默认为value"}),renderType:"String",name:"valuePropName"},{caption:o.a.createElement(et,{lid:"design.dataCollect.changeProp"},"事件名称"),placeholder:et({lid:"design.dataCollect.changeProp.placeholder",default:"请输入事件名称，默认为onChange"}),renderType:"String",name:"changeTrigger"},{caption:o.a.createElement(et,{lid:"design.dataCollect.renderFunc"},"渲染函数"),renderType:"Script",help:o.a.createElement("div",{className:Object(i.c)("collect-tooltip-pre")},Dn),name:"render"}],An={syncElementResize:!0,cursorOverlay:!0,modes:["Bottom"]};function In(e,t,n){var a=n.getPopupContainer;return o.a.createElement(d.d.H,{width:80,hAlign:"right"},t.help?o.a.createElement(vt,{arrow:!0,mouseEnterDelay:.6,placement:"right",title:o.a.createElement("span",{className:Object(i.c)("collect-help-text")},t.help),getPopupContainer:a},o.a.createElement(Ln.a,{className:Object(i.c)("collect-help-icon")})):null,t.caption,"：")}var Bn={Boolean:function(e,t,n){n.getPopupContainer;var a=t.name,c=t.default?!1!==e[a]:!!e[a];return o.a.createElement(d.c.H,{key:a,vAlign:"center",className:Object(i.c)("collect-option-row")},In.apply(null,arguments),o.a.createElement(d.d.H,{style:{overflow:"hidden"}},o.a.createElement(ot,{className:Object(i.c)("collect-checkbox"),value:c,onChange:function(){e[a]=!c}},o.a.createElement(et,{lid:"design.dataCollect.yes"},"是"))))},String:function(e,t){var n=t.name,a=t.placeholder;return o.a.createElement(d.c.H,{key:n,vAlign:"center",className:Object(i.c)("collect-option-row")},In.apply(null,arguments),o.a.createElement(d.d.H,null,o.a.createElement(at,{size:"small",placeholder:a,value:e[n],onChange:function(t){l.c.applySync((function(){e[n]=t.target.value}))}})))},Script:function(e,t){var n=t.name;return o.a.createElement(d.c.H,{key:n,vAlign:"center",className:Object(i.c)("collect-option-row")},In.apply(null,arguments),o.a.createElement(d.j,{options:An},o.a.createElement(d.d.H,{height:120},o.a.createElement(de,{value:Tn(e,n),onChange:function(t){l.c.applySync((function(){Mn(e,n,t)}))}}))))}},Rn=Object(l.g)((function(e){var t=e.config,n=Object(l.y)(),a=Object(l.q)((function(){return n.current}),[n]),c=Vn.slice(0,3),r=Vn.slice(3);return o.a.createElement("div",{ref:n,className:Object(i.c)("collect-config-items")},c.map((function(e){return Bn[e.renderType](t,e,{getPopupContainer:a})})),o.a.createElement(It,{title:o.a.createElement(et,{lid:"design.dataCollect.moreOption"},"更多选项"),type:"simple"},r.map((function(e){return Bn[e.renderType](t,e,{getPopupContainer:a})}))))}));Rn.displayName=Object(i.d)("ConfigItems");var qn=Rn,Fn=(n(98),b.b.getScriptValue),Jn=b.b.setScriptValue,Kn={syncElementResize:!0,cursorOverlay:!0,modes:["Bottom"]},Gn=[{name:et({lid:"design.dataCollect.ruleSetting.required",default:"必选"}),value:"required"},{name:et({lid:"design.dataCollect.ruleSetting.min",default:"最少字符"}),value:"min"},{name:et({lid:"design.dataCollect.ruleSetting.max",default:"最多字符"}),value:"max"},{name:et({lid:"design.dataCollect.ruleSetting.regexp",default:"正则"}),value:"regexp"},{name:et({lid:"design.dataCollect.ruleSetting.func",default:"函数"}),value:"fn"}];var Zn=Object(l.g)((function(e){var t=e.config.rules,n=Object(l.y)(),a=Object(l.z)(!1),c=P()(a,2),r=c[0],s=c[1],u=Object(l.q)((function(){return n.current}),[n]),m=function(e,n){return o.a.createElement("div",{className:Object(i.c)("collect-rule-item-wrapper"),key:n},o.a.createElement(d.c.H,{vAlign:"center",className:Object(i.c)("collect-option-row")},o.a.createElement(d.d.H,{width:120,hAlign:"right"},o.a.createElement(st,{className:Object(i.c)("collect-select"),size:"small",getPopupContainer:u,value:e.type,onChange:function(t){e.type=t,e.value=""}},Gn.map((function(e){return o.a.createElement(st.Option,{value:e.value,key:e.value},e.name)})))),o.a.createElement(d.d.H,{className:Object(i.c)("collect-input-wrapper")},function(e){var t=e.type;if("required"===t){var n=!!e.value;return o.a.createElement(ot,{className:Object(i.c)("collect-checkbox"),value:n,onChange:function(){e.value=!n}},o.a.createElement(et,{lid:"design.dataCollect.ruleSetting.requiredValue"},"必填"))}return["min","max"].indexOf(t)>=0?o.a.createElement(at,{size:"small",placeholder:et({lid:"design.dataCollect.inputPlaceholder",default:"请输入"}),value:e.value,onChange:function(t){l.c.applySync((function(){e.value=t.target.value}))}}):"regexp"===t?o.a.createElement(at,{size:"small",value:e.value,placeholder:et({lid:"design.dataCollect.ruleSetting.regexp.placeholder",default:"请输入正则字符串"}),onChange:function(t){l.c.applySync((function(){e.value=t.target.value}))}}):"fn"===t?o.a.createElement(d.j,{options:Kn},o.a.createElement(de,{style:{height:120},value:Fn(e,"value"),onChange:function(t){l.c.applySync((function(){Jn(e,"value",t)}))}})):null}(e)),o.a.createElement(d.d.H,{width:30,hAlign:"center"},o.a.createElement(ln.a,{onClick:function(){var n=t.indexOf(e);n>=0&&t.splice(n,1)}}))),o.a.createElement(d.c.H,{vAlign:"center",className:Object(i.c)("collect-option-row")},o.a.createElement(at,{size:"small",placeholder:et({lid:"design.dataCollect.ruleSetting.messagePlaceholder",default:"请输入提示信息"}),value:e.message,onChange:function(t){l.c.applySync((function(){e.message=t.target.value}))}})))};return o.a.createElement("div",{ref:n,className:Object(i.c)("collect-rules-collapse-wrapper")},o.a.createElement(It,{className:Object(i.c)("collect-rules-collapse"),expand:r,onExpandChange:function(e){s(e)},title:o.a.createElement("div",{className:Object(i.c)("collect-rule-opt")},o.a.createElement(rn.a,{className:Object(i.c)("collect-add-rule"),onClick:function(e){e.stopPropagation(),t.push({type:"required",value:!0,message:""}),r||s(!0)}})," ",o.a.createElement(et,{lid:"design.dataCollect.ruleSetting"},"规则配置"))},o.a.createElement("div",{className:Object(i.c)("collect-rules-wrapper")},t.map((function(e,t){return m(e,t)})))))}));Zn.displayName=Object(i.d)("CollectDataRules");var Wn=Zn,_n=n(805),Un=b.b.syncRuntimeCollectConfig,Xn=Object(l.g)((function(e){var t=Object(l.y)(),n=e.rootNode.activeNode,a=Object(l.q)((function(){return t.current}),[t]);Object(l.u)((function(){n.collectConfig||(n.collectConfig={rules:[]})}),[n]);var c=n.collectConfig;return c?o.a.createElement("div",{ref:t,className:Object(i.c)("design-collect-option")},o.a.createElement(l.b,{dep:[]},(function(){var e=Object(l.z)(!1),t=P()(e,2),c=t[0],r=t[1];return o.a.createElement(vt,{placement:"right",mouseEnterDelay:.6,title:o.a.createElement("span",{className:Object(i.c)("collect-tooltip-text")},o.a.createElement(et,{lid:"design.dataCollect.sync"},"同步")),getPopupContainer:a},o.a.createElement(_n.a,{className:"".concat(Object(i.c)("design-collect-sync-icon")," ").concat(c?Object(i.c)("design-collect-sync-icon-loading"):""),onClick:T()(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,Un(n);case 3:r(!1);case 4:case"end":return e.stop()}}),e)})))}))})),o.a.createElement(qn,{config:c}),o.a.createElement(Wn,{config:c})):null}));Xn.displayName=Object(i.d)("CollectOption");var Yn=Xn,Qn=b.g.getNodeHooks;var $n,ea,ta=($n=[],ea=[{name:o.a.createElement(et,{lid:"design.context.setting"},"上下文设置"),key:"ContextSetting",render:function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(wn,{rootNode:t}),o.a.createElement(Xt,{rootNode:t}))}},{name:o.a.createElement(et,{lid:"design.nodeInfo"},"节点信息"),key:"ComponentInfo",render:function(e,t){return o.a.createElement(Hn,{rootNode:t})}},{name:o.a.createElement(et,{lid:"design.node.hooksScript"},"Hooks脚本"),key:"NodeHooksScript",render:function(e,t){return o.a.createElement(Pn,{rootNode:t})}},{name:o.a.createElement(et,{lid:"design.propertyEdit"},"属性编辑"),key:"PropertyEditor",render:function(e,t){return o.a.createElement(bn,{rootNode:t})}},{name:o.a.createElement(et,{lid:"design.generator"},"生成器"),key:"RenderGenerator",render:function(e,t){return t.activeNode&&t.activeNode!==t?o.a.createElement(yn,{rootNode:t}):null}},{name:o.a.createElement(et,{lid:"design.styleSetting"},"样式设置"),key:"CSSEditor",render:function(e,t){return o.a.createElement(On,{rootNode:t})}},{name:o.a.createElement(et,{lid:"design.dataCollect"},"数据收集"),key:"CollectOption",render:function(e,t){return o.a.createElement(Yn,{rootNode:t})}}],{reset:function(){$n=[].concat(ea)},config:{addItem:function(e){if(e){var t=e.name,n=e.key,a=e.render;$n.push({name:t,key:n,render:a})}}},beforeRender:function(){},renderItems:function(e){return function(e,t){return t.map((function(t){var n=t.name,a=t.key,c=void 0===a?n:a,r=t.render,l="function"==typeof r?r(e.activeNode,e):null;return l?o.a.createElement(Y.Panel,{key:c,header:n},l):null}))}(e,$n)}}),na=Object(l.g)((function(e){var t=e.designEngine.rootNode;ta.reset(),function(e,t){var n=t.activeNode;if(!n)return[];var c,r=Qn(n,"PropertyPanel");r&&(c=r.fn)&&Object(l.n)(c,[n,e,{components:a}])}(ta.config,t);var n=o.a.createElement("div",null,o.a.createElement(et,{lid:"design.propertyPanel"},"属性面板"));ta.beforeRender();var c=ta.renderItems(t);return o.a.createElement(ye,{title:n,className:Object(i.c)("i-design","prop-editor")},o.a.createElement(Y,{bordered:!1,defaultActiveKey:["PropertyEditor"]},c))}));na.displayName=Object(i.d)("RightPanel");var aa=na,ca=(n(99),Object(l.g)((function(){return o.a.createElement("div",{className:Object(i.c)("running-state-terminal")})})));ca.displayName=Object(i.d)("RunningStateTerminal");var ra=ca,oa=(n(100),[{name:"script",consoleKey:"js",caption:et({lid:"design.console.script",default:"脚本"})},{name:"style",caption:et({lid:"design.console.style",default:"样式"})}]);var la=Object(l.g)((function(e){var t=e.rootNode.console,n=Object(l.z)(function(e){var t=0;return oa.some((function(n,a){var c=e[n.name].errors;if(c&&c.length>0)return t=a,!0})),oa[t]}(t)),a=P()(n,2),c=a[0],r=a[1];return o.a.createElement(d.c.V,{className:Object(i.c)("running-state-error")},o.a.createElement(d.d.V,{className:Object(i.c)("running-state-body")},c?t[c.name].errors.map((function(e){return o.a.createElement("pre",{key:e.id},e.data.message)})):null),o.a.createElement(d.d.V,{height:24,vAlign:"center",className:Object(i.c)("running-state-tabs")},oa.map((function(e){return o.a.createElement("div",{key:e.name,className:"".concat(Object(i.c)("running-state-tab")," ").concat(c===e?Object(i.c)("running-state-tab-active"):""),onClick:function(){r(e)}},o.a.createElement("div",null,e.caption))}))))}));la.displayName=Object(i.d)("RunningStateError");var ia=la,da={left:{activeTab:"Components",items:[{key:"Components",items:[{key:"Components"},{key:"RenderNodes"}]}]},bottom:{items:[{key:"Terminal",items:[{key:"Terminal"}]},{key:"ConsoleErrors",items:[{key:"ConsoleErrors"}]}]},right:{activeTab:"Property",items:[{key:"Property",items:[{key:"Property"}]}]}},sa=function(e){var t=e.designEngine,n=e.componentConfig;return{Components:{title:o.a.createElement(et,{lid:"design.components.headerTitle"},"组件列表"),menu:o.a.createElement(A,{type:"assets"}),element:o.a.createElement(Ct,{config:n})},RenderNodes:{title:o.a.createElement("div",{className:Object(i.c)("render-nodes-header")},o.a.createElement("span",null,o.a.createElement(et,{lid:"design.dom.headerTitle"},"节点")),o.a.createElement(A,{type:"clear",onClick:function(){var e;(e=t.rootNode).children=[],tt(e)}})),menu:o.a.createElement(A,{type:"node-tree"}),element:o.a.createElement(Mt,{designEngine:t})},Terminal:{title:o.a.createElement(et,{lid:"design.console.terminal"},"终端"),menu:o.a.createElement(A,{type:"terminal"}),element:o.a.createElement(ra,null)},ConsoleErrors:{title:o.a.createElement(et,{lid:"design.console.error"},"错误"),menu:o.a.createElement(A,{type:"error"}),element:o.a.createElement(ia,{rootNode:t.rootNode})},Property:{title:o.a.createElement(et,{lid:"design.control.prop"},"属性"),menu:o.a.createElement(A,{type:"prop"}),element:o.a.createElement(aa,{designEngine:t})}}},ua=Object(l.g)((function(e){var t=e.designEngine;return o.a.createElement("div",{className:Object(i.c)("i-design","canvas")},o.a.createElement(_e,{designEngine:t}))}));ua.displayName=Object(i.d)("DesignCanvasLayout");var ma=Object(l.g)((function(e){return o.a.createElement(Ue.a,{prefixCls:i.b,iconPrefixCls:i.a},e.children())})),pa=Object(l.g)((function(e){var t=e.componentConfig,n=e.designId,a=void 0===n?"default":n,c=e.json,r=e.className;je();var s=Object(l.v)((function(){return Se.create({datasource:Se.createDatasourceById(a,c)})}),[a,c]);Ke(s);var u=s.viewSetting,m=Object(l.v)((function(){return e=sa({designEngine:s,componentConfig:t}),{renderHeader:function(t){return e[t.key].title},renderTab:function(t,n){var a=n.tabPosition,c=e[t.key];return"Vertical"===a&&c.menu||c.title},renderContent:function(t){return e[t.key].element}};var e}),[s,t]);return o.a.createElement("div",{className:"".concat(Object(i.c)("i-design")," \n      ").concat(Object(i.c)("i-design","design-mode")," \n      ").concat(u.fullscreen?Object(i.c)("i-design","fullscreen"):"","\n      ").concat(r||"","\n    ")},o.a.createElement(d.f,{initialValue:da,renderOptions:m},o.a.createElement(ua,{designEngine:s})))}));pa.displayName=Object(i.d)("CodeDesign");var va=function(e){return o.a.createElement(ma,null,(function(){return o.a.createElement(pa,e)}))},ga=(n(38),n(254));t.default=Object(l.g)((function(e){return o.a.createElement("div",{className:"application"},o.a.createElement(c.Default,{componentConfig:ga.a}))}))}}]);